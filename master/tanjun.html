<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 10.0.1"/>
    <title>tanjun API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}td.linenos pre{color:#ff5555;background-color:#282a36;padding-left:5px;padding-right:5px;}span.linenos{color:#ff5555;background-color:#282a36;padding-left:5px;padding-right:5px;}td.linenos pre.special{color:#ff5555;background-color:#ffffc0;padding-left:5px;padding-right:5px;}span.linenos.special{color:#ff5555;background-color:#ffffc0;padding-left:5px;padding-right:5px;}.pdoc .hll{background-color:#282a36;}.pdoc{background:#282a36;color:#ff5555;}.pdoc .c{color:#6a7aaa;}.pdoc .err{color:#ff5555;background-color:#1e0010;}.pdoc .k{color:#ff79c6;}.pdoc .l{color:#ae81ff;}.pdoc .n{color:#f8f8f2;}.pdoc .o{color:#ff79c6;}.pdoc .p{color:#f8f8f2;}.pdoc .ch{color:#6a7aaa;}.pdoc .cm{color:#6a7aaa;}.pdoc .cp{color:#6a7aaa;}.pdoc .cpf{color:#6a7aaa;}.pdoc .c1{color:#6a7aaa;}.pdoc .cs{color:#6a7aaa;}.pdoc .gd{color:#6a7aaa;}.pdoc .ge{font-style:italic;}.pdoc .gi{color:#a6e22e;}.pdoc .go{color:#ff79c6;}.pdoc .gp{color:#f92672;font-weight:bold;}.pdoc .gs{font-weight:bold;}.pdoc .gu{color:#75715e;}.pdoc .kc{color:#ff79c6;}.pdoc .kd{color:#bd93f9;}.pdoc .kn{color:#ff79c6;}.pdoc .kp{color:#bd93f9;}.pdoc .kr{color:#ff79c6;}.pdoc .kt{color:#ff79c6;}.pdoc .ld{color:#e6db74;}.pdoc .m{color:#ae81ff;}.pdoc .s{color:#e6db74;}.pdoc .na{color:#a6e22e;}.pdoc .nb{color:#8be9fd;}.pdoc .nc{color:#8be9fd;}.pdoc .no{color:#ff79c6;}.pdoc .nd{color:#8be9fd;}.pdoc .ni{color:#ff79c6;}.pdoc .ne{color:#8be9fd;}.pdoc .nf{color:#50fa7b;}.pdoc .nl{color:#f8f8f2;}.pdoc .nn{color:#f8f8f2;}.pdoc .nx{color:#a6e22e;}.pdoc .py{color:#f8f8f2;}.pdoc .nt{color:#f92672;}.pdoc .nv{color:#f8f8f2;}.pdoc .ow{color:#ff79c6;}.pdoc .w{color:#f8f8f2;}.pdoc .mb{color:#ae81ff;}.pdoc .mf{color:#ae81ff;}.pdoc .mh{color:#ae81ff;}.pdoc .mi{color:#ae81ff;}.pdoc .mo{color:#ae81ff;}.pdoc .sa{color:#ff79c6;}.pdoc .sb{color:#e6db74;}.pdoc .sc{color:#e6db74;}.pdoc .dl{color:#e6db74;}.pdoc .sd{color:#6272a4;}.pdoc .s2{color:#e6db74;}.pdoc .se{color:#ae81ff;}.pdoc .sh{color:#e6db74;}.pdoc .si{color:#bd93f9;}.pdoc .sx{color:#e6db74;}.pdoc .sr{color:#e6db74;}.pdoc .s1{color:#e6db74;}.pdoc .ss{color:#e6db74;}.pdoc .bp{color:#bd93f9;}.pdoc .fm{color:#bd93f9;}.pdoc .vc{color:#bd93f9;}.pdoc .vg{color:#f8f8f2;}.pdoc .vi{color:#ffffff;}.pdoc .vm{color:#bd93f9;}.pdoc .il{color:#ae81ff;}.pdoc .nd{color:#50fa7b;}*{font-family:SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}.pdoc .classattr{color:#fff;}.pdoc p{color:#fff;font-weight:300;}.pdoc .modulename{color:#fff;font-weight:0;margin:0.3em 0;padding:0.2em 0;}.pdoc h5{color:white;font-style:italic;}nav.pdoc a.function{color:#4dec75;}nav.pdoc a.variable{color:white;}nav.pdoc a.class{color:#8be9fd;}nav.pdoc a.class:hover{color:#fff;}nav.pdoc li a{color:#bd93f9;}.pdoc span.default_value{color:#e6db74;}.pdoc .attr{color:white;}.pdoc h6#attributes{color:#fff;font-size:23px;}.pdoc h6#example{color:#fff;font-size:29px;}.pdoc h6#examples{color:#fff;font-size:29px;}.pdoc h6#notes{font-size:23px;color:orange;}.pdoc h6#warnings{font-size:23px;color:orange;}.pdoc h6#returns{font-size:23px;color:white;}.pdoc h6#parameters{font-size:23px;color:white;}.pdoc h6#other-parameters{font-size:23px;color:white;}.pdoc h6#raises{font-size:23px;color:#ff6666;}.pdoc .kc{color:#bd93f9;}.pdoc li{color:white;}.pdoc div.decorator{color:#50fa7b;}.pdoc strong,b{color:rgb(244, 90, 177);font-weight:normal;}.pdoc em{color:orange;}.pdoc span.name{color:#8be9fd;}.pdoc span.base{color:#8be9fd;}.pdoc span.def{font-weight:normal;}.pdoc .inherited dt,.pdoc .inherited dt::before{color:#8be9fd;}.pdoc .inherited dd,.pdoc .inherited dd{color:#fff;}.pdoc .inherited dd:not(:last-child)::after{color:#fff;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;margin-bottom:1rem;color:white;border-color:white;}nav.pdoc .module-list-button:hover{border-color:white;color:white;}.pdoc h1,.pdoc h2,.pdoc h3{font-weight:300;margin:0.3em 0;padding:0.2em 0;color:white;}</style>:root{--pdoc-background:#272935;}.pdoc{--text:white;--muted:#9d9d9d;--link:#bd93f9;--link-hover:white;--active:#555;--code:#232627;--accent:#232627;--accent2:#FFF;--nav-hover:rgba(0, 0, 0, 0.1);--name:#50fa7b;--def:rgb(244, 90, 177);--annotation:white;}
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{filter:opacity(1);}.pdoc details:not([open]){height:0;}.pdoc details > summary{position:absolute;top:-35px;right:0;font-size:.75rem;color:var(--muted);padding:0 .7em;user-select:none;cursor:pointer;}.pdoc details > summary:focus{outline:0;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:2.5rem;}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;user-select:none;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:.5rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>


        <h2>Submodules</h2>
        <ul>
                <li><a href="tanjun/abc.html">tanjun.abc</a></li>
                <li><a href="tanjun/checks.html">tanjun.checks</a></li>
                <li><a href="tanjun/clients.html">tanjun.clients</a></li>
                <li><a href="tanjun/commands.html">tanjun.commands</a></li>
                <li><a href="tanjun/components.html">tanjun.components</a></li>
                <li><a href="tanjun/context.html">tanjun.context</a></li>
                <li><a href="tanjun/conversion.html">tanjun.conversion</a></li>
                <li><a href="tanjun/dependencies.html">tanjun.dependencies</a></li>
                <li><a href="tanjun/errors.html">tanjun.errors</a></li>
                <li><a href="tanjun/hooks.html">tanjun.hooks</a></li>
                <li><a href="tanjun/injecting.html">tanjun.injecting</a></li>
                <li><a href="tanjun/parsing.html">tanjun.parsing</a></li>
                <li><a href="tanjun/schedules.html">tanjun.schedules</a></li>
                <li><a href="tanjun/utilities.html">tanjun.utilities</a></li>
        </ul>

        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="variable" href="#AnyHooks">AnyHooks</a>
            </li>
            <li>
                    <a class="class" href="#BucketResource">BucketResource</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#BucketResource.USER">USER</a>
                        </li>
                        <li>
                                <a class="variable" href="#BucketResource.MEMBER">MEMBER</a>
                        </li>
                        <li>
                                <a class="variable" href="#BucketResource.CHANNEL">CHANNEL</a>
                        </li>
                        <li>
                                <a class="variable" href="#BucketResource.PARENT_CHANNEL">PARENT_CHANNEL</a>
                        </li>
                        <li>
                                <a class="variable" href="#BucketResource.TOP_ROLE">TOP_ROLE</a>
                        </li>
                        <li>
                                <a class="variable" href="#BucketResource.GUILD">GUILD</a>
                        </li>
                        <li>
                                <a class="variable" href="#BucketResource.GLOBAL">GLOBAL</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Client">Client</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Client.__init__">Client</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.from_gateway_bot">from_gateway_bot</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.from_rest_bot">from_rest_bot</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.defaults_to_ephemeral">defaults_to_ephemeral</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.message_accepts">message_accepts</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.is_human_only">is_human_only</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.cache">cache</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.checks">checks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.components">components</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.events">events</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.listeners">listeners</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.is_alive">is_alive</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.loop">loop</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.hooks">hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.menu_hooks">menu_hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.message_hooks">message_hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.slash_hooks">slash_hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.metadata">metadata</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.prefix_getter">prefix_getter</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.prefixes">prefixes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.rest">rest</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.server">server</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.shards">shards</a>
                        </li>
                        <li>
                                <a class="variable" href="#Client.voice">voice</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.clear_application_commands">clear_application_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_global_commands">set_global_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.declare_global_commands">declare_global_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.declare_application_command">declare_application_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.declare_application_commands">declare_application_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_auto_defer_after">set_auto_defer_after</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_ephemeral_default">set_ephemeral_default</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_hikari_trait_injectors">set_hikari_trait_injectors</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_interaction_not_found">set_interaction_not_found</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_menu_not_found">set_menu_not_found</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_slash_not_found">set_slash_not_found</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_message_accepts">set_message_accepts</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_autocomplete_ctx_maker">set_autocomplete_ctx_maker</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_menu_ctx_maker">set_menu_ctx_maker</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_message_ctx_maker">set_message_ctx_maker</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_metadata">set_metadata</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_slash_ctx_maker">set_slash_ctx_maker</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_human_only">set_human_only</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.add_check">add_check</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.remove_check">remove_check</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.with_check">with_check</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.check">check</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.add_component">add_component</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.get_component_by_name">get_component_by_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.remove_component">remove_component</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.remove_component_by_name">remove_component_by_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.add_client_callback">add_client_callback</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.dispatch_client_callback">dispatch_client_callback</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.get_client_callbacks">get_client_callbacks</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.remove_client_callback">remove_client_callback</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.with_client_callback">with_client_callback</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.add_listener">add_listener</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.remove_listener">remove_listener</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.with_listener">with_listener</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.add_prefix">add_prefix</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.remove_prefix">remove_prefix</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_prefix_getter">set_prefix_getter</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.with_prefix_getter">with_prefix_getter</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.iter_commands">iter_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.iter_menu_commands">iter_menu_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.iter_message_commands">iter_message_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.iter_slash_commands">iter_slash_commands</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.check_message_name">check_message_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.check_slash_name">check_slash_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.open">open</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.fetch_rest_application_id">fetch_rest_application_id</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_hooks">set_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_menu_hooks">set_menu_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_slash_hooks">set_slash_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.set_message_hooks">set_message_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.load_modules">load_modules</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.load_modules_async">load_modules_async</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.unload_modules">unload_modules</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.reload_modules">reload_modules</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.reload_modules_async">reload_modules_async</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.on_message_create_event">on_message_create_event</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.on_gateway_autocomplete_create">on_gateway_autocomplete_create</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.on_gateway_command_create">on_gateway_command_create</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.on_interaction_create_event">on_interaction_create_event</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.on_autocomplete_interaction_request">on_autocomplete_interaction_request</a>
                        </li>
                        <li>
                                <a class="function" href="#Client.on_command_interaction_request">on_command_interaction_request</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ClientCallbackNames">ClientCallbackNames</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#ClientCallbackNames.CLOSED">CLOSED</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.CLOSING">CLOSING</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.COMPONENT_ADDED">COMPONENT_ADDED</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.COMPONENT_REMOVED">COMPONENT_REMOVED</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.MENU_COMMAND_NOT_FOUND">MENU_COMMAND_NOT_FOUND</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.MESSAGE_COMMAND_NOT_FOUND">MESSAGE_COMMAND_NOT_FOUND</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.SLASH_COMMAND_NOT_FOUND">SLASH_COMMAND_NOT_FOUND</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.STARTED">STARTED</a>
                        </li>
                        <li>
                                <a class="variable" href="#ClientCallbackNames.STARTING">STARTING</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CommandError">CommandError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CommandError.__init__">CommandError</a>
                        </li>
                        <li>
                                <a class="variable" href="#CommandError.message">message</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Component">Component</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Component.__init__">Component</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.checks">checks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.client">client</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.defaults_to_ephemeral">defaults_to_ephemeral</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.hooks">hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.menu_hooks">menu_hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.message_hooks">message_hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.slash_hooks">slash_hooks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.loop">loop</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.schedules">schedules</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.slash_commands">slash_commands</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.menu_commands">menu_commands</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.message_commands">message_commands</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.needs_injector">needs_injector</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.listeners">listeners</a>
                        </li>
                        <li>
                                <a class="variable" href="#Component.metadata">metadata</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.load_from_scope">load_from_scope</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.set_ephemeral_default">set_ephemeral_default</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.set_metadata">set_metadata</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.set_hooks">set_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.set_menu_hooks">set_menu_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.set_message_hooks">set_message_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.set_slash_hooks">set_slash_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_check">add_check</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_check">remove_check</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_check">with_check</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_client_callback">add_client_callback</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.get_client_callbacks">get_client_callbacks</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_client_callback">remove_client_callback</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_client_callback">with_client_callback</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_command">add_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_command">remove_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_command">with_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_menu_command">add_menu_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_menu_command">remove_menu_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_menu_command">with_menu_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_slash_command">add_slash_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_slash_command">remove_slash_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_slash_command">with_slash_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_message_command">add_message_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_message_command">remove_message_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_message_command">with_message_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_listener">add_listener</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_listener">remove_listener</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_listener">with_listener</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_on_close">add_on_close</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_on_close">with_on_close</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_on_open">add_on_open</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_on_open">with_on_open</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.bind_client">bind_client</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.unbind_client">unbind_client</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.check_message_name">check_message_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.check_slash_name">check_slash_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.execute_autocomplete">execute_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.execute_menu">execute_menu</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.execute_slash">execute_slash</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.execute_message">execute_message</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.add_schedule">add_schedule</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.remove_schedule">remove_schedule</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.with_schedule">with_schedule</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.open">open</a>
                        </li>
                        <li>
                                <a class="function" href="#Component.make_loader">make_loader</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ConversionError">ConversionError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ConversionError.__init__">ConversionError</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConversionError.errors">errors</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConversionError.parameter">parameter</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FailedCheck">FailedCheck</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#FailedModuleLoad">FailedModuleLoad</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#FailedModuleUnload">FailedModuleUnload</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#HaltExecution">HaltExecution</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Hooks">Hooks</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Hooks.__init__">Hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.add_to_command">add_to_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.add_on_error">add_on_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.set_on_error">set_on_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.with_on_error">with_on_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.add_on_parser_error">add_on_parser_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.set_on_parser_error">set_on_parser_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.with_on_parser_error">with_on_parser_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.add_post_execution">add_post_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.set_post_execution">set_post_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.with_post_execution">with_post_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.add_pre_execution">add_pre_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.set_pre_execution">set_pre_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.with_pre_execution">with_pre_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.add_on_success">add_on_success</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.set_on_success">set_on_success</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.with_on_success">with_on_success</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.trigger_error">trigger_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.trigger_post_execution">trigger_post_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.trigger_pre_execution">trigger_pre_execution</a>
                        </li>
                        <li>
                                <a class="function" href="#Hooks.trigger_success">trigger_success</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#InMemoryConcurrencyLimiter">InMemoryConcurrencyLimiter</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.__init__">InMemoryConcurrencyLimiter</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.add_to_client">add_to_client</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.open">open</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.try_acquire">try_acquire</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.release">release</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.disable_bucket">disable_bucket</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryConcurrencyLimiter.set_bucket">set_bucket</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#InMemoryCooldownManager">InMemoryCooldownManager</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.__init__">InMemoryCooldownManager</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.add_to_client">add_to_client</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.check_cooldown">check_cooldown</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.increment_cooldown">increment_cooldown</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.open">open</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.disable_bucket">disable_bucket</a>
                        </li>
                        <li>
                                <a class="function" href="#InMemoryCooldownManager.set_bucket">set_bucket</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LazyConstant">LazyConstant</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LazyConstant.__init__">LazyConstant</a>
                        </li>
                        <li>
                                <a class="variable" href="#LazyConstant.callback">callback</a>
                        </li>
                        <li>
                                <a class="function" href="#LazyConstant.get_value">get_value</a>
                        </li>
                        <li>
                                <a class="function" href="#LazyConstant.reset">reset</a>
                        </li>
                        <li>
                                <a class="function" href="#LazyConstant.set_value">set_value</a>
                        </li>
                        <li>
                                <a class="function" href="#LazyConstant.acquire">acquire</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MenuCommand">MenuCommand</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MenuCommand.__init__">MenuCommand</a>
                        </li>
                        <li>
                                <a class="variable" href="#MenuCommand.callback">callback</a>
                        </li>
                        <li>
                                <a class="variable" href="#MenuCommand.defaults_to_ephemeral">defaults_to_ephemeral</a>
                        </li>
                        <li>
                                <a class="variable" href="#MenuCommand.is_global">is_global</a>
                        </li>
                        <li>
                                <a class="variable" href="#MenuCommand.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#MenuCommand.tracked_command">tracked_command</a>
                        </li>
                        <li>
                                <a class="variable" href="#MenuCommand.tracked_command_id">tracked_command_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#MenuCommand.type">type</a>
                        </li>
                        <li>
                                <a class="function" href="#MenuCommand.build">build</a>
                        </li>
                        <li>
                                <a class="function" href="#MenuCommand.set_tracked_command">set_tracked_command</a>
                        </li>
                        <li>
                                <a class="function" href="#MenuCommand.set_ephemeral_default">set_ephemeral_default</a>
                        </li>
                        <li>
                                <a class="function" href="#MenuCommand.check_context">check_context</a>
                        </li>
                        <li>
                                <a class="function" href="#MenuCommand.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#MenuCommand.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#MenuCommand.load_into_component">load_into_component</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MessageAcceptsEnum">MessageAcceptsEnum</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#MessageAcceptsEnum.ALL">ALL</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageAcceptsEnum.DM_ONLY">DM_ONLY</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageAcceptsEnum.GUILD_ONLY">GUILD_ONLY</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageAcceptsEnum.NONE">NONE</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageAcceptsEnum.get_event_type">get_event_type</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MessageCommand">MessageCommand</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MessageCommand.__init__">MessageCommand</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageCommand.callback">callback</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageCommand.names">names</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageCommand.needs_injector">needs_injector</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageCommand.parent">parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageCommand.parser">parser</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.bind_client">bind_client</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.bind_component">bind_component</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.set_parent">set_parent</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.set_parser">set_parser</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.check_context">check_context</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommand.load_into_component">load_into_component</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MessageCommandGroup">MessageCommandGroup</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MessageCommandGroup.__init__">MessageCommandGroup</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageCommandGroup.commands">commands</a>
                        </li>
                        <li>
                                <a class="variable" href="#MessageCommandGroup.is_strict">is_strict</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.add_command">add_command</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.remove_command">remove_command</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.with_command">with_command</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.bind_client">bind_client</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.bind_component">bind_component</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.find_command">find_command</a>
                        </li>
                        <li>
                                <a class="function" href="#MessageCommandGroup.execute">execute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#MessageHooks">MessageHooks</a>
            </li>
            <li>
                    <a class="class" href="#MissingDependencyError">MissingDependencyError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MissingDependencyError.__init__">MissingDependencyError</a>
                        </li>
                        <li>
                                <a class="variable" href="#MissingDependencyError.message">message</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ModuleMissingLoaders">ModuleMissingLoaders</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ModuleMissingLoaders.__init__">ModuleMissingLoaders</a>
                        </li>
                        <li>
                                <a class="variable" href="#ModuleMissingLoaders.message">message</a>
                        </li>
                        <li>
                                <a class="variable" href="#ModuleMissingLoaders.path">path</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ModuleStateConflict">ModuleStateConflict</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ModuleStateConflict.__init__">ModuleStateConflict</a>
                        </li>
                        <li>
                                <a class="variable" href="#ModuleStateConflict.message">message</a>
                        </li>
                        <li>
                                <a class="variable" href="#ModuleStateConflict.path">path</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#NotEnoughArgumentsError">NotEnoughArgumentsError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#NotEnoughArgumentsError.__init__">NotEnoughArgumentsError</a>
                        </li>
                        <li>
                                <a class="variable" href="#NotEnoughArgumentsError.parameter">parameter</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ParserError">ParserError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ParserError.__init__">ParserError</a>
                        </li>
                        <li>
                                <a class="variable" href="#ParserError.message">message</a>
                        </li>
                        <li>
                                <a class="variable" href="#ParserError.parameter">parameter</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ShlexParser">ShlexParser</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ShlexParser.__init__">ShlexParser</a>
                        </li>
                        <li>
                                <a class="variable" href="#ShlexParser.needs_injector">needs_injector</a>
                        </li>
                        <li>
                                <a class="variable" href="#ShlexParser.arguments">arguments</a>
                        </li>
                        <li>
                                <a class="variable" href="#ShlexParser.options">options</a>
                        </li>
                        <li>
                                <a class="function" href="#ShlexParser.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#ShlexParser.add_argument">add_argument</a>
                        </li>
                        <li>
                                <a class="function" href="#ShlexParser.add_option">add_option</a>
                        </li>
                        <li>
                                <a class="function" href="#ShlexParser.bind_client">bind_client</a>
                        </li>
                        <li>
                                <a class="function" href="#ShlexParser.bind_component">bind_component</a>
                        </li>
                        <li>
                                <a class="function" href="#ShlexParser.parse">parse</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SlashCommand">SlashCommand</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SlashCommand.__init__">SlashCommand</a>
                        </li>
                        <li>
                                <a class="variable" href="#SlashCommand.callback">callback</a>
                        </li>
                        <li>
                                <a class="variable" href="#SlashCommand.float_autocompletes">float_autocompletes</a>
                        </li>
                        <li>
                                <a class="variable" href="#SlashCommand.int_autocompletes">int_autocompletes</a>
                        </li>
                        <li>
                                <a class="variable" href="#SlashCommand.str_autocompletes">str_autocompletes</a>
                        </li>
                        <li>
                                <a class="variable" href="#SlashCommand.needs_injector">needs_injector</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.bind_client">bind_client</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.build">build</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.load_into_component">load_into_component</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_str_option">add_str_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_int_option">add_int_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_float_option">add_float_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_bool_option">add_bool_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_user_option">add_user_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_member_option">add_member_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_channel_option">add_channel_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_role_option">add_role_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.add_mentionable_option">add_mentionable_option</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.set_float_autocomplete">set_float_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.with_float_autocomplete">with_float_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.set_int_autocomplete">set_int_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.with_int_autocomplete">with_int_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.set_str_autocomplete">set_str_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.with_str_autocomplete">with_str_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.execute_autocomplete">execute_autocomplete</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommand.copy">copy</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SlashCommandGroup">SlashCommandGroup</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SlashCommandGroup.__init__">SlashCommandGroup</a>
                        </li>
                        <li>
                                <a class="variable" href="#SlashCommandGroup.commands">commands</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommandGroup.build">build</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommandGroup.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommandGroup.add_command">add_command</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommandGroup.remove_command">remove_command</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommandGroup.with_command">with_command</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommandGroup.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#SlashCommandGroup.execute_autocomplete">execute_autocomplete</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#SlashHooks">SlashHooks</a>
            </li>
            <li>
                    <a class="class" href="#TanjunError">TanjunError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#TooManyArgumentsError">TooManyArgumentsError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#TooManyArgumentsError.__init__">TooManyArgumentsError</a>
                        </li>
                        <li>
                                <a class="variable" href="#TooManyArgumentsError.parameter">parameter</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#__author__">__author__</a>
            </li>
            <li>
                    <a class="variable" href="#__ci__">__ci__</a>
            </li>
            <li>
                    <a class="variable" href="#__copyright__">__copyright__</a>
            </li>
            <li>
                    <a class="variable" href="#__coverage__">__coverage__</a>
            </li>
            <li>
                    <a class="variable" href="#__docs__">__docs__</a>
            </li>
            <li>
                    <a class="variable" href="#__email__">__email__</a>
            </li>
            <li>
                    <a class="variable" href="#__issue_tracker__">__issue_tracker__</a>
            </li>
            <li>
                    <a class="variable" href="#__license__">__license__</a>
            </li>
            <li>
                    <a class="variable" href="#__url__">__url__</a>
            </li>
            <li>
                    <a class="variable" href="#__version__">__version__</a>
            </li>
            <li>
                    <a class="function" href="#as_interval">as_interval</a>
            </li>
            <li>
                    <a class="function" href="#as_loader">as_loader</a>
            </li>
            <li>
                    <a class="function" href="#as_message_command">as_message_command</a>
            </li>
            <li>
                    <a class="function" href="#as_message_command_group">as_message_command_group</a>
            </li>
            <li>
                    <a class="function" href="#as_message_menu">as_message_menu</a>
            </li>
            <li>
                    <a class="function" href="#as_self_injecting">as_self_injecting</a>
            </li>
            <li>
                    <a class="function" href="#as_slash_command">as_slash_command</a>
            </li>
            <li>
                    <a class="function" href="#as_unloader">as_unloader</a>
            </li>
            <li>
                    <a class="function" href="#as_user_menu">as_user_menu</a>
            </li>
            <li>
                    <a class="function" href="#cached_inject">cached_inject</a>
            </li>
            <li>
                    <a class="function" href="#inject">inject</a>
            </li>
            <li>
                    <a class="function" href="#inject_lc">inject_lc</a>
            </li>
            <li>
                    <a class="function" href="#injected">injected</a>
            </li>
            <li>
                    <a class="function" href="#slash_command_group">slash_command_group</a>
            </li>
            <li>
                    <a class="function" href="#to_bool">to_bool</a>
            </li>
            <li>
                    <a class="variable" href="#to_channel">to_channel</a>
            </li>
            <li>
                    <a class="function" href="#to_color">to_color</a>
            </li>
            <li>
                    <a class="function" href="#to_colour">to_colour</a>
            </li>
            <li>
                    <a class="function" href="#to_datetime">to_datetime</a>
            </li>
            <li>
                    <a class="variable" href="#to_emoji">to_emoji</a>
            </li>
            <li>
                    <a class="variable" href="#to_guild">to_guild</a>
            </li>
            <li>
                    <a class="variable" href="#to_invite">to_invite</a>
            </li>
            <li>
                    <a class="variable" href="#to_invite_with_metadata">to_invite_with_metadata</a>
            </li>
            <li>
                    <a class="variable" href="#to_member">to_member</a>
            </li>
            <li>
                    <a class="variable" href="#to_presence">to_presence</a>
            </li>
            <li>
                    <a class="variable" href="#to_role">to_role</a>
            </li>
            <li>
                    <a class="function" href="#to_snowflake">to_snowflake</a>
            </li>
            <li>
                    <a class="variable" href="#to_user">to_user</a>
            </li>
            <li>
                    <a class="variable" href="#to_voice_state">to_voice_state</a>
            </li>
            <li>
                    <a class="function" href="#with_all_checks">with_all_checks</a>
            </li>
            <li>
                    <a class="function" href="#with_any_checks">with_any_checks</a>
            </li>
            <li>
                    <a class="function" href="#with_argument">with_argument</a>
            </li>
            <li>
                    <a class="function" href="#with_author_permission_check">with_author_permission_check</a>
            </li>
            <li>
                    <a class="function" href="#with_bool_slash_option">with_bool_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_channel_slash_option">with_channel_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_check">with_check</a>
            </li>
            <li>
                    <a class="function" href="#with_concurrency_limit">with_concurrency_limit</a>
            </li>
            <li>
                    <a class="function" href="#with_cooldown">with_cooldown</a>
            </li>
            <li>
                    <a class="function" href="#with_dm_check">with_dm_check</a>
            </li>
            <li>
                    <a class="function" href="#with_float_slash_option">with_float_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_greedy_argument">with_greedy_argument</a>
            </li>
            <li>
                    <a class="function" href="#with_guild_check">with_guild_check</a>
            </li>
            <li>
                    <a class="function" href="#with_int_slash_option">with_int_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_member_slash_option">with_member_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_mentionable_slash_option">with_mentionable_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_multi_argument">with_multi_argument</a>
            </li>
            <li>
                    <a class="function" href="#with_multi_option">with_multi_option</a>
            </li>
            <li>
                    <a class="function" href="#with_nsfw_check">with_nsfw_check</a>
            </li>
            <li>
                    <a class="function" href="#with_option">with_option</a>
            </li>
            <li>
                    <a class="function" href="#with_own_permission_check">with_own_permission_check</a>
            </li>
            <li>
                    <a class="function" href="#with_owner_check">with_owner_check</a>
            </li>
            <li>
                    <a class="function" href="#with_parser">with_parser</a>
            </li>
            <li>
                    <a class="function" href="#with_role_slash_option">with_role_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_sfw_check">with_sfw_check</a>
            </li>
            <li>
                    <a class="function" href="#with_str_slash_option">with_str_slash_option</a>
            </li>
            <li>
                    <a class="function" href="#with_user_slash_option">with_user_slash_option</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
tanjun    </h1>

                        <div class="docstring"><p>A flexible command framework designed to extend Hikari.</p>

<h6 id="examples">Examples</h6>

<p>A Tanjun client can be quickly initialised from a Hikari gateway bot through
<code><a href="#Client.from_gateway_bot">tanjun.Client.from_gateway_bot</a></code>, this enables both slash (interaction) and message
command execution:</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">bot</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">GatewayBot</span><span class="p">(</span><span class="s2">&quot;BOT_TOKEN&quot;</span><span class="p">)</span>

<span class="c1"># As a note, unless event_managed=False is passed here then this client</span>
<span class="c1"># will be managed based on gateway startup and stopping events.</span>
<span class="c1"># mention_prefix=True instructs the client to also set mention prefixes on the</span>
<span class="c1"># first startup.</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">from_gateway_bot</span><span class="p">(</span><span class="n">bot</span><span class="p">,</span> <span class="n">declare_global_commands</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mention_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">component</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

<span class="c1"># Declare a message command with some basic parser logic.</span>
<span class="nd">@component</span><span class="o">.</span><span class="n">with_command</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">with_greedy_argument</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test_command</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>

<span class="c1"># Declare a ping slash command</span>
<span class="nd">@component</span><span class="o">.</span><span class="n">with_command</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">with_user_slash_option</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;The user facing command option&#39;s description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_slash_command</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;The command&#39;s user facing description&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">User</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">user</span> <span class="ow">or</span> <span class="n">ctx</span><span class="o">.</span><span class="n">author</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</code></pre></div>

<p>Alternatively, the client can also be built from a RESTBot but this will only
enable slash (interaction) command execution:</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">bot</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">RESTBot</span><span class="p">(</span><span class="s2">&quot;BOT_TOKEN&quot;</span><span class="p">,</span> <span class="s2">&quot;Bot&quot;</span><span class="p">)</span>

<span class="c1"># declare_global_commands=True instructs the client to set the global commands</span>
<span class="c1"># for the relevant bot on first startup (this will replace any previously</span>
<span class="c1"># declared commands).</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">from_rest_bot</span><span class="p">(</span><span class="n">bot</span><span class="p">,</span> <span class="n">declare_global_commands</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># This will load components from modules based on loader functions.</span>
<span class="c1"># For more information on this see `<a href="#as_loader">tanjun.as_loader</a>`.</span>
<span class="n">client</span><span class="o">.</span><span class="n">load_modules</span><span class="p">(</span><span class="s2">&quot;module.paths&quot;</span><span class="p">)</span>

<span class="c1"># Note, unlike a gateway bound bot, the rest bot will not automatically start</span>
<span class="c1"># itself due to the lack of Hikari lifetime events in this environment and</span>
<span class="c1"># will have to be started after the Hikari client.</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">bot</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">():</span>
        <span class="k">await</span> <span class="n">bot</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</code></pre></div>

<p>For more extensive examples see the
<a href="https://github.com/FasterSpeeding/Tanjun/tree/master/examples">repository's examples</a>.</p>

<p>There are also
<a href="https://patchwork.systems/programming/hikari-discord-bot/index.html">written tutorials</a>
that cover making a bot from scratch through to advanced concepts like Dependency Injection.</p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># cython: language_level=3</span>
<span class="c1"># BSD 3-Clause License</span>
<span class="c1">#</span>
<span class="c1"># Copyright (c) 2020-2022, Faster Speeding</span>
<span class="c1"># All rights reserved.</span>
<span class="c1">#</span>
<span class="c1"># Redistribution and use in source and binary forms, with or without</span>
<span class="c1"># modification, are permitted provided that the following conditions are met:</span>
<span class="c1">#</span>
<span class="c1"># * Redistributions of source code must retain the above copyright notice, this</span>
<span class="c1">#   list of conditions and the following disclaimer.</span>
<span class="c1">#</span>
<span class="c1"># * Redistributions in binary form must reproduce the above copyright notice,</span>
<span class="c1">#   this list of conditions and the following disclaimer in the documentation</span>
<span class="c1">#   and/or other materials provided with the distribution.</span>
<span class="c1">#</span>
<span class="c1"># * Neither the name of the copyright holder nor the names of its</span>
<span class="c1">#   contributors may be used to endorse or promote products derived from</span>
<span class="c1">#   this software without specific prior written permission.</span>
<span class="c1">#</span>
<span class="c1"># THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span>
<span class="c1"># AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
<span class="c1"># IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<span class="c1"># DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span>
<span class="c1"># FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<span class="c1"># DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span>
<span class="c1"># SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
<span class="c1"># CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span>
<span class="c1"># OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<span class="c1"># OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="sd">&quot;&quot;&quot;A flexible command framework designed to extend Hikari.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>
<span class="sd">A Tanjun client can be quickly initialised from a Hikari gateway bot through</span>
<span class="sd">`tanjun.Client.from_gateway_bot`, this enables both slash (interaction) and message</span>
<span class="sd">command execution:</span>

<span class="sd">```py</span>
<span class="sd">bot = hikari.GatewayBot(&quot;BOT_TOKEN&quot;)</span>

<span class="sd"># As a note, unless event_managed=False is passed here then this client</span>
<span class="sd"># will be managed based on gateway startup and stopping events.</span>
<span class="sd"># mention_prefix=True instructs the client to also set mention prefixes on the</span>
<span class="sd"># first startup.</span>
<span class="sd">client = tanjun.Client.from_gateway_bot(bot, declare_global_commands=True, mention_prefix=True)</span>

<span class="sd">component = tanjun.Component()</span>
<span class="sd">client.add_component(component)</span>

<span class="sd"># Declare a message command with some basic parser logic.</span>
<span class="sd">@component.with_command</span>
<span class="sd">@tanjun.with_greedy_argument(&quot;name&quot;, default=&quot;World&quot;)</span>
<span class="sd">@tanjun.as_message_command(&quot;test&quot;)</span>
<span class="sd">async def test_command(ctx: tanjun.abc.Context, name: str) -&gt; None:</span>
<span class="sd">    await ctx.respond(f&quot;Hello, {name}!&quot;)</span>

<span class="sd"># Declare a ping slash command</span>
<span class="sd">@component.with_command</span>
<span class="sd">@tanjun.with_user_slash_option(&quot;user&quot;, &quot;The user facing command option&#39;s description&quot;, default=None)</span>
<span class="sd">@tanjun.as_slash_command(&quot;hello&quot;, &quot;The command&#39;s user facing description&quot;)</span>
<span class="sd">async def hello(ctx: tanjun.abc.Context, user: hikari.User | None) -&gt; None:</span>
<span class="sd">    user = user or ctx.author</span>
<span class="sd">    await ctx.respond(f&quot;Hello, {user}!&quot;)</span>
<span class="sd">```</span>

<span class="sd">Alternatively, the client can also be built from a RESTBot but this will only</span>
<span class="sd">enable slash (interaction) command execution:</span>

<span class="sd">```py</span>
<span class="sd">bot = hikari.RESTBot(&quot;BOT_TOKEN&quot;, &quot;Bot&quot;)</span>

<span class="sd"># declare_global_commands=True instructs the client to set the global commands</span>
<span class="sd"># for the relevant bot on first startup (this will replace any previously</span>
<span class="sd"># declared commands).</span>
<span class="sd">client = tanjun.Client.from_rest_bot(bot, declare_global_commands=True)</span>

<span class="sd"># This will load components from modules based on loader functions.</span>
<span class="sd"># For more information on this see `tanjun.as_loader`.</span>
<span class="sd">client.load_modules(&quot;module.paths&quot;)</span>

<span class="sd"># Note, unlike a gateway bound bot, the rest bot will not automatically start</span>
<span class="sd"># itself due to the lack of Hikari lifetime events in this environment and</span>
<span class="sd"># will have to be started after the Hikari client.</span>
<span class="sd">async def main() -&gt; None:</span>
<span class="sd">    await bot.start()</span>
<span class="sd">    async with client.open():</span>
<span class="sd">        await bot.join()</span>
<span class="sd">```</span>

<span class="sd">For more extensive examples see the</span>
<span class="sd">[repository&#39;s examples](https://github.com/FasterSpeeding/Tanjun/tree/master/examples).</span>

<span class="sd">There are also</span>
<span class="sd">[written tutorials](https://patchwork.systems/programming/hikari-discord-bot/index.html)</span>
<span class="sd">that cover making a bot from scratch through to advanced concepts like Dependency Injection.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="n">__all__</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># __init__.py</span>
    <span class="s2">&quot;AnyHooks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BucketResource&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Client&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ClientCallbackNames&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CommandError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Component&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ConversionError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FailedCheck&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FailedModuleLoad&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FailedModuleUnload&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HaltExecution&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Hooks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;InMemoryConcurrencyLimiter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;InMemoryCooldownManager&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LazyConstant&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MenuCommand&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MessageAcceptsEnum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MessageCommand&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MessageCommandGroup&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MessageHooks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MissingDependencyError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ModuleMissingLoaders&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ModuleStateConflict&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NotEnoughArgumentsError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ParserError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ShlexParser&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SlashCommand&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SlashCommandGroup&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SlashHooks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TanjunError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TooManyArgumentsError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__author__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__ci__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__copyright__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__coverage__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__docs__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__email__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__issue_tracker__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__license__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__url__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;__version__&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_interval&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_loader&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_message_command&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_message_command_group&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_message_menu&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_self_injecting&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_slash_command&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_unloader&quot;</span><span class="p">,</span>
    <span class="s2">&quot;as_user_menu&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cached_inject&quot;</span><span class="p">,</span>
    <span class="s2">&quot;checks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;clients&quot;</span><span class="p">,</span>
    <span class="s2">&quot;commands&quot;</span><span class="p">,</span>
    <span class="s2">&quot;components&quot;</span><span class="p">,</span>
    <span class="s2">&quot;context&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conversion&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dependencies&quot;</span><span class="p">,</span>
    <span class="s2">&quot;errors&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hooks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;inject&quot;</span><span class="p">,</span>
    <span class="s2">&quot;inject_lc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;injected&quot;</span><span class="p">,</span>
    <span class="s2">&quot;injecting&quot;</span><span class="p">,</span>
    <span class="s2">&quot;parsing&quot;</span><span class="p">,</span>
    <span class="s2">&quot;schedules&quot;</span><span class="p">,</span>
    <span class="s2">&quot;slash_command_group&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_bool&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_channel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_color&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_colour&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_datetime&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_emoji&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_guild&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_invite&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_invite_with_metadata&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_member&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_presence&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_role&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_snowflake&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to_voice_state&quot;</span><span class="p">,</span>
    <span class="s2">&quot;utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_all_checks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_any_checks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_argument&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_author_permission_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_bool_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_channel_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_concurrency_limit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_cooldown&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_dm_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_float_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_greedy_argument&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_guild_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_int_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_member_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_mentionable_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_multi_argument&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_multi_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_nsfw_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_own_permission_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_owner_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_parser&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_role_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_sfw_check&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_str_slash_option&quot;</span><span class="p">,</span>
    <span class="s2">&quot;with_user_slash_option&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="kn">import</span> <span class="nn">typing</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">abc</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">context</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">utilities</span>
<span class="kn">from</span> <span class="nn">.abc</span> <span class="kn">import</span> <span class="n">ClientCallbackNames</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_all_checks</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_any_checks</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_author_permission_check</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_check</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_dm_check</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_guild_check</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_nsfw_check</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_own_permission_check</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_owner_check</span>
<span class="kn">from</span> <span class="nn">.checks</span> <span class="kn">import</span> <span class="n">with_sfw_check</span>
<span class="kn">from</span> <span class="nn">.clients</span> <span class="kn">import</span> <span class="n">Client</span>
<span class="kn">from</span> <span class="nn">.clients</span> <span class="kn">import</span> <span class="n">MessageAcceptsEnum</span>
<span class="kn">from</span> <span class="nn">.clients</span> <span class="kn">import</span> <span class="n">as_loader</span>
<span class="kn">from</span> <span class="nn">.clients</span> <span class="kn">import</span> <span class="n">as_unloader</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">MenuCommand</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">MessageCommand</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">MessageCommandGroup</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">SlashCommand</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">SlashCommandGroup</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">as_message_command</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">as_message_command_group</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">as_message_menu</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">as_slash_command</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">as_user_menu</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">slash_command_group</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_bool_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_channel_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_float_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_int_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_member_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_mentionable_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_role_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_str_slash_option</span>
<span class="kn">from</span> <span class="nn">.commands</span> <span class="kn">import</span> <span class="n">with_user_slash_option</span>
<span class="kn">from</span> <span class="nn">.components</span> <span class="kn">import</span> <span class="n">Component</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_bool</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_channel</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_color</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_colour</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_datetime</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_emoji</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_guild</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_invite</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_invite_with_metadata</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_member</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_presence</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_role</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_snowflake</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_user</span>
<span class="kn">from</span> <span class="nn">.conversion</span> <span class="kn">import</span> <span class="n">to_voice_state</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">BucketResource</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">InMemoryConcurrencyLimiter</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">InMemoryCooldownManager</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">LazyConstant</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">cached_inject</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">inject_lc</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">with_concurrency_limit</span>
<span class="kn">from</span> <span class="nn">.dependencies</span> <span class="kn">import</span> <span class="n">with_cooldown</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">CommandError</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">ConversionError</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">FailedCheck</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">FailedModuleLoad</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">FailedModuleUnload</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">HaltExecution</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">MissingDependencyError</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">ModuleMissingLoaders</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">ModuleStateConflict</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">NotEnoughArgumentsError</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">ParserError</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">TanjunError</span>
<span class="kn">from</span> <span class="nn">.errors</span> <span class="kn">import</span> <span class="n">TooManyArgumentsError</span>
<span class="kn">from</span> <span class="nn">.hooks</span> <span class="kn">import</span> <span class="n">AnyHooks</span>
<span class="kn">from</span> <span class="nn">.hooks</span> <span class="kn">import</span> <span class="n">Hooks</span>
<span class="kn">from</span> <span class="nn">.hooks</span> <span class="kn">import</span> <span class="n">MessageHooks</span>
<span class="kn">from</span> <span class="nn">.hooks</span> <span class="kn">import</span> <span class="n">SlashHooks</span>
<span class="kn">from</span> <span class="nn">.injecting</span> <span class="kn">import</span> <span class="n">as_self_injecting</span>
<span class="kn">from</span> <span class="nn">.injecting</span> <span class="kn">import</span> <span class="n">inject</span>
<span class="kn">from</span> <span class="nn">.injecting</span> <span class="kn">import</span> <span class="n">injected</span>
<span class="kn">from</span> <span class="nn">.parsing</span> <span class="kn">import</span> <span class="n">ShlexParser</span>
<span class="kn">from</span> <span class="nn">.parsing</span> <span class="kn">import</span> <span class="n">with_argument</span>
<span class="kn">from</span> <span class="nn">.parsing</span> <span class="kn">import</span> <span class="n">with_greedy_argument</span>
<span class="kn">from</span> <span class="nn">.parsing</span> <span class="kn">import</span> <span class="n">with_multi_argument</span>
<span class="kn">from</span> <span class="nn">.parsing</span> <span class="kn">import</span> <span class="n">with_multi_option</span>
<span class="kn">from</span> <span class="nn">.parsing</span> <span class="kn">import</span> <span class="n">with_option</span>
<span class="kn">from</span> <span class="nn">.parsing</span> <span class="kn">import</span> <span class="n">with_parser</span>
<span class="kn">from</span> <span class="nn">.schedules</span> <span class="kn">import</span> <span class="n">as_interval</span>

<span class="n">__author__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Faster Speeding&quot;</span>
<span class="n">__ci__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/FasterSpeeding/Tanjun/actions&quot;</span>
<span class="n">__copyright__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot; 2020-2022 Faster Speeding&quot;</span>
<span class="n">__coverage__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;https://codeclimate.com/github/FasterSpeeding/Tanjun&quot;</span>
<span class="n">__docs__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;https://tanjun.cursed.solutions/&quot;</span>
<span class="n">__email__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;lucina@lmbyrne.dev&quot;</span>
<span class="n">__issue_tracker__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/FasterSpeeding/Tanjun/issues&quot;</span>
<span class="n">__license__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;BSD&quot;</span>
<span class="n">__url__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/FasterSpeeding/Tanjun&quot;</span>
<span class="n">__version__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;2.4.1a1&quot;</span>
</pre></div>

        </details>

            </section>
                <section id="AnyHooks">
                                <div class="attr variable"><a class="headerlink" href="#AnyHooks">#&nbsp;&nbsp</a>

        <span class="name">AnyHooks</span><span class="default_value"> = <a href="tanjun/hooks.html#Hooks">tanjun.hooks.Hooks</a>[<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>]</span>
    </div>

    
    

                </section>
                <section id="BucketResource">
                                <div class="attr class">
        <a class="headerlink" href="#BucketResource">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">BucketResource</span><wbr>(<span class="base">builtins.int</span>, <span class="base">enum.Enum</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">BucketResource</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Resource target types used within command calldowns and concurrency limiters.&quot;&quot;&quot;</span>

    <span class="n">USER</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="sd">&quot;&quot;&quot;A per-user resource bucket.&quot;&quot;&quot;</span>

    <span class="n">MEMBER</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="sd">&quot;&quot;&quot;A per-guild member resource bucket.</span>

<span class="sd">    .. note::</span>
<span class="sd">        When executed in a DM this will be per-DM.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">CHANNEL</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="sd">&quot;&quot;&quot;A per-channel resource bucket.&quot;&quot;&quot;</span>

    <span class="n">PARENT_CHANNEL</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="sd">&quot;&quot;&quot;A per-parent channel resource bucket.</span>

<span class="sd">    .. note::</span>
<span class="sd">        For DM channels this will be per-DM, for guild channels with no parents</span>
<span class="sd">        this&#39;ll be per-guild.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># CATEGORY = 4</span>
    <span class="c1"># &quot;&quot;&quot;A per-category resource bucket.</span>

    <span class="c1"># .. note::</span>
    <span class="c1">#     For DM channels this will be per-DM, for guild channels with no parent</span>
    <span class="c1">#     category this&#39;ll be per-guild.</span>
    <span class="c1"># &quot;&quot;&quot;</span>

    <span class="n">TOP_ROLE</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="sd">&quot;&quot;&quot;A per-highest role resource bucket.</span>

<span class="sd">    .. note::</span>
<span class="sd">        When executed in a DM this will be per-DM, with this defaulting to</span>
<span class="sd">        targeting the @everyone role if they have no real roles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">GUILD</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="sd">&quot;&quot;&quot;A per-guild resource bucket.</span>

<span class="sd">    .. note::</span>
<span class="sd">        When executed in a DM this will be per-DM.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">GLOBAL</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="sd">&quot;&quot;&quot;A global resource bucket.&quot;&quot;&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Resource target types used within command calldowns and concurrency limiters.</p>
</div>


                            <div id="BucketResource.USER" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#BucketResource.USER">#&nbsp;&nbsp</a>

        <span class="name">USER</span><span class="default_value"> = &lt;<a href="#BucketResource.USER">BucketResource.USER</a>: 0&gt;</span>
    </div>

    
            <div class="docstring"><p>A per-user resource bucket.</p>
</div>


                            </div>
                            <div id="BucketResource.MEMBER" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#BucketResource.MEMBER">#&nbsp;&nbsp</a>

        <span class="name">MEMBER</span><span class="default_value"> = &lt;<a href="#BucketResource.MEMBER">BucketResource.MEMBER</a>: 1&gt;</span>
    </div>

    
            <div class="docstring"><p>A per-guild member resource bucket.</p>

<p><em>Note:</em>
When executed in a DM this will be per-DM.</p>
</div>


                            </div>
                            <div id="BucketResource.CHANNEL" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#BucketResource.CHANNEL">#&nbsp;&nbsp</a>

        <span class="name">CHANNEL</span><span class="default_value"> = &lt;<a href="#BucketResource.CHANNEL">BucketResource.CHANNEL</a>: 2&gt;</span>
    </div>

    
            <div class="docstring"><p>A per-channel resource bucket.</p>
</div>


                            </div>
                            <div id="BucketResource.PARENT_CHANNEL" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#BucketResource.PARENT_CHANNEL">#&nbsp;&nbsp</a>

        <span class="name">PARENT_CHANNEL</span><span class="default_value"> = &lt;<a href="#BucketResource.PARENT_CHANNEL">BucketResource.PARENT_CHANNEL</a>: 3&gt;</span>
    </div>

    
            <div class="docstring"><p>A per-parent channel resource bucket.</p>

<p><em>Note:</em>
For DM channels this will be per-DM, for guild channels with no parents
this'll be per-guild.</p>
</div>


                            </div>
                            <div id="BucketResource.TOP_ROLE" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#BucketResource.TOP_ROLE">#&nbsp;&nbsp</a>

        <span class="name">TOP_ROLE</span><span class="default_value"> = &lt;<a href="#BucketResource.TOP_ROLE">BucketResource.TOP_ROLE</a>: 5&gt;</span>
    </div>

    
            <div class="docstring"><p>A per-highest role resource bucket.</p>

<p><em>Note:</em>
When executed in a DM this will be per-DM, with this defaulting to
targeting the @everyone role if they have no real roles.</p>
</div>


                            </div>
                            <div id="BucketResource.GUILD" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#BucketResource.GUILD">#&nbsp;&nbsp</a>

        <span class="name">GUILD</span><span class="default_value"> = &lt;<a href="#BucketResource.GUILD">BucketResource.GUILD</a>: 6&gt;</span>
    </div>

    
            <div class="docstring"><p>A per-guild resource bucket.</p>

<p><em>Note:</em>
When executed in a DM this will be per-DM.</p>
</div>


                            </div>
                            <div id="BucketResource.GLOBAL" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#BucketResource.GLOBAL">#&nbsp;&nbsp</a>

        <span class="name">GLOBAL</span><span class="default_value"> = &lt;<a href="#BucketResource.GLOBAL">BucketResource.GLOBAL</a>: 7&gt;</span>
    </div>

    
            <div class="docstring"><p>A global resource bucket.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="BucketResource.name" class="variable">name</dd>
                <dd id="BucketResource.value" class="variable">value</dd>

            </div>
            <div><dt>builtins.int</dt>
                                <dd id="BucketResource.conjugate" class="function">conjugate</dd>
                <dd id="BucketResource.bit_length" class="function">bit_length</dd>
                <dd id="BucketResource.to_bytes" class="function">to_bytes</dd>
                <dd id="BucketResource.from_bytes" class="function">from_bytes</dd>
                <dd id="BucketResource.as_integer_ratio" class="function">as_integer_ratio</dd>
                <dd id="BucketResource.real" class="variable">real</dd>
                <dd id="BucketResource.imag" class="variable">imag</dd>
                <dd id="BucketResource.numerator" class="variable">numerator</dd>
                <dd id="BucketResource.denominator" class="variable">denominator</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Client">
                                <div class="attr class">
        <a class="headerlink" href="#Client">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Client</span><wbr>(<span class="base"><a href="tanjun/injecting.html#InjectorClient">tanjun.injecting.InjectorClient</a></span>, <span class="base"><a href="tanjun/abc.html#Client">tanjun.abc.Client</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Client</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tanjun&#39;s standard `tanjun.abc.Client` implementation.</span>

<span class="sd">    This implementation supports dependency injection for checks, command</span>
<span class="sd">    callbacks, prefix getters and event listeners. For more information on how</span>
<span class="sd">    this works see `tanjun.injecting`.</span>

<span class="sd">    .. note::</span>
<span class="sd">        By default this client includes a parser error handling hook which will</span>
<span class="sd">        by overwritten if you call `Client.set_hooks`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;_accepts&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_auto_defer_after&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_cache&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_cached_application_id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_checks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_client_callbacks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_components&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_defaults_to_ephemeral&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_make_autocomplete_context&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_make_menu_context&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_make_message_context&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_make_slash_context&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_events&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_grab_mention_prefix&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_hooks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_menu_hooks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_menu_not_found&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_slash_hooks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_slash_not_found&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_is_closing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_listeners&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_loop&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_message_hooks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_metadata&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_modules&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_path_modules&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_prefix_getter&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_prefixes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_rest&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_server&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_shards&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_voice&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">rest</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">RESTClient</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">cache</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">Cache</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">events</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">EventManager</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">server</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionServer</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">shards</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">ShardAware</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">voice</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">VoiceComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">event_managed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">mention_prefix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">set_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">declare_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishSequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a Tanjun client.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * For a quicker way to initiate this client around a standard bot aware</span>
<span class="sd">        client, see `Client.from_gateway_bot` and `Client.from_rest_bot`.</span>
<span class="sd">        * The endpoint used by `declare_global_commands` has a strict ratelimit which,</span>
<span class="sd">        as of writing, only allows for 2 requests per minute (with that ratelimit</span>
<span class="sd">        either being per-guild if targeting a specific guild otherwise globally).</span>
<span class="sd">        * `event_manager` is necessary for message command dispatch and will also</span>
<span class="sd">        be necessary for interaction command dispatch if `server` isn&#39;t</span>
<span class="sd">        provided.</span>
<span class="sd">        * `server` is used for interaction command dispatch if interaction</span>
<span class="sd">        events aren&#39;t being received from the event manager.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rest : hikari.api.rest.RestClient</span>
<span class="sd">            The Hikari REST client this will use.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        cache : hikari.api.cache.CacheClient</span>
<span class="sd">            The Hikari cache client this will use if applicable.</span>
<span class="sd">        event_manager : hikari.api.event_manager.EventManagerClient</span>
<span class="sd">            The Hikari event manager client this will use if applicable.</span>
<span class="sd">        server : hikari.api.interaction_server.InteractionServer</span>
<span class="sd">            The Hikari interaction server client this will use if applicable.</span>
<span class="sd">        shards : hikari.traits.ShardAware</span>
<span class="sd">            The Hikari shard aware client this will use if applicable.</span>
<span class="sd">        voice : hikari.api.voice.VoiceComponent</span>
<span class="sd">            The Hikari voice component this will use if applicable.</span>
<span class="sd">        event_managed : bool</span>
<span class="sd">            Whether or not this client is managed by the event manager.</span>

<span class="sd">            An event managed client will be automatically started and closed based</span>
<span class="sd">            on Hikari&#39;s lifetime events.</span>

<span class="sd">            Defaults to `False` and can only be passed as `True` if `event_manager`</span>
<span class="sd">            is also provided.</span>
<span class="sd">        mention_prefix : bool</span>
<span class="sd">            Whether or not mention prefixes should be automatically set when this</span>
<span class="sd">            client is first started.</span>

<span class="sd">            Defaults to `False` and it should be noted that this only applies to</span>
<span class="sd">            message commands.</span>
<span class="sd">        declare_global_commands : hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Whether or not to automatically set global slash commands when this</span>
<span class="sd">            client is first started. Defaults to `False`.</span>

<span class="sd">            If one or more guild objects/IDs are passed here then the registered</span>
<span class="sd">            global commands will be set on the specified guild(s) at startup rather</span>
<span class="sd">            than globally. This can be useful for testing/debug purposes as slash</span>
<span class="sd">            commands may take up to an hour to propagate globally but will</span>
<span class="sd">            immediately propagate when set on a specific guild.</span>
<span class="sd">        set_global_commands : hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Deprecated as of v2.1.1a1 alias of `declare_global_commands`.</span>
<span class="sd">        command_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand]] | None</span>
<span class="sd">            If provided, a mapping of top level command names to IDs of the</span>
<span class="sd">            existing commands to update.</span>

<span class="sd">            This will be used for all application commands but in cases where</span>
<span class="sd">            commands have overlapping names, `message_ids` and `user_ids` will</span>
<span class="sd">            take priority over this for their relevant command type.</span>

<span class="sd">            This field is complementary to `declare_global_commands` and, while it</span>
<span class="sd">            isn&#39;t necessarily required, this will in some situations help avoid</span>
<span class="sd">            permissions which were previously set for a command from being lost</span>
<span class="sd">            after a rename.</span>

<span class="sd">            This currently isn&#39;t supported when multiple guild IDs are passed for</span>
<span class="sd">            `declare_global_commands`.</span>
<span class="sd">        message_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of message context menu command names to the</span>
<span class="sd">            IDs of existing commands to update.</span>
<span class="sd">        user_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of user context menu command names to the IDs</span>
<span class="sd">            of existing commands to update.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises for the following reasons:</span>
<span class="sd">            * If `event_managed` is `True` when `event_manager` is `None`.</span>
<span class="sd">            * If `command_ids` is passed when multiple guild ids are provided for `declare_global_commands`.</span>
<span class="sd">            * If `command_ids` is passed when `declare_global_commands` is `False`.</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501 - line too long</span>
        <span class="c1"># InjectorClient.__init__</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">_LOGGER</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> initialised with the following components: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Event-managed client&quot;</span> <span class="k">if</span> <span class="n">event_managed</span> <span class="k">else</span> <span class="s2">&quot;Client&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="n">name</span>
                    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span>
                        <span class="p">(</span><span class="s2">&quot;cache&quot;</span><span class="p">,</span> <span class="n">cache</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;event manager&quot;</span><span class="p">,</span> <span class="n">events</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;interaction server&quot;</span><span class="p">,</span> <span class="n">server</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;rest&quot;</span><span class="p">,</span> <span class="n">rest</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;shard manager&quot;</span><span class="p">,</span> <span class="n">shards</span><span class="p">),</span>
                    <span class="p">]</span>
                    <span class="k">if</span> <span class="n">value</span>
                <span class="p">),</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">events</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">server</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Client initiaited without an event manager or interaction server, &quot;</span>
                <span class="s2">&quot;automatic command dispatch will be unavailable.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span> <span class="o">=</span> <span class="n">MessageAcceptsEnum</span><span class="o">.</span><span class="n">ALL</span> <span class="k">if</span> <span class="n">events</span> <span class="k">else</span> <span class="n">MessageAcceptsEnum</span><span class="o">.</span><span class="n">NONE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="n">cache</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">checks</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span><span class="p">:</span> <span class="n">_AutocompleteContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">AutocompleteContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span><span class="p">:</span> <span class="n">_MenuContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MenuContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_message_context</span><span class="p">:</span> <span class="n">_MessageContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MessageContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span><span class="p">:</span> <span class="n">_SlashContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">SlashContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span> <span class="o">=</span> <span class="n">events</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grab_mention_prefix</span> <span class="o">=</span> <span class="n">mention_prefix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">]</span> <span class="o">=</span> <span class="n">hooks</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">()</span><span class="o">.</span><span class="n">set_on_parser_error</span><span class="p">(</span><span class="n">on_parser_error</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Command not found&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_not_found</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">SelfInjectingCallback</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span> <span class="o">=</span> <span class="n">rest</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_server</span> <span class="o">=</span> <span class="n">server</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shards</span> <span class="o">=</span> <span class="n">shards</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_voice</span> <span class="o">=</span> <span class="n">voice</span>

        <span class="k">if</span> <span class="n">event_managed</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">events</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Client cannot be event managed without an event manager&quot;</span><span class="p">)</span>

            <span class="n">events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">StartingEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_starting_event</span><span class="p">)</span>
            <span class="n">events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">StoppingEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_stopping_event</span><span class="p">)</span>

        <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">Client</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">RESTClient</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">rest</span><span class="p">),</span> <span class="n">rest</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">Cache</span><span class="p">,</span> <span class="n">cache</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">cache</span><span class="p">),</span> <span class="n">cache</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">events</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">EventManager</span><span class="p">,</span> <span class="n">events</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">events</span><span class="p">),</span> <span class="n">events</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">server</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionServer</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">server</span><span class="p">),</span> <span class="n">server</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">shards</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">ShardAware</span><span class="p">,</span> <span class="n">shards</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">shards</span><span class="p">),</span> <span class="n">shards</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">voice</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">VoiceComponent</span><span class="p">,</span> <span class="n">voice</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">voice</span><span class="p">),</span> <span class="n">voice</span><span class="p">)</span>

        <span class="n">dependencies</span><span class="o">.</span><span class="n">set_standard_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_startup_registers</span><span class="p">(</span>
            <span class="n">set_global_commands</span><span class="p">,</span>
            <span class="n">declare_global_commands</span><span class="p">,</span>
            <span class="n">command_ids</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
            <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="n">_stack_level</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_schedule_startup_registers</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">set_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">declare_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishSequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">set_global_commands</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;The `set_global_commands` argument is deprecated since v2.1.1a1. &quot;</span>
                <span class="s2">&quot;Use `declare_global_commands` instead.&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span> <span class="o">+</span> <span class="n">_stack_level</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">declare_global_commands</span> <span class="o">=</span> <span class="n">declare_global_commands</span> <span class="ow">or</span> <span class="n">set_global_commands</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">declare_global_commands</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">command_ids</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">declare_global_commands</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Cannot provide specific command_ids while automatically &quot;</span>
                    <span class="s2">&quot;declaring commands marked as &#39;global&#39; in multiple-guilds on startup&quot;</span>
                <span class="p">)</span>

            <span class="k">for</span> <span class="n">guild</span> <span class="ow">in</span> <span class="n">declare_global_commands</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Registering startup command declarer for </span><span class="si">%s</span><span class="s2"> guild&quot;</span><span class="p">,</span> <span class="n">guild</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span>
                    <span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">,</span>
                    <span class="n">_StartDeclarer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">guild</span><span class="p">,</span> <span class="n">command_ids</span><span class="o">=</span><span class="n">command_ids</span><span class="p">,</span> <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span> <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">),</span>
                <span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">declare_global_commands</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">declare_global_commands</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Registering startup command declarer for global commands&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">command_ids</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">message_ids</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">user_ids</span><span class="p">:</span>
                    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;No command IDs passed for startup command declarer, this could lead to previously set &quot;</span>
                        <span class="s2">&quot;command permissions being lost when commands are renamed.&quot;</span>
                    <span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span>
                    <span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">,</span>
                    <span class="n">_StartDeclarer</span><span class="p">(</span>
                        <span class="bp">self</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span> <span class="n">command_ids</span><span class="o">=</span><span class="n">command_ids</span><span class="p">,</span> <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span> <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span>
                    <span class="p">),</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="n">command_ids</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot pass command IDs when not declaring global commands&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span>
                <span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">,</span>
                <span class="n">_StartDeclarer</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">,</span> <span class="n">declare_global_commands</span><span class="p">,</span> <span class="n">command_ids</span><span class="o">=</span><span class="n">command_ids</span><span class="p">,</span> <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span> <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span>
                <span class="p">),</span>
            <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_gateway_bot</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">bot</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">GatewayBotAware</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">event_managed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">mention_prefix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">declare_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishSequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">set_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Client</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a `Client` from a `hikari.traits.GatewayBotAware` instance.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This implicitly defaults the client to human only mode.</span>
<span class="sd">        * This sets type dependency injectors for the hikari traits present in</span>
<span class="sd">          `bot` (including `hikari.traits.GatewayBotAware`).</span>
<span class="sd">        * The endpoint used by `declare_global_commands` has a strict ratelimit</span>
<span class="sd">          which, as of writing, only allows for 2 requests per minute (with that</span>
<span class="sd">          ratelimit either being per-guild if targeting a specific guild</span>
<span class="sd">          otherwise globally).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bot : hikari.traits.GatewayBotAware</span>
<span class="sd">            The bot client to build from.</span>

<span class="sd">            This will be used to infer the relevant Hikari clients to use.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        event_managed : bool</span>
<span class="sd">            Whether or not this client is managed by the event manager.</span>

<span class="sd">            An event managed client will be automatically started and closed</span>
<span class="sd">            based on Hikari&#39;s lifetime events.</span>

<span class="sd">            Defaults to `True`.</span>
<span class="sd">        mention_prefix : bool</span>
<span class="sd">            Whether or not mention prefixes should be automatically set when this</span>
<span class="sd">            client is first started.</span>

<span class="sd">            Defaults to `False` and it should be noted that this only applies to</span>
<span class="sd">            message commands.</span>
<span class="sd">        declare_global_commands : hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Whether or not to automatically set global slash commands when this</span>
<span class="sd">            client is first started. Defaults to `False`.</span>

<span class="sd">            If one or more guild objects/IDs are passed here then the registered</span>
<span class="sd">            global commands will be set on the specified guild(s) at startup rather</span>
<span class="sd">            than globally. This can be useful for testing/debug purposes as slash</span>
<span class="sd">            commands may take up to an hour to propagate globally but will</span>
<span class="sd">            immediately propagate when set on a specific guild.</span>
<span class="sd">        set_global_commands : hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Deprecated as of v2.1.1a1 alias of `declare_global_commands`.</span>
<span class="sd">        command_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of top level command names to IDs of the commands to update.</span>

<span class="sd">            This field is complementary to `declare_global_commands` and, while it</span>
<span class="sd">            isn&#39;t necessarily required, this will in some situations help avoid</span>
<span class="sd">            permissions which were previously set for a command from being lost</span>
<span class="sd">            after a rename.</span>

<span class="sd">            This currently isn&#39;t supported when multiple guild IDs are passed for</span>
<span class="sd">            `declare_global_commands`.</span>
<span class="sd">        message_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of message context menu command names to the</span>
<span class="sd">            IDs of existing commands to update.</span>
<span class="sd">        user_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of user context menu command names to the IDs</span>
<span class="sd">            of existing commands to update.</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501 - line too long</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">cls</span><span class="p">(</span>
                <span class="n">rest</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">rest</span><span class="p">,</span>
                <span class="n">cache</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">cache</span><span class="p">,</span>
                <span class="n">events</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">event_manager</span><span class="p">,</span>
                <span class="n">shards</span><span class="o">=</span><span class="n">bot</span><span class="p">,</span>
                <span class="n">voice</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">voice</span><span class="p">,</span>
                <span class="n">event_managed</span><span class="o">=</span><span class="n">event_managed</span><span class="p">,</span>
                <span class="n">mention_prefix</span><span class="o">=</span><span class="n">mention_prefix</span><span class="p">,</span>
                <span class="n">declare_global_commands</span><span class="o">=</span><span class="n">declare_global_commands</span><span class="p">,</span>
                <span class="n">set_global_commands</span><span class="o">=</span><span class="n">set_global_commands</span><span class="p">,</span>
                <span class="n">command_ids</span><span class="o">=</span><span class="n">command_ids</span><span class="p">,</span>
                <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
                <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
                <span class="n">_stack_level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">set_human_only</span><span class="p">()</span>
            <span class="o">.</span><span class="n">set_hikari_trait_injectors</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_rest_bot</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">bot</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">RESTBotAware</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">declare_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishSequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">set_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Client</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a `Client` from a `hikari.traits.RESTBotAware` instance.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This sets type dependency injectors for the hikari traits present in</span>
<span class="sd">          `bot` (including `hikari.traits.RESTBotAware`).</span>
<span class="sd">        * The endpoint used by `declare_global_commands` has a strict ratelimit</span>
<span class="sd">          which, as of writing, only allows for 2 requests per minute (with that</span>
<span class="sd">          ratelimit either being per-guild if targeting a specific guild</span>
<span class="sd">          otherwise globally).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bot : hikari.traits.RESTBotAware</span>
<span class="sd">            The bot client to build from.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        declare_global_commands : hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Whether or not to automatically set global slash commands when this</span>
<span class="sd">            client is first started. Defaults to `False`.</span>

<span class="sd">            If one or more guild objects/IDs are passed here then the registered</span>
<span class="sd">            global commands will be set on the specified guild(s) at startup rather</span>
<span class="sd">            than globally. This can be useful for testing/debug purposes as slash</span>
<span class="sd">            commands may take up to an hour to propagate globally but will</span>
<span class="sd">            immediately propagate when set on a specific guild.</span>
<span class="sd">        set_global_commands : hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Deprecated as of v2.1.1a1 alias of `declare_global_commands`.</span>
<span class="sd">        command_ids : collections.abc.Mapping[str, hikari.Snowflakeis | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of top level command names to IDs of the</span>
<span class="sd">            existing commands to update.</span>

<span class="sd">            This will be used for all application commands but in cases where</span>
<span class="sd">            commands have overlapping names, `message_ids` and `user_ids` will</span>
<span class="sd">            take priority over this for their relevant command type.</span>

<span class="sd">            This field is complementary to `declare_global_commands` and, while it</span>
<span class="sd">            isn&#39;t necessarily required, this will in some situations help avoid</span>
<span class="sd">            permissions which were previously set for a command from being lost</span>
<span class="sd">            after a rename.</span>

<span class="sd">            This currently isn&#39;t supported when multiple guild IDs are passed for</span>
<span class="sd">            `declare_global_commands`.</span>
<span class="sd">        message_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of message context menu command names to the</span>
<span class="sd">            IDs of existing commands to update.</span>
<span class="sd">        user_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of user context menu command names to the IDs</span>
<span class="sd">            of existing commands to update.</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501 - line too long</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">rest</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">rest</span><span class="p">,</span>
            <span class="n">server</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">interaction_server</span><span class="p">,</span>
            <span class="n">declare_global_commands</span><span class="o">=</span><span class="n">declare_global_commands</span><span class="p">,</span>
            <span class="n">set_global_commands</span><span class="o">=</span><span class="n">set_global_commands</span><span class="p">,</span>
            <span class="n">command_ids</span><span class="o">=</span><span class="n">command_ids</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
            <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">set_hikari_trait_injectors</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="fm">__aenter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Client</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="fm">__aexit__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">exc_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
        <span class="n">exc</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
        <span class="n">exc_traceback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">TracebackType</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;CommandClient &lt;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2">, </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">)</span><span class="si">}</span><span class="s2"> components, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">defaults_to_ephemeral</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">message_accepts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MessageAcceptsEnum</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Type of message create events this command client accepts for execution.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_human_only</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Whether this client is only executing for non-bot/webhook users messages.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;checks.InjectableCheck&quot;</span><span class="p">,</span> <span class="n">_check_human</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">Cache</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">checks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Collection of the level `tanjun.abc.Context` checks registered to this client.</span>

<span class="sd">        .. note::</span>
<span class="sd">            These may be taking advantage of the standard dependency injection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">check</span><span class="o">.</span><span class="n">callback</span> <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">components</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">events</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">EventManager</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">listeners</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="n">utilities</span><span class="o">.</span><span class="n">CastedView</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">,</span>
            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_alive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">loop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Top level `tanjun.abc.AnyHooks` set for this client.</span>

<span class="sd">        These are called during both message, menu and slash command execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">menu_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Top level `tanjun.abc.MenuHooks` set for this client.</span>

<span class="sd">        These are only called during menu command execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">message_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Top level `tanjun.abc.MessageHooks` set for this client.</span>

<span class="sd">        These are only called during message command execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">slash_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Top level `tanjun.abc.SlashHooks` set for this client.</span>

<span class="sd">        These are only called during slash command execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">MutableMapping</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefix_getter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">PrefixGetterSig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Prefix getter method set for this client.</span>

<span class="sd">        For more information on this callback&#39;s signature see `PrefixGetter`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">PrefixGetterSig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefixes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Collection of the standard prefixes set for this client.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">RESTClient</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">server</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionServer</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shards</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">ShardAware</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shards</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">voice</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">VoiceComponent</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_voice</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_on_starting_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">StartingEvent</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_on_stopping_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">StoppingEvent</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">clear_application_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">application</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">application</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_rest_application_id</span><span class="p">()</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">set_application_commands</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="p">(),</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_global_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Alias of `Client.declare_global_commands`.</span>

<span class="sd">        .. deprecated:: v2.1.1a1</span>
<span class="sd">            Use `Client.declare_global_commands` instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;The `Client.set_global_commands` method has been deprecated since v2.1.1a1. &quot;</span>
            <span class="s2">&quot;Use `Client.declare_global_commands` instead.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">declare_global_commands</span><span class="p">(</span><span class="n">application</span><span class="o">=</span><span class="n">application</span><span class="p">,</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_global_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">commands</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_slash_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">declare_application_commands</span><span class="p">(</span>
            <span class="n">commands</span><span class="p">,</span>
            <span class="n">command_ids</span><span class="p">,</span>
            <span class="n">application</span><span class="o">=</span><span class="n">application</span><span class="p">,</span>
            <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
            <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
            <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_application_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">command_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflakeish</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_application_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">command_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflakeish</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">ContextMenuCommand</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_application_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">command_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflakeish</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_application_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">command_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflakeish</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">application</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_rest_application_id</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">command_id</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">):</span>
                <span class="n">description</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">description</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">options</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">description</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span>

            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">edit_application_command</span><span class="p">(</span>
                <span class="n">application</span><span class="p">,</span>
                <span class="n">command_id</span><span class="p">,</span>
                <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">):</span>
                <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">create_slash_command</span><span class="p">(</span>
                    <span class="n">application</span><span class="p">,</span>
                    <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                    <span class="n">options</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">options</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">ContextMenuCommandBuilder</span><span class="p">):</span>
                <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">create_context_menu_command</span><span class="p">(</span>
                    <span class="n">application</span><span class="p">,</span>
                    <span class="n">builder</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">builder</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
                    <span class="n">default_permission</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">default_permission</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown command builder type </span><span class="si">{</span><span class="n">builder</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">guild</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">set_tracked_command</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>  <span class="c1"># TODO: is this fine?</span>

        <span class="k">return</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_application_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">commands</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">command_ids</span> <span class="o">=</span> <span class="n">command_ids</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">names_to_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">conflicts</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">builders</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">CommandBuilder</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">message_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">slash_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">user_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">commands</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">names_to_commands</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">builders</span><span class="p">:</span>
                <span class="n">conflicts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="n">builder</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
            <span class="n">command_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">builder</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
                <span class="n">user_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">user_ids</span><span class="p">:</span>
                    <span class="n">command_id</span> <span class="o">=</span> <span class="n">user_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">builder</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">:</span>
                <span class="n">message_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">message_ids</span><span class="p">:</span>
                    <span class="n">command_id</span> <span class="o">=</span> <span class="n">message_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">builder</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
                <span class="n">slash_count</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="n">command_id</span> <span class="o">:=</span> <span class="p">(</span><span class="n">command_id</span> <span class="ow">or</span> <span class="n">command_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)):</span>
                <span class="n">builder</span><span class="o">.</span><span class="n">set_id</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="n">command_id</span><span class="p">))</span>

            <span class="n">builders</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">builder</span>

        <span class="k">if</span> <span class="n">conflicts</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Couldn&#39;t declare commands due to conflicts. The following command names have more than one command &quot;</span>
                <span class="s2">&quot;registered for them &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">type_</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">type_</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">conflicts</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">message_count</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You can only declare up to 5 top level message context menus in a guild or globally&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">slash_count</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You can only declare up to 100 top level slash commands in a guild or globally&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">user_count</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You can only declare up to 5 top level message context menus in a guild or globally&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">application</span><span class="p">:</span>
            <span class="n">application</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_rest_application_id</span><span class="p">()</span>

        <span class="n">target_type</span> <span class="o">=</span> <span class="s2">&quot;global&quot;</span> <span class="k">if</span> <span class="n">guild</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;guild </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">guild</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
            <span class="n">registered_commands</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_application_commands</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">registered_commands</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">builders</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
                <span class="n">_cmp_command</span><span class="p">(</span><span class="n">builders</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">c</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)),</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">registered_commands</span>
            <span class="p">):</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Skipping bulk declare for </span><span class="si">%s</span><span class="s2"> application commands since they&#39;re already declared&quot;</span><span class="p">,</span> <span class="n">target_type</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">registered_commands</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Bulk declaring </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> application commands&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">builders</span><span class="p">),</span> <span class="n">target_type</span><span class="p">)</span>
        <span class="n">responses</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">set_application_commands</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">builders</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">guild</span><span class="p">:</span>
                <span class="n">names_to_commands</span><span class="p">[(</span><span class="n">response</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">)]</span><span class="o">.</span><span class="n">set_tracked_command</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>  <span class="c1"># TODO: is this fine?</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">expected_id</span> <span class="o">:=</span> <span class="n">command_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">))</span> <span class="ow">and</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="n">expected_id</span><span class="p">)</span> <span class="o">!=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;ID mismatch found for </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> command </span><span class="si">%r</span><span class="s2">, expected </span><span class="si">%s</span><span class="s2"> but got </span><span class="si">%s</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;This suggests that any previous permissions set for this command will have been lost.&quot;</span><span class="p">,</span>
                    <span class="n">target_type</span><span class="p">,</span>
                    <span class="n">response</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">expected_id</span><span class="p">,</span>
                    <span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Successfully declared </span><span class="si">%s</span><span class="s2"> (top-level) </span><span class="si">%s</span><span class="s2"> commands&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">responses</span><span class="p">),</span> <span class="n">target_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_LOGGER</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Declared </span><span class="si">%s</span><span class="s2"> command ids; </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">target_type</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">responses</span>

    <span class="k">def</span> <span class="nf">set_auto_defer_after</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set when this client should automatically defer execution of commands.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            If `time` is set to `None` then automatic deferrals will be disabled.</span>
<span class="sd">            This may lead to unexpected behaviour.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time : float | None</span>
<span class="sd">            The time in seconds to defer interaction command responses after.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="k">if</span> <span class="n">time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether slash contexts spawned by this client should default to ephemeral responses.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bool</span>
<span class="sd">            Whether slash command contexts executed in this component should</span>
<span class="sd">            should default to ephemeral.</span>

<span class="sd">            This will be overridden by any response calls which specify flags</span>
<span class="sd">            and defaults to `False`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">state</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_hikari_trait_injectors</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">bot</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">RESTAware</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set type based dependency injection based on the hikari traits found in `bot`.</span>

<span class="sd">        This is a short hand for calling `Client.add_type_dependency` for all</span>
<span class="sd">        the hikari trait types `bot` is valid for with bot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bot : hikari.RESTAware</span>
<span class="sd">            The hikari client to set dependency injectors for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">hikari_traits</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bot</span><span class="p">,</span> <span class="n">member</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">bot</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_interaction_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the response message for when an interaction command is not found.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Setting this to `None` may lead to unexpected behaviour (especially</span>
<span class="sd">            when the client is still set to auto-defer interactions) and should</span>
<span class="sd">            only be done if you know what you&#39;re doing.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str | None</span>
<span class="sd">            The message to respond with when an interaction command isn&#39;t found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_menu_not_found</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="o">.</span><span class="n">set_slash_not_found</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_menu_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the response message for when a menu command is not found.</span>


<span class="sd">        .. warning::</span>
<span class="sd">            Setting this to `None` may lead to unexpected behaviour (especially</span>
<span class="sd">            when the client is still set to auto-defer interactions) and should</span>
<span class="sd">            only be done if you know what you&#39;re doing.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str | None</span>
<span class="sd">            The message to respond with when a menu command isn&#39;t found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span> <span class="o">=</span> <span class="n">message</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_slash_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the response message for when a slash command is not found.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Setting this to `None` may lead to unexpected behaviour (especially</span>
<span class="sd">            when the client is still set to auto-defer interactions) and should</span>
<span class="sd">            only be done if you know what you&#39;re doing.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str | None</span>
<span class="sd">            The message to respond with when a slash command isn&#39;t found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_not_found</span> <span class="o">=</span> <span class="n">message</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_message_accepts</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">accepts</span><span class="p">:</span> <span class="n">MessageAcceptsEnum</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the kind of messages commands should be executed based on.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        accepts : MessageAcceptsEnum</span>
<span class="sd">            The type of messages commands should be executed based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">accepts</span><span class="o">.</span><span class="n">get_event_type</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot set accepts level on a client with no event manager&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span> <span class="o">=</span> <span class="n">accepts</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_autocomplete_ctx_maker</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_AutocompleteContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete context maker to use when creating contexts.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.AutocompleteContext`</span>
<span class="sd">            rather than just any implementation of the AutocompleteContext abc</span>
<span class="sd">            due to this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.AutocompleteContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _AutocompleteContextMakerProto</span>
<span class="sd">            The autocomplete context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.AutocompleteContext.__init__` and return</span>
<span class="sd">            an instance of `tanjun.context.AutocompleteContext`.</span>

<span class="sd">            This defaults to `tanjun.context.AutocompleteContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_menu_ctx_maker</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_MenuContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete context maker to use when creating contexts.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.MenuContext`</span>
<span class="sd">            rather than just any implementation of the MenuContext abc</span>
<span class="sd">            due to this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.MenuContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _MenuContextMakerProto</span>
<span class="sd">            The autocomplete context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.MenuContext.__init__` and return</span>
<span class="sd">            an instance of `tanjun.context.MenuContext`.</span>

<span class="sd">            This defaults to `tanjun.context.MenuContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_message_ctx_maker</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_MessageContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the message context maker to use when creating context for a message.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.MessageContext`</span>
<span class="sd">            rather than just any implementation of the MessageContext abc due to</span>
<span class="sd">            this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.MessageContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _MessageContextMakerProto</span>
<span class="sd">            The message context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.MessageContext.__init__` and return an instance</span>
<span class="sd">            of `tanjun.context.MessageContext`.</span>

<span class="sd">            This defaults to `tanjun.context.MessageContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_message_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_slash_ctx_maker</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_SlashContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the slash context maker to use when creating context for a slash command.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.SlashContext`</span>
<span class="sd">            rather than just any implementation of the SlashContext abc due to</span>
<span class="sd">            this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.SlashContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _SlashContextMakerProto</span>
<span class="sd">            The slash context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.SlashContext.__init__` and return an instance</span>
<span class="sd">            of `tanjun.context.SlashContext`.</span>

<span class="sd">            This defaults to `tanjun.context.SlashContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_human_only</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether or not message commands execution should be limited to &quot;human&quot; users.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This doesn&#39;t apply to interaction commands as these can only be</span>
<span class="sd">            triggered by a &quot;human&quot; (normal user account).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bool</span>
<span class="sd">            Whether or not message commands execution should be limited to &quot;human&quot; users.</span>

<span class="sd">            Passing `True` here will prevent message commands from being executed</span>
<span class="sd">            based on webhook and bot messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">_check_human</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_check</span><span class="p">(</span><span class="n">_check_human</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a generic check to this client.</span>

<span class="sd">        This will be applied to both message and slash command execution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to add. This may be either synchronous or asynchronous</span>
<span class="sd">            and must take one positional argument of type `tanjun.abc.Context`</span>
<span class="sd">            with dependency injection being supported for its keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">check</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">(</span><span class="n">check</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a check from the client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to remove.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the check was not previously added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;checks.InjectableCheck&quot;</span><span class="p">,</span> <span class="n">check</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a check to this client through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to add. This may be either synchronous or asynchronous</span>
<span class="sd">            and must take one positional argument of type `tanjun.abc.Context`</span>
<span class="sd">            with dependency injection being supported for its keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.CheckSig</span>
<span class="sd">            The added check.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">utilities</span><span class="o">.</span><span class="n">gather_checks</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">add_injector</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a component to this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        component: Component</span>
<span class="sd">            The component to move to this client.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to allow chained calls.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the component&#39;s name is already registered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;A component named </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> is already registered.&quot;</span><span class="p">)</span>

        <span class="n">component</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">component</span>

        <span class="k">if</span> <span class="n">add_injector</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">component</span><span class="p">),</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">component</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">COMPONENT_ADDED</span><span class="p">,</span> <span class="n">component</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">get_component_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">stored_component</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stored_component</span> <span class="ow">or</span> <span class="n">stored_component</span> <span class="o">!=</span> <span class="n">component</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The component </span><span class="si">{</span><span class="n">component</span><span class="si">!r}</span><span class="s2"> is not registered.&quot;</span><span class="p">)</span>

        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">unbind</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">COMPONENT_REMOVED</span><span class="p">,</span> <span class="n">stored_component</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">stored_component</span><span class="o">.</span><span class="n">unbind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_component_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_component</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">add_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">descriptor</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">descriptor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">descriptor</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">descriptor</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">dispatch_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">callbacks</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="n">calls</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">_wrap_client_callback</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">BasicInjectionContext</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">args</span><span class="p">)</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">callbacks</span>
            <span class="p">)</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">calls</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_client_callbacks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">result</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">callback</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">result</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">remove_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;injecting.CallbackDescriptor[None]&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>

    <span class="k">def</span> <span class="nf">add_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">injected</span><span class="p">:</span> <span class="n">injecting</span><span class="o">.</span><span class="n">SelfInjectingCallback</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">SelfInjectingCallback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injected</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">injected</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">injected</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;injecting.SelfInjectingCallback[None]&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>
        <span class="n">registered_callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">registered_callback</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>

    <span class="k">def</span> <span class="nf">add_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">prefixes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a prefix used to filter message command calls.</span>

<span class="sd">        This will be matched against the first character(s) in a message&#39;s</span>
<span class="sd">        content to determine whether the message command search stage of</span>
<span class="sd">        execution should be initiated.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        prefixes : collections.abc.Iterable[str] | str</span>
<span class="sd">            Either a single string or an iterable of strings to be used as</span>
<span class="sd">            prefixes.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prefixes</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">prefixes</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefixes</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">prefix</span> <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">prefixes</span> <span class="k">if</span> <span class="n">prefix</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a message content prefix from the client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        prefix : str</span>
<span class="sd">            The prefix to remove.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the prefix is not registered with the client.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_prefix_getter</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">getter</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">PrefixGetterSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the callback used to retrieve message prefixes set for the relevant guild.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        getter : PrefixGetterSig | None</span>
<span class="sd">            The callback which&#39;ll be used to retrieve prefixes for the guild a</span>
<span class="sd">            message context is from. If `None` is passed here then the callback</span>
<span class="sd">            will be unset.</span>

<span class="sd">            This should be an async callback which one argument of type</span>
<span class="sd">            `tanjun.abc.MessageContext` and returns an iterable of string prefixes.</span>
<span class="sd">            Dependency injection is supported for this callback&#39;s keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">getter</span><span class="p">)</span> <span class="k">if</span> <span class="n">getter</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_prefix_getter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">getter</span><span class="p">:</span> <span class="n">PrefixGetterSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PrefixGetterSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the prefix getter callback for this client through decorator call.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ```py</span>
<span class="sd">        client = tanjun.Client.from_rest_bot(bot)</span>

<span class="sd">        @client.with_prefix_getter</span>
<span class="sd">        async def prefix_getter(ctx: tanjun.abc.MessageContext) -&gt; collections.abc.Iterable[str]:</span>
<span class="sd">            raise NotImplementedError</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        getter : PrefixGetterSig</span>
<span class="sd">            The callback which&#39;ll be  to retrieve prefixes for the guild a</span>
<span class="sd">            message event is from.</span>

<span class="sd">            This should be an async callback which one argument of type</span>
<span class="sd">            `tanjun.abc.MessageContext` and returns an iterable of string prefixes.</span>
<span class="sd">            Dependency injection is supported for this callback&#39;s keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        PrefixGetterSigT</span>
<span class="sd">            The registered callback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_prefix_getter</span><span class="p">(</span><span class="n">getter</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">getter</span>

    <span class="k">def</span> <span class="nf">iter_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_message_commands</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_slash_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">iter_menu_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">global_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>  <span class="c1"># noqa: A002 - Shadowing a builtin name.</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">]]]:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">iter_menu_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">global_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># noqa: A002 - Shadowing a builtin name.</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">]]]:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">iter_menu_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">global_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>  <span class="c1"># noqa: A002 - Shadowing a builtin name.</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">iter_menu_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">global_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>  <span class="c1"># noqa: A002 - Shadowing a builtin name.</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">global_only</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">is_global</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_MENU_TYPES</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command type filter must be USER or MESSAGE&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="nb">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="n">global_only</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">menu_commands</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">iter_message_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">message_commands</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">iter_slash_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">global_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">global_only</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">is_global</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_slash_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">slash_commands</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_message_name</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
            <span class="n">component</span><span class="o">.</span><span class="n">check_message_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_slash_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
            <span class="n">component</span><span class="o">.</span><span class="n">check_slash_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_check_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">prefix</span>

        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">prefix</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_try_unsubscribe</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event_manager</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">EventManager</span><span class="p">,</span>
        <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">event_manager</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">LookupError</span><span class="p">):</span>
            <span class="c1"># TODO: add logging here</span>
            <span class="k">pass</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">deregister_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Close the client.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the client isn&#39;t running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client isn&#39;t active&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSED</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">event</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSED</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSING</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">deregister_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event_type</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span><span class="o">.</span><span class="n">get_event_type</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_try_unsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">,</span> <span class="n">event_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_message_create_event</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_try_unsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionCreateEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_interaction_create_event</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">event_type_</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_try_unsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">,</span> <span class="n">event_type_</span><span class="p">,</span> <span class="n">listener</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">deregister_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSED</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">register_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start the client.</span>

<span class="sd">        If `mention_prefix` was passed to `Client.__init__` or</span>
<span class="sd">        `Client.from_gateway_bot` then this function may make a fetch request</span>
<span class="sd">        to Discord if it cannot get the current user from the cache.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the client is already active.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client is already alive&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grab_mention_prefix</span><span class="p">:</span>
            <span class="n">user</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">OwnUser</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">:</span>
                <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">get_me</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span> <span class="ow">and</span> <span class="p">(</span><span class="n">user_cache</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type_dependency</span><span class="p">(</span><span class="n">dependencies</span><span class="o">.</span><span class="n">SingleStoreCache</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">OwnUser</span><span class="p">])):</span>
                <span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="n">user_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
                <span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_my_user</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="sa">f</span><span class="s2">&quot;&lt;@</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;&lt;@!</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">prefix</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_grab_mention_prefix</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

        <span class="k">if</span> <span class="n">register_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event_type</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span><span class="o">.</span><span class="n">get_event_type</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_message_create_event</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">InteractionCreateEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_interaction_create_event</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">event_type_</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">event_type_</span><span class="p">,</span> <span class="n">listener</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">register_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_command_interaction_request</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_autocomplete_interaction_request</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTED</span><span class="p">))</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">fetch_rest_application_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Fetch the ID of the application this client is linked to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        hikari.Snowflake</span>
<span class="sd">            The application ID of the application this client is linked to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span>

        <span class="n">application_cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type_dependency</span><span class="p">(</span>
            <span class="n">dependencies</span><span class="o">.</span><span class="n">SingleStoreCache</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Application</span><span class="p">]</span>
        <span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type_dependency</span><span class="p">(</span><span class="n">dependencies</span><span class="o">.</span><span class="n">SingleStoreCache</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">AuthorizationApplication</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">application_cache</span> <span class="ow">and</span> <span class="p">(</span><span class="n">application</span> <span class="o">:=</span> <span class="k">await</span> <span class="n">application_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="o">=</span> <span class="n">application</span><span class="o">.</span><span class="n">id</span>
            <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">id</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">token_type</span> <span class="o">==</span> <span class="n">hikari</span><span class="o">.</span><span class="n">TokenType</span><span class="o">.</span><span class="n">BOT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_application</span><span class="p">())</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">((</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_authorization</span><span class="p">())</span><span class="o">.</span><span class="n">application</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span>

    <span class="k">def</span> <span class="nf">set_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the general command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every slash and message</span>
<span class="sd">        command execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.AnyHooks | None</span>
<span class="sd">            The general command execution hooks to set for this client.</span>

<span class="sd">            Passing `None` will remove all hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_menu_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the menu command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every menu command</span>
<span class="sd">        execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MenuHooks | None</span>
<span class="sd">            The menu context specific command execution hooks to set for this</span>
<span class="sd">            client.</span>

<span class="sd">            Passing `None` will remove the hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_slash_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the slash command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every slash command</span>
<span class="sd">        execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.SlashHooks | None</span>
<span class="sd">            The slash context specific command execution hooks to set for this</span>
<span class="sd">            client.</span>

<span class="sd">            Passing `None` will remove the hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_message_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the message command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every message command</span>
<span class="sd">        execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MessageHooks | None</span>
<span class="sd">            The message context specific command execution hooks to set for this</span>
<span class="sd">            client.</span>

<span class="sd">            Passing `None` will remove all hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_call_loaders</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">module_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">],</span> <span class="n">loaders</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientLoader</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">loader</span> <span class="ow">in</span> <span class="n">loaders</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleMissingLoaders</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Didn&#39;t find any loaders in </span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_call_unloaders</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">module_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">],</span> <span class="n">loaders</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientLoader</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">loader</span> <span class="ow">in</span> <span class="n">loaders</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">loader</span><span class="o">.</span><span class="n">unload</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleMissingLoaders</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Didn&#39;t find any unloaders in </span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_load_module</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">module_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[],</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">],</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleStateConflict</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;module </span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2"> already loaded&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loading from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>
            <span class="n">module</span> <span class="o">=</span> <span class="k">yield</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>

            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_call_loaders</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">_get_loaders</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">module_path</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span><span class="p">[</span><span class="n">module_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">module_path_abs</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">module_path_abs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleStateConflict</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Module at </span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2"> already loaded&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loading from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>
            <span class="n">module</span> <span class="o">=</span> <span class="k">yield</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_get_path_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>

            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_call_loaders</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">_get_loaders</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">module_path</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span><span class="p">[</span><span class="n">module_path_abs</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span>

    <span class="k">def</span> <span class="nf">load_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="n">load_module</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_modules_async</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">)</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">load_module</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unload_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.ab.Client&gt;&gt;.</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">modules_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">modules_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

            <span class="n">module</span> <span class="o">=</span> <span class="n">modules_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">module</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleStateConflict</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Module </span><span class="si">{</span><span class="n">module_path</span><span class="si">!s}</span><span class="s2"> not loaded&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Unloading from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleUnload</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_call_unloaders</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">_get_loaders</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">module_path</span><span class="p">))</span>

            <span class="k">del</span> <span class="n">modules_dict</span><span class="p">[</span><span class="n">module_path</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_reload_module</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">module_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[],</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">],</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">old_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>

            <span class="k">def</span> <span class="nf">load_module</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">old_module</span>
                <span class="k">return</span> <span class="n">importlib</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">old_module</span><span class="p">)</span>

            <span class="n">modules_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">old_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>

            <span class="k">def</span> <span class="nf">load_module</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">_get_path_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>

            <span class="n">modules_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">old_module</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleStateConflict</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Module </span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2"> not loaded&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Reloading </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

        <span class="n">old_loaders</span> <span class="o">=</span> <span class="n">_get_loaders</span><span class="p">(</span><span class="n">old_module</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>
        <span class="c1"># We assert that the old module has unloaders early to avoid unnecessarily</span>
        <span class="c1"># importing the new module.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">loader</span><span class="o">.</span><span class="n">has_unload</span> <span class="k">for</span> <span class="n">loader</span> <span class="ow">in</span> <span class="n">old_loaders</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleMissingLoaders</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Didn&#39;t find any unloaders in old </span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

        <span class="n">module</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">load_module</span>

        <span class="n">loaders</span> <span class="o">=</span> <span class="n">_get_loaders</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

        <span class="c1"># We assert that the new module has loaders early to avoid unnecessarily</span>
        <span class="c1"># unloading then rolling back when we know it&#39;s going to fail to load.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">loader</span><span class="o">.</span><span class="n">has_load</span> <span class="k">for</span> <span class="n">loader</span> <span class="ow">in</span> <span class="n">loaders</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleMissingLoaders</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Didn&#39;t find any loaders in new </span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleUnload</span><span class="p">):</span>
            <span class="c1"># This will never raise MissingLoaders as we assert this earlier</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_call_unloaders</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">old_loaders</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># This will never raise MissingLoaders as we assert this earlier</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_call_loaders</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">loaders</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_call_loaders</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">old_loaders</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">modules_dict</span><span class="p">[</span><span class="n">module_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span>

    <span class="k">def</span> <span class="nf">reload_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reload_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="n">load_module</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">reload_modules_async</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">)</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reload_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">load_module</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_message_create_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">MessageCreateEvent</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute a message command based on a gateway event.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hikari.events.message_events.MessageCreateEvent</span>
<span class="sd">            The event to handle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_message_context</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">event</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">event</span><span class="o">.</span><span class="n">message</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">prefix</span> <span class="o">:=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_prefix</span><span class="p">(</span><span class="n">ctx</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">ctx</span><span class="o">.</span><span class="n">set_content</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">())</span><span class="o">.</span><span class="n">set_triggering_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_message</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">):</span>
                        <span class="k">return</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">MESSAGE_COMMAND_NOT_FOUND</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_slash_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]:</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">}</span>

        <span class="k">return</span> <span class="n">hooks</span>

    <span class="k">def</span> <span class="nf">_get_menu_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]]:</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">}</span>

        <span class="k">return</span> <span class="n">hooks</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_on_menu_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">MENU_COMMAND_NOT_FOUND</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_responded</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">create_initial_response</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_on_slash_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">SLASH_COMMAND_NOT_FOUND</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_not_found</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_responded</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">create_initial_response</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_slash_not_found</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_gateway_autocomplete_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute command autocomplete based on a received gateway interaction create.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.CommandInteraction</span>
<span class="sd">            The interaction to execute a command based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">coro</span> <span class="o">:=</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">await</span> <span class="n">coro</span>
                <span class="k">return</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_gateway_command_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute an app command based on a received gateway interaction create.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.CommandInteraction</span>
<span class="sd">            The interaction to execute a command based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_slash_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_slash_hooks</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">in</span> <span class="n">_MENU_TYPES</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_menu_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_menu_hooks</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown command type </span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">start_defer_timer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span>

            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="c1"># This is set on each iteration to ensure that any component</span>
                <span class="c1"># state which was set to this isn&#39;t propagated to other components.</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_slash</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.SlashHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_menu</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.MenuHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">coro</span><span class="p">:</span>
                    <span class="k">return</span> <span class="k">await</span> <span class="n">coro</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_interaction_create_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionCreateEvent</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Handle a gateway interaction create event.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will execute application commands and autocomplete interactions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : hikari.events.interaction_events.InteractionCreateEvent</span>
<span class="sd">            The event to execute commands based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionType</span><span class="o">.</span><span class="n">APPLICATION_COMMAND</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_gateway_command_create</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionType</span><span class="o">.</span><span class="n">AUTOCOMPLETE</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_gateway_autocomplete_create</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_autocomplete_interaction_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionAutocompleteBuilder</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute a command autocomplete based on received REST requests.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.AutocompleteInteraction</span>
<span class="sd">            The interaction to execute autocomplete based on.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        hikari.api.InteractionAutocompleteBuilder</span>
<span class="sd">            The initial response to send back to Discord.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="n">future</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionAutocompleteBuilder</span><span class="p">]</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">create_future</span><span class="p">()</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">,</span> <span class="n">future</span><span class="o">=</span><span class="n">future</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">coro</span> <span class="o">:=</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">)</span>
                <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Autocomplete not found for </span><span class="si">{</span><span class="n">interaction</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_command_interaction_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionMessageBuilder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionDeferredBuilder</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Execute an app command based on received REST requests.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.CommandInteraction</span>
<span class="sd">            The interaction to execute a command based on.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        hikari.api.InteractionMessageBuilder | hikari.api.InteractionDeferredBuilder</span>
<span class="sd">            The initial response to send back to Discord.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="n">future</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">[</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionMessageBuilder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionDeferredBuilder</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">create_future</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_slash_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
                <span class="n">future</span><span class="o">=</span><span class="n">future</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_slash_hooks</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">in</span> <span class="n">_MENU_TYPES</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_menu_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
                <span class="n">future</span><span class="o">=</span><span class="n">future</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_menu_hooks</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown command type </span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">start_defer_timer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span>

            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="c1"># This is set on each iteration to ensure that any component</span>
                <span class="c1"># state which was set to this isn&#39;t propagated to other components.</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_slash</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.SlashHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_menu</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.MenuHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">coro</span><span class="p">:</span>
                    <span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">)</span>
                    <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="c1"># Under very specific timing there may be another future which could set a result while we await</span>
            <span class="c1"># ctx.respond therefore we create a task to avoid any erroneous behaviour from this trying to create</span>
            <span class="c1"># another response before it&#39;s returned the initial response.</span>
            <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> command error responder&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>

        <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>
</pre></div>

        </details>

            <div class="docstring"><p>Tanjun's standard <code><a href="tanjun/abc.html#Client">tanjun.abc.Client</a></code> implementation.</p>

<p>This implementation supports dependency injection for checks, command
callbacks, prefix getters and event listeners. For more information on how
this works see <code><a href="tanjun/injecting.html">tanjun.injecting</a></code>.</p>

<p><em>Note:</em>
By default this client includes a parser error handling hook which will
by overwritten if you call <code><a href="#Client.set_hooks">Client.set_hooks</a></code>.</p>
</div>


                            <div id="Client.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Client</span><span class="signature">(
    rest: hikari.api.rest.RESTClient,
    *,
    cache: Optional[hikari.api.cache.Cache] = None,
    events: Optional[hikari.api.event_manager.EventManager] = None,
    server: Optional[hikari.api.interaction_server.InteractionServer] = None,
    shards: Optional[hikari.traits.ShardAware] = None,
    voice: Optional[hikari.api.voice.VoiceComponent] = None,
    event_managed: bool = False,
    mention_prefix: bool = False,
    set_global_commands: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, bool] = False,
    declare_global_commands: Union[Sequence[Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int]], hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, bool] = False,
    command_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    message_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    user_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    _stack_level: int = 0
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">rest</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">RESTClient</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">cache</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">Cache</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">events</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">EventManager</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">server</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionServer</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">shards</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">ShardAware</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">voice</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">VoiceComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">event_managed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">mention_prefix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">set_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">declare_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishSequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a Tanjun client.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * For a quicker way to initiate this client around a standard bot aware</span>
<span class="sd">        client, see `Client.from_gateway_bot` and `Client.from_rest_bot`.</span>
<span class="sd">        * The endpoint used by `declare_global_commands` has a strict ratelimit which,</span>
<span class="sd">        as of writing, only allows for 2 requests per minute (with that ratelimit</span>
<span class="sd">        either being per-guild if targeting a specific guild otherwise globally).</span>
<span class="sd">        * `event_manager` is necessary for message command dispatch and will also</span>
<span class="sd">        be necessary for interaction command dispatch if `server` isn&#39;t</span>
<span class="sd">        provided.</span>
<span class="sd">        * `server` is used for interaction command dispatch if interaction</span>
<span class="sd">        events aren&#39;t being received from the event manager.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rest : hikari.api.rest.RestClient</span>
<span class="sd">            The Hikari REST client this will use.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        cache : hikari.api.cache.CacheClient</span>
<span class="sd">            The Hikari cache client this will use if applicable.</span>
<span class="sd">        event_manager : hikari.api.event_manager.EventManagerClient</span>
<span class="sd">            The Hikari event manager client this will use if applicable.</span>
<span class="sd">        server : hikari.api.interaction_server.InteractionServer</span>
<span class="sd">            The Hikari interaction server client this will use if applicable.</span>
<span class="sd">        shards : hikari.traits.ShardAware</span>
<span class="sd">            The Hikari shard aware client this will use if applicable.</span>
<span class="sd">        voice : hikari.api.voice.VoiceComponent</span>
<span class="sd">            The Hikari voice component this will use if applicable.</span>
<span class="sd">        event_managed : bool</span>
<span class="sd">            Whether or not this client is managed by the event manager.</span>

<span class="sd">            An event managed client will be automatically started and closed based</span>
<span class="sd">            on Hikari&#39;s lifetime events.</span>

<span class="sd">            Defaults to `False` and can only be passed as `True` if `event_manager`</span>
<span class="sd">            is also provided.</span>
<span class="sd">        mention_prefix : bool</span>
<span class="sd">            Whether or not mention prefixes should be automatically set when this</span>
<span class="sd">            client is first started.</span>

<span class="sd">            Defaults to `False` and it should be noted that this only applies to</span>
<span class="sd">            message commands.</span>
<span class="sd">        declare_global_commands : hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Whether or not to automatically set global slash commands when this</span>
<span class="sd">            client is first started. Defaults to `False`.</span>

<span class="sd">            If one or more guild objects/IDs are passed here then the registered</span>
<span class="sd">            global commands will be set on the specified guild(s) at startup rather</span>
<span class="sd">            than globally. This can be useful for testing/debug purposes as slash</span>
<span class="sd">            commands may take up to an hour to propagate globally but will</span>
<span class="sd">            immediately propagate when set on a specific guild.</span>
<span class="sd">        set_global_commands : hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Deprecated as of v2.1.1a1 alias of `declare_global_commands`.</span>
<span class="sd">        command_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand]] | None</span>
<span class="sd">            If provided, a mapping of top level command names to IDs of the</span>
<span class="sd">            existing commands to update.</span>

<span class="sd">            This will be used for all application commands but in cases where</span>
<span class="sd">            commands have overlapping names, `message_ids` and `user_ids` will</span>
<span class="sd">            take priority over this for their relevant command type.</span>

<span class="sd">            This field is complementary to `declare_global_commands` and, while it</span>
<span class="sd">            isn&#39;t necessarily required, this will in some situations help avoid</span>
<span class="sd">            permissions which were previously set for a command from being lost</span>
<span class="sd">            after a rename.</span>

<span class="sd">            This currently isn&#39;t supported when multiple guild IDs are passed for</span>
<span class="sd">            `declare_global_commands`.</span>
<span class="sd">        message_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of message context menu command names to the</span>
<span class="sd">            IDs of existing commands to update.</span>
<span class="sd">        user_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of user context menu command names to the IDs</span>
<span class="sd">            of existing commands to update.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises for the following reasons:</span>
<span class="sd">            * If `event_managed` is `True` when `event_manager` is `None`.</span>
<span class="sd">            * If `command_ids` is passed when multiple guild ids are provided for `declare_global_commands`.</span>
<span class="sd">            * If `command_ids` is passed when `declare_global_commands` is `False`.</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501 - line too long</span>
        <span class="c1"># InjectorClient.__init__</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">_LOGGER</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> initialised with the following components: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Event-managed client&quot;</span> <span class="k">if</span> <span class="n">event_managed</span> <span class="k">else</span> <span class="s2">&quot;Client&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="n">name</span>
                    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span>
                        <span class="p">(</span><span class="s2">&quot;cache&quot;</span><span class="p">,</span> <span class="n">cache</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;event manager&quot;</span><span class="p">,</span> <span class="n">events</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;interaction server&quot;</span><span class="p">,</span> <span class="n">server</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;rest&quot;</span><span class="p">,</span> <span class="n">rest</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;shard manager&quot;</span><span class="p">,</span> <span class="n">shards</span><span class="p">),</span>
                    <span class="p">]</span>
                    <span class="k">if</span> <span class="n">value</span>
                <span class="p">),</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">events</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">server</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Client initiaited without an event manager or interaction server, &quot;</span>
                <span class="s2">&quot;automatic command dispatch will be unavailable.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span> <span class="o">=</span> <span class="n">MessageAcceptsEnum</span><span class="o">.</span><span class="n">ALL</span> <span class="k">if</span> <span class="n">events</span> <span class="k">else</span> <span class="n">MessageAcceptsEnum</span><span class="o">.</span><span class="n">NONE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="n">cache</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">checks</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span><span class="p">:</span> <span class="n">_AutocompleteContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">AutocompleteContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span><span class="p">:</span> <span class="n">_MenuContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MenuContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_message_context</span><span class="p">:</span> <span class="n">_MessageContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MessageContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span><span class="p">:</span> <span class="n">_SlashContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">SlashContext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span> <span class="o">=</span> <span class="n">events</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grab_mention_prefix</span> <span class="o">=</span> <span class="n">mention_prefix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">]</span> <span class="o">=</span> <span class="n">hooks</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">()</span><span class="o">.</span><span class="n">set_on_parser_error</span><span class="p">(</span><span class="n">on_parser_error</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Command not found&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_not_found</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">SelfInjectingCallback</span><span class="p">[</span><span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span> <span class="o">=</span> <span class="n">rest</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_server</span> <span class="o">=</span> <span class="n">server</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shards</span> <span class="o">=</span> <span class="n">shards</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_voice</span> <span class="o">=</span> <span class="n">voice</span>

        <span class="k">if</span> <span class="n">event_managed</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">events</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Client cannot be event managed without an event manager&quot;</span><span class="p">)</span>

            <span class="n">events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">StartingEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_starting_event</span><span class="p">)</span>
            <span class="n">events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">StoppingEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_stopping_event</span><span class="p">)</span>

        <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">Client</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">RESTClient</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">rest</span><span class="p">),</span> <span class="n">rest</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">Cache</span><span class="p">,</span> <span class="n">cache</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">cache</span><span class="p">),</span> <span class="n">cache</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">events</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">EventManager</span><span class="p">,</span> <span class="n">events</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">events</span><span class="p">),</span> <span class="n">events</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">server</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionServer</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">server</span><span class="p">),</span> <span class="n">server</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">shards</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">ShardAware</span><span class="p">,</span> <span class="n">shards</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">shards</span><span class="p">),</span> <span class="n">shards</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">voice</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">VoiceComponent</span><span class="p">,</span> <span class="n">voice</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">voice</span><span class="p">),</span> <span class="n">voice</span><span class="p">)</span>

        <span class="n">dependencies</span><span class="o">.</span><span class="n">set_standard_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_startup_registers</span><span class="p">(</span>
            <span class="n">set_global_commands</span><span class="p">,</span>
            <span class="n">declare_global_commands</span><span class="p">,</span>
            <span class="n">command_ids</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
            <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="n">_stack_level</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a Tanjun client.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>For a quicker way to initiate this client around a standard bot aware
client, see <code><a href="#Client.from_gateway_bot">Client.from_gateway_bot</a></code> and <code><a href="#Client.from_rest_bot">Client.from_rest_bot</a></code>.</li>
<li>The endpoint used by <code><a href="#Client.declare_global_commands">declare_global_commands</a></code> has a strict ratelimit which,
as of writing, only allows for 2 requests per minute (with that ratelimit
either being per-guild if targeting a specific guild otherwise globally).</li>
<li><code>event_manager</code> is necessary for message command dispatch and will also
be necessary for interaction command dispatch if <code><a href="#Client.server">server</a></code> isn't
provided.</li>
<li><code><a href="#Client.server">server</a></code> is used for interaction command dispatch if interaction
events aren't being received from the event manager.</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>rest</strong> (hikari.api.rest.RestClient):
The Hikari REST client this will use.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>cache</strong> (hikari.api.cache.CacheClient):
The Hikari cache client this will use if applicable.</li>
<li><strong>event_manager</strong> (hikari.api.event_manager.EventManagerClient):
The Hikari event manager client this will use if applicable.</li>
<li><strong>server</strong> (hikari.api.interaction_server.InteractionServer):
The Hikari interaction server client this will use if applicable.</li>
<li><strong>shards</strong> (hikari.traits.ShardAware):
The Hikari shard aware client this will use if applicable.</li>
<li><strong>voice</strong> (hikari.api.voice.VoiceComponent):
The Hikari voice component this will use if applicable.</li>
<li><p><strong>event_managed</strong> (bool):
Whether or not this client is managed by the event manager.</p>

<p>An event managed client will be automatically started and closed based
on Hikari's lifetime events.</p>

<p>Defaults to <code>False</code> and can only be passed as <code>True</code> if <code>event_manager</code>
is also provided.</p></li>
<li><p><strong>mention_prefix</strong> (bool):
Whether or not mention prefixes should be automatically set when this
client is first started.</p>

<p>Defaults to <code>False</code> and it should be noted that this only applies to
message commands.</p></li>
<li><p><strong>declare_global_commands</strong> (hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool):
Whether or not to automatically set global slash commands when this
client is first started. Defaults to <code>False</code>.</p>

<p>If one or more guild objects/IDs are passed here then the registered
global commands will be set on the specified guild(s) at startup rather
than globally. This can be useful for testing/debug purposes as slash
commands may take up to an hour to propagate globally but will
immediately propagate when set on a specific guild.</p></li>
<li><strong>set_global_commands</strong> (hikari.Snowflakeish | hikari.PartialGuild | bool):
Deprecated as of v2.1.1a1 alias of <code><a href="#Client.declare_global_commands">declare_global_commands</a></code>.</li>
<li><p><strong>command_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand]] | None):
If provided, a mapping of top level command names to IDs of the
existing commands to update.</p>

<p>This will be used for all application commands but in cases where
commands have overlapping names, <code>message_ids</code> and <code>user_ids</code> will
take priority over this for their relevant command type.</p>

<p>This field is complementary to <code><a href="#Client.declare_global_commands">declare_global_commands</a></code> and, while it
isn't necessarily required, this will in some situations help avoid
permissions which were previously set for a command from being lost
after a rename.</p>

<p>This currently isn't supported when multiple guild IDs are passed for
<code><a href="#Client.declare_global_commands">declare_global_commands</a></code>.</p></li>
<li><strong>message_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of message context menu command names to the
IDs of existing commands to update.</li>
<li><strong>user_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of user context menu command names to the IDs
of existing commands to update.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises for the following reasons:
<ul>
<li>If <code>event_managed</code> is <code>True</code> when <code>event_manager</code> is <code>None</code>.</li>
<li>If <code>command_ids</code> is passed when multiple guild ids are provided for <code><a href="#Client.declare_global_commands">declare_global_commands</a></code>.</li>
<li>If <code>command_ids</code> is passed when <code><a href="#Client.declare_global_commands">declare_global_commands</a></code> is <code>False</code>.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="Client.from_gateway_bot" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.from_gateway_bot">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">from_gateway_bot</span><span class="signature">(
    cls,
    bot: hikari.traits.GatewayBotAware,
    /,
    *,
    event_managed: bool = True,
    mention_prefix: bool = False,
    declare_global_commands: Union[Sequence[Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int]], hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, bool] = False,
    set_global_commands: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, bool] = False,
    command_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    message_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    user_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None
) -&gt; <a href="tanjun/clients.html#Client">tanjun.clients.Client</a></span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_gateway_bot</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">bot</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">GatewayBotAware</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">event_managed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">mention_prefix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">declare_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishSequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">set_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Client</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a `Client` from a `hikari.traits.GatewayBotAware` instance.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This implicitly defaults the client to human only mode.</span>
<span class="sd">        * This sets type dependency injectors for the hikari traits present in</span>
<span class="sd">          `bot` (including `hikari.traits.GatewayBotAware`).</span>
<span class="sd">        * The endpoint used by `declare_global_commands` has a strict ratelimit</span>
<span class="sd">          which, as of writing, only allows for 2 requests per minute (with that</span>
<span class="sd">          ratelimit either being per-guild if targeting a specific guild</span>
<span class="sd">          otherwise globally).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bot : hikari.traits.GatewayBotAware</span>
<span class="sd">            The bot client to build from.</span>

<span class="sd">            This will be used to infer the relevant Hikari clients to use.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        event_managed : bool</span>
<span class="sd">            Whether or not this client is managed by the event manager.</span>

<span class="sd">            An event managed client will be automatically started and closed</span>
<span class="sd">            based on Hikari&#39;s lifetime events.</span>

<span class="sd">            Defaults to `True`.</span>
<span class="sd">        mention_prefix : bool</span>
<span class="sd">            Whether or not mention prefixes should be automatically set when this</span>
<span class="sd">            client is first started.</span>

<span class="sd">            Defaults to `False` and it should be noted that this only applies to</span>
<span class="sd">            message commands.</span>
<span class="sd">        declare_global_commands : hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Whether or not to automatically set global slash commands when this</span>
<span class="sd">            client is first started. Defaults to `False`.</span>

<span class="sd">            If one or more guild objects/IDs are passed here then the registered</span>
<span class="sd">            global commands will be set on the specified guild(s) at startup rather</span>
<span class="sd">            than globally. This can be useful for testing/debug purposes as slash</span>
<span class="sd">            commands may take up to an hour to propagate globally but will</span>
<span class="sd">            immediately propagate when set on a specific guild.</span>
<span class="sd">        set_global_commands : hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Deprecated as of v2.1.1a1 alias of `declare_global_commands`.</span>
<span class="sd">        command_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of top level command names to IDs of the commands to update.</span>

<span class="sd">            This field is complementary to `declare_global_commands` and, while it</span>
<span class="sd">            isn&#39;t necessarily required, this will in some situations help avoid</span>
<span class="sd">            permissions which were previously set for a command from being lost</span>
<span class="sd">            after a rename.</span>

<span class="sd">            This currently isn&#39;t supported when multiple guild IDs are passed for</span>
<span class="sd">            `declare_global_commands`.</span>
<span class="sd">        message_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of message context menu command names to the</span>
<span class="sd">            IDs of existing commands to update.</span>
<span class="sd">        user_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of user context menu command names to the IDs</span>
<span class="sd">            of existing commands to update.</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501 - line too long</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">cls</span><span class="p">(</span>
                <span class="n">rest</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">rest</span><span class="p">,</span>
                <span class="n">cache</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">cache</span><span class="p">,</span>
                <span class="n">events</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">event_manager</span><span class="p">,</span>
                <span class="n">shards</span><span class="o">=</span><span class="n">bot</span><span class="p">,</span>
                <span class="n">voice</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">voice</span><span class="p">,</span>
                <span class="n">event_managed</span><span class="o">=</span><span class="n">event_managed</span><span class="p">,</span>
                <span class="n">mention_prefix</span><span class="o">=</span><span class="n">mention_prefix</span><span class="p">,</span>
                <span class="n">declare_global_commands</span><span class="o">=</span><span class="n">declare_global_commands</span><span class="p">,</span>
                <span class="n">set_global_commands</span><span class="o">=</span><span class="n">set_global_commands</span><span class="p">,</span>
                <span class="n">command_ids</span><span class="o">=</span><span class="n">command_ids</span><span class="p">,</span>
                <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
                <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
                <span class="n">_stack_level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">set_human_only</span><span class="p">()</span>
            <span class="o">.</span><span class="n">set_hikari_trait_injectors</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Build a <code><a href="#Client">Client</a></code> from a <code>hikari.traits.GatewayBotAware</code> instance.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>This implicitly defaults the client to human only mode.</li>
<li>This sets type dependency injectors for the hikari traits present in
<code>bot</code> (including <code>hikari.traits.GatewayBotAware</code>).</li>
<li>The endpoint used by <code><a href="#Client.declare_global_commands">declare_global_commands</a></code> has a strict ratelimit
which, as of writing, only allows for 2 requests per minute (with that
ratelimit either being per-guild if targeting a specific guild
otherwise globally).</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>bot</strong> (hikari.traits.GatewayBotAware):
The bot client to build from.</p>

<p>This will be used to infer the relevant Hikari clients to use.</p></li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>event_managed</strong> (bool):
Whether or not this client is managed by the event manager.</p>

<p>An event managed client will be automatically started and closed
based on Hikari's lifetime events.</p>

<p>Defaults to <code>True</code>.</p></li>
<li><p><strong>mention_prefix</strong> (bool):
Whether or not mention prefixes should be automatically set when this
client is first started.</p>

<p>Defaults to <code>False</code> and it should be noted that this only applies to
message commands.</p></li>
<li><p><strong>declare_global_commands</strong> (hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool):
Whether or not to automatically set global slash commands when this
client is first started. Defaults to <code>False</code>.</p>

<p>If one or more guild objects/IDs are passed here then the registered
global commands will be set on the specified guild(s) at startup rather
than globally. This can be useful for testing/debug purposes as slash
commands may take up to an hour to propagate globally but will
immediately propagate when set on a specific guild.</p></li>
<li><strong>set_global_commands</strong> (hikari.Snowflakeish | hikari.PartialGuild | bool):
Deprecated as of v2.1.1a1 alias of <code><a href="#Client.declare_global_commands">declare_global_commands</a></code>.</li>
<li><p><strong>command_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of top level command names to IDs of the commands to update.</p>

<p>This field is complementary to <code><a href="#Client.declare_global_commands">declare_global_commands</a></code> and, while it
isn't necessarily required, this will in some situations help avoid
permissions which were previously set for a command from being lost
after a rename.</p>

<p>This currently isn't supported when multiple guild IDs are passed for
<code><a href="#Client.declare_global_commands">declare_global_commands</a></code>.</p></li>
<li><strong>message_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of message context menu command names to the
IDs of existing commands to update.</li>
<li><strong>user_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of user context menu command names to the IDs
of existing commands to update.</li>
</ul>
</div>


                            </div>
                            <div id="Client.from_rest_bot" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.from_rest_bot">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">from_rest_bot</span><span class="signature">(
    cls,
    bot: hikari.traits.RESTBotAware,
    /,
    *,
    declare_global_commands: Union[Sequence[Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int]], hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, bool] = False,
    set_global_commands: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, bool] = False,
    command_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    message_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    user_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None
) -&gt; <a href="tanjun/clients.html#Client">tanjun.clients.Client</a></span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_rest_bot</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">bot</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">RESTBotAware</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">declare_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishSequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">set_global_commands</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Client</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a `Client` from a `hikari.traits.RESTBotAware` instance.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This sets type dependency injectors for the hikari traits present in</span>
<span class="sd">          `bot` (including `hikari.traits.RESTBotAware`).</span>
<span class="sd">        * The endpoint used by `declare_global_commands` has a strict ratelimit</span>
<span class="sd">          which, as of writing, only allows for 2 requests per minute (with that</span>
<span class="sd">          ratelimit either being per-guild if targeting a specific guild</span>
<span class="sd">          otherwise globally).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bot : hikari.traits.RESTBotAware</span>
<span class="sd">            The bot client to build from.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        declare_global_commands : hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Whether or not to automatically set global slash commands when this</span>
<span class="sd">            client is first started. Defaults to `False`.</span>

<span class="sd">            If one or more guild objects/IDs are passed here then the registered</span>
<span class="sd">            global commands will be set on the specified guild(s) at startup rather</span>
<span class="sd">            than globally. This can be useful for testing/debug purposes as slash</span>
<span class="sd">            commands may take up to an hour to propagate globally but will</span>
<span class="sd">            immediately propagate when set on a specific guild.</span>
<span class="sd">        set_global_commands : hikari.Snowflakeish | hikari.PartialGuild | bool</span>
<span class="sd">            Deprecated as of v2.1.1a1 alias of `declare_global_commands`.</span>
<span class="sd">        command_ids : collections.abc.Mapping[str, hikari.Snowflakeis | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of top level command names to IDs of the</span>
<span class="sd">            existing commands to update.</span>

<span class="sd">            This will be used for all application commands but in cases where</span>
<span class="sd">            commands have overlapping names, `message_ids` and `user_ids` will</span>
<span class="sd">            take priority over this for their relevant command type.</span>

<span class="sd">            This field is complementary to `declare_global_commands` and, while it</span>
<span class="sd">            isn&#39;t necessarily required, this will in some situations help avoid</span>
<span class="sd">            permissions which were previously set for a command from being lost</span>
<span class="sd">            after a rename.</span>

<span class="sd">            This currently isn&#39;t supported when multiple guild IDs are passed for</span>
<span class="sd">            `declare_global_commands`.</span>
<span class="sd">        message_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of message context menu command names to the</span>
<span class="sd">            IDs of existing commands to update.</span>
<span class="sd">        user_ids : collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None</span>
<span class="sd">            If provided, a mapping of user context menu command names to the IDs</span>
<span class="sd">            of existing commands to update.</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501 - line too long</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">rest</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">rest</span><span class="p">,</span>
            <span class="n">server</span><span class="o">=</span><span class="n">bot</span><span class="o">.</span><span class="n">interaction_server</span><span class="p">,</span>
            <span class="n">declare_global_commands</span><span class="o">=</span><span class="n">declare_global_commands</span><span class="p">,</span>
            <span class="n">set_global_commands</span><span class="o">=</span><span class="n">set_global_commands</span><span class="p">,</span>
            <span class="n">command_ids</span><span class="o">=</span><span class="n">command_ids</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
            <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">set_hikari_trait_injectors</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Build a <code><a href="#Client">Client</a></code> from a <code>hikari.traits.RESTBotAware</code> instance.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>This sets type dependency injectors for the hikari traits present in
<code>bot</code> (including <code>hikari.traits.RESTBotAware</code>).</li>
<li>The endpoint used by <code><a href="#Client.declare_global_commands">declare_global_commands</a></code> has a strict ratelimit
which, as of writing, only allows for 2 requests per minute (with that
ratelimit either being per-guild if targeting a specific guild
otherwise globally).</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bot</strong> (hikari.traits.RESTBotAware):
The bot client to build from.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>declare_global_commands</strong> (hikari.SnowflakeishSequence[hikari.PartialGuild] | hikari.Snowflakeish | hikari.PartialGuild | bool):
Whether or not to automatically set global slash commands when this
client is first started. Defaults to <code>False</code>.</p>

<p>If one or more guild objects/IDs are passed here then the registered
global commands will be set on the specified guild(s) at startup rather
than globally. This can be useful for testing/debug purposes as slash
commands may take up to an hour to propagate globally but will
immediately propagate when set on a specific guild.</p></li>
<li><strong>set_global_commands</strong> (hikari.Snowflakeish | hikari.PartialGuild | bool):
Deprecated as of v2.1.1a1 alias of <code><a href="#Client.declare_global_commands">declare_global_commands</a></code>.</li>
<li><p><strong>command_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeis | hikari.PartialCommand] | None):
If provided, a mapping of top level command names to IDs of the
existing commands to update.</p>

<p>This will be used for all application commands but in cases where
commands have overlapping names, <code>message_ids</code> and <code>user_ids</code> will
take priority over this for their relevant command type.</p>

<p>This field is complementary to <code><a href="#Client.declare_global_commands">declare_global_commands</a></code> and, while it
isn't necessarily required, this will in some situations help avoid
permissions which were previously set for a command from being lost
after a rename.</p>

<p>This currently isn't supported when multiple guild IDs are passed for
<code><a href="#Client.declare_global_commands">declare_global_commands</a></code>.</p></li>
<li><strong>message_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of message context menu command names to the
IDs of existing commands to update.</li>
<li><strong>user_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of user context menu command names to the IDs
of existing commands to update.</li>
</ul>
</div>


                            </div>
                            <div id="Client.defaults_to_ephemeral" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.defaults_to_ephemeral">#&nbsp;&nbsp</a>

        <span class="name">defaults_to_ephemeral</span><span class="annotation">: bool</span>
    </div>

    
            <div class="docstring"><p>Whether slash contexts spawned by this client should default to ephemeral responses.</p>

<p>This effects calls to <code>SlashContext.create_followup</code>,
<code>SlashContext.create_initial_response</code>, <code>SlashContext.defer</code> and
<code>SlashContext.respond</code> unless the <code>flags</code> field is provided for the
methods which support it.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>This may be overridden by <code>BaseSlashCommand.defaults_to_ephemeral</code>
and <code><a href="#Component.defaults_to_ephemeral">Component.defaults_to_ephemeral</a></code>.</li>
<li>This defaults to <code>False</code>.</li>
<li>This only effects slash command execution.</li>
</ul>
</div>


                            </div>
                            <div id="Client.message_accepts" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.message_accepts">#&nbsp;&nbsp</a>

        <span class="name">message_accepts</span><span class="annotation">: <a href="tanjun/clients.html#MessageAcceptsEnum">tanjun.clients.MessageAcceptsEnum</a></span>
    </div>

    
            <div class="docstring"><p>Type of message create events this command client accepts for execution.</p>
</div>


                            </div>
                            <div id="Client.is_human_only" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.is_human_only">#&nbsp;&nbsp</a>

        <span class="name">is_human_only</span><span class="annotation">: bool</span>
    </div>

    
            <div class="docstring"><p>Whether this client is only executing for non-bot/webhook users messages.</p>
</div>


                            </div>
                            <div id="Client.cache" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.cache">#&nbsp;&nbsp</a>

        <span class="name">cache</span><span class="annotation">: Optional[hikari.api.cache.Cache]</span>
    </div>

    
            <div class="docstring"><p>Hikari cache instance this command client was initialised with.</p>
</div>


                            </div>
                            <div id="Client.checks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.checks">#&nbsp;&nbsp</a>

        <span class="name">checks</span><span class="annotation">: collections.abc.Collection[collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the level <code><a href="tanjun/abc.html#Context">tanjun.abc.Context</a></code> checks registered to this client.</p>

<p><em>Note:</em>
These may be taking advantage of the standard dependency injection.</p>
</div>


                            </div>
                            <div id="Client.components" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.components">#&nbsp;&nbsp</a>

        <span class="name">components</span><span class="annotation">: collections.abc.Collection[<a href="tanjun/abc.html#Component">tanjun.abc.Component</a>]</span>
    </div>

    
            <div class="docstring"><p>Collection of the components this command client is using.</p>
</div>


                            </div>
                            <div id="Client.events" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.events">#&nbsp;&nbsp</a>

        <span class="name">events</span><span class="annotation">: Optional[hikari.api.event_manager.EventManager]</span>
    </div>

    
            <div class="docstring"><p>Object of the event manager this client was initialised with.</p>

<p>This is used for executing message commands if set.</p>
</div>


                            </div>
                            <div id="Client.listeners" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.listeners">#&nbsp;&nbsp</a>

        <span class="name">listeners</span><span class="annotation">: collections.abc.Mapping[type[hikari.events.base_events.Event], collections.abc.Collection[collections.abc.Callable[..., collections.abc.Coroutine[typing.Any, typing.Any, None]]]]</span>
    </div>

    
            <div class="docstring"><p>Mapping of event types to the listeners registered in this client.</p>
</div>


                            </div>
                            <div id="Client.is_alive" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.is_alive">#&nbsp;&nbsp</a>

        <span class="name">is_alive</span><span class="annotation">: bool</span>
    </div>

    
            <div class="docstring"><p>Whether this client is alive.</p>
</div>


                            </div>
                            <div id="Client.loop" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.loop">#&nbsp;&nbsp</a>

        <span class="name">loop</span><span class="annotation">: Optional[asyncio.events.AbstractEventLoop]</span>
    </div>

    
            <div class="docstring"><p>The loop this client is bound to if it's alive.</p>
</div>


                            </div>
                            <div id="Client.hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.hooks">#&nbsp;&nbsp</a>

        <span class="name">hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>]]</span>
    </div>

    
            <div class="docstring"><p>Top level <code><a href="tanjun/abc.html#AnyHooks">tanjun.abc.AnyHooks</a></code> set for this client.</p>

<p>These are called during both message, menu and slash command execution.</p>
</div>


                            </div>
                            <div id="Client.menu_hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.menu_hooks">#&nbsp;&nbsp</a>

        <span class="name">menu_hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>]]</span>
    </div>

    
            <div class="docstring"><p>Top level <code><a href="tanjun/abc.html#MenuHooks">tanjun.abc.MenuHooks</a></code> set for this client.</p>

<p>These are only called during menu command execution.</p>
</div>


                            </div>
                            <div id="Client.message_hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.message_hooks">#&nbsp;&nbsp</a>

        <span class="name">message_hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]]</span>
    </div>

    
            <div class="docstring"><p>Top level <code><a href="tanjun/abc.html#MessageHooks">tanjun.abc.MessageHooks</a></code> set for this client.</p>

<p>These are only called during message command execution.</p>
</div>


                            </div>
                            <div id="Client.slash_hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.slash_hooks">#&nbsp;&nbsp</a>

        <span class="name">slash_hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]]</span>
    </div>

    
            <div class="docstring"><p>Top level <code><a href="tanjun/abc.html#SlashHooks">tanjun.abc.SlashHooks</a></code> set for this client.</p>

<p>These are only called during slash command execution.</p>
</div>


                            </div>
                            <div id="Client.metadata" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.metadata">#&nbsp;&nbsp</a>

        <span class="name">metadata</span><span class="annotation">: collections.abc.MutableMapping[typing.Any, typing.Any]</span>
    </div>

    
            <div class="docstring"><p>Mutable mapping of the metadata set for this client.</p>

<p><em>Note:</em>
Any modifications made to this mutable mapping will be preserved by
the client.</p>
</div>


                            </div>
                            <div id="Client.prefix_getter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.prefix_getter">#&nbsp;&nbsp</a>

        <span class="name">prefix_getter</span><span class="annotation">: Optional[collections.abc.Callable[..., collections.abc.Awaitable[collections.abc.Iterable[str]]]]</span>
    </div>

    
            <div class="docstring"><p>Prefix getter method set for this client.</p>

<p>For more information on this callback's signature see <code>PrefixGetter</code>.</p>
</div>


                            </div>
                            <div id="Client.prefixes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.prefixes">#&nbsp;&nbsp</a>

        <span class="name">prefixes</span><span class="annotation">: collections.abc.Collection[str]</span>
    </div>

    
            <div class="docstring"><p>Collection of the standard prefixes set for this client.</p>
</div>


                            </div>
                            <div id="Client.rest" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.rest">#&nbsp;&nbsp</a>

        <span class="name">rest</span><span class="annotation">: hikari.api.rest.RESTClient</span>
    </div>

    
            <div class="docstring"><p>Object of the Hikari REST client this client was initialised with.</p>
</div>


                            </div>
                            <div id="Client.server" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.server">#&nbsp;&nbsp</a>

        <span class="name">server</span><span class="annotation">: Optional[hikari.api.interaction_server.InteractionServer]</span>
    </div>

    
            <div class="docstring"><p>Object of the Hikari interaction server provided for this client.</p>

<p>This is used for executing slash commands if set.</p>
</div>


                            </div>
                            <div id="Client.shards" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.shards">#&nbsp;&nbsp</a>

        <span class="name">shards</span><span class="annotation">: Optional[hikari.traits.ShardAware]</span>
    </div>

    
            <div class="docstring"><p>Object of the Hikari shard manager this client was initialised with.</p>
</div>


                            </div>
                            <div id="Client.voice" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Client.voice">#&nbsp;&nbsp</a>

        <span class="name">voice</span><span class="annotation">: Optional[hikari.api.voice.VoiceComponent]</span>
    </div>

    
            <div class="docstring"><p>Object of the Hikari voice component this client was initialised with.</p>
</div>


                            </div>
                            <div id="Client.clear_application_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.clear_application_commands">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">clear_application_commands</span><span class="signature">(
    self,
    *,
    application: Union[hikari.guilds.PartialApplication, hikari.snowflakes.Snowflake, int, NoneType] = None,
    guild: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, hikari.undefined.UndefinedType] = UNDEFINED
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">clear_application_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">application</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">application</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_rest_application_id</span><span class="p">()</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">set_application_commands</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="p">(),</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Clear the commands declared either globally or for a specific guild.</p>

<p><em>Note:</em>
The endpoint this uses has a strict ratelimit which, as of writing,
only allows for 2 requests per minute (with that ratelimit either
being per-guild if targeting a specific guild otherwise globally).</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>application</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialApplication | None):
The application to clear commands for.</p>

<p>If left as <code>None</code> then this will be inferred from the authorization
being used by <code><a href="#Client.rest">Client.rest</a></code>.</p></li>
<li><p><strong>guild</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialGuild | hikari.UNDEFINED):
Object or ID of the guild to clear commands for.</p>

<p>If left as <code>None</code> global commands will be cleared.</p></li>
</ul>
</div>


                            </div>
                            <div id="Client.set_global_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_global_commands">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">set_global_commands</span><span class="signature">(
    self,
    *,
    application: Union[hikari.guilds.PartialApplication, hikari.snowflakes.Snowflake, int, NoneType] = None,
    guild: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, hikari.undefined.UndefinedType] = UNDEFINED,
    force: bool = False
) -&gt; collections.abc.Sequence[hikari.commands.PartialCommand]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_global_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Alias of `Client.declare_global_commands`.</span>

<span class="sd">        .. deprecated:: v2.1.1a1</span>
<span class="sd">            Use `Client.declare_global_commands` instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;The `Client.set_global_commands` method has been deprecated since v2.1.1a1. &quot;</span>
            <span class="s2">&quot;Use `Client.declare_global_commands` instead.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">declare_global_commands</span><span class="p">(</span><span class="n">application</span><span class="o">=</span><span class="n">application</span><span class="p">,</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Alias of <code><a href="#Client.declare_global_commands">Client.declare_global_commands</a></code>.</p>

<p><em>Deprecated since version v2.1.1a1:</em>
Use <code><a href="#Client.declare_global_commands">Client.declare_global_commands</a></code> instead.</p>
</div>


                            </div>
                            <div id="Client.declare_global_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.declare_global_commands">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">declare_global_commands</span><span class="signature">(
    self,
    command_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    *,
    application: Union[hikari.guilds.PartialApplication, hikari.snowflakes.Snowflake, int, NoneType] = None,
    guild: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, hikari.undefined.UndefinedType] = UNDEFINED,
    message_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    user_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    force: bool = False
) -&gt; collections.abc.Sequence[hikari.commands.PartialCommand]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_global_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">commands</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_slash_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">declare_application_commands</span><span class="p">(</span>
            <span class="n">commands</span><span class="p">,</span>
            <span class="n">command_ids</span><span class="p">,</span>
            <span class="n">application</span><span class="o">=</span><span class="n">application</span><span class="p">,</span>
            <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
            <span class="n">user_ids</span><span class="o">=</span><span class="n">user_ids</span><span class="p">,</span>
            <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the global application commands for a bot based on the loaded components.</p>

<p><em>Warning:</em>
This will overwrite any previously set application commands and
only targets commands marked as global.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>The endpoint this uses has a strict ratelimit which, as of writing,
only allows for 2 requests per minute (with that ratelimit either
being per-guild if targeting a specific guild otherwise globally).</li>
<li>Setting a specific <code>guild</code> can be useful for testing/debug purposes
as slash commands may take up to an hour to propagate globally but
will immediately propagate when set on a specific guild.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>command_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of top level command names to IDs of the
existing commands to update.</p>

<p>This will be used for all application commands but in cases where
commands have overlapping names, <code>message_ids</code> and <code>user_ids</code> will
take priority over this for their relevant command type.</p></li>
<li><p><strong>application</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialApplication | None):
Object or ID of the application to set the global commands for.</p>

<p>If left as <code>None</code> then this will be inferred from the authorization
being used by <code><a href="#Client.rest">Client.rest</a></code>.</p></li>
<li><p><strong>guild</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialGuild | None):
Object or ID of the guild to set the global commands to.</p>

<p>If left as <code>None</code> global commands will be set.</p></li>
<li><strong>message_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of message context menu command names to the
IDs of existing commands to update.</li>
<li><strong>user_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of user context menu command names to the IDs
of existing commands to update.</li>
<li><p><strong>force</strong> (bool):
Force this to declare the commands regardless of whether or not
they match the current state of the declared commands.</p>

<p>Defaults to <code>False</code>. This default behaviour helps avoid issues with the
2 request per minute (per-guild or globally) ratelimit and the other limit
of only 200 application command creates per day (per guild or globally).</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Sequence[hikari..Command]</strong>: API representations of the set commands.</li>
</ul>
</div>


                            </div>
                            <div id="Client.declare_application_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.declare_application_command">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">declare_application_command</span><span class="signature">(
    self,
    command: <a href="tanjun/abc.html#AppCommand">tanjun.abc.AppCommand</a>[typing.Any],
    /,
    command_id: Union[hikari.snowflakes.Snowflake, int, NoneType] = None,
    *,
    application: Union[hikari.guilds.PartialApplication, hikari.snowflakes.Snowflake, int, NoneType] = None,
    guild: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, hikari.undefined.UndefinedType] = UNDEFINED
) -&gt; hikari.commands.PartialCommand</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_application_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">command_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflakeish</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">application</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_rest_application_id</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">command_id</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">):</span>
                <span class="n">description</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">description</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">options</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">description</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span>
                <span class="n">options</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span>

            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">edit_application_command</span><span class="p">(</span>
                <span class="n">application</span><span class="p">,</span>
                <span class="n">command_id</span><span class="p">,</span>
                <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">):</span>
                <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">create_slash_command</span><span class="p">(</span>
                    <span class="n">application</span><span class="p">,</span>
                    <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                    <span class="n">options</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">options</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">ContextMenuCommandBuilder</span><span class="p">):</span>
                <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">create_context_menu_command</span><span class="p">(</span>
                    <span class="n">application</span><span class="p">,</span>
                    <span class="n">builder</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">builder</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">,</span>
                    <span class="n">default_permission</span><span class="o">=</span><span class="n">builder</span><span class="o">.</span><span class="n">default_permission</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown command builder type </span><span class="si">{</span><span class="n">builder</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">guild</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">set_tracked_command</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>  <span class="c1"># TODO: is this fine?</span>

        <span class="k">return</span> <span class="n">response</span>
</pre></div>

        </details>

            <div class="docstring"><p>Declare a single slash command for a bot.</p>

<p><em>Warning:</em>
Providing <code>command_id</code> when updating a command helps avoid any
permissions set for the command being lose (e.g. when changing the
command's name).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (AppCommand):
The command to register.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>application</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialApplication | None):
The application to register the command with.</p>

<p>If left as <code>None</code> then this will be inferred from the authorization
being used by <code><a href="#Client.rest">Client.rest</a></code>.</p></li>
<li><strong>command_id</strong> (hikari.snowflakes.Snowflakeish | None):
ID of the command to update.</li>
<li><p><strong>guild</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialGuild | None):
Object or ID of the guild to register the command with.</p>

<p>If left as <code>None</code> then the command will be registered globally.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.PartialCommand</strong>: API representation of the command that was registered.</li>
</ul>
</div>


                            </div>
                            <div id="Client.declare_application_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.declare_application_commands">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">declare_application_commands</span><span class="signature">(
    self,
    commands: collections.abc.Iterable[<a href="tanjun/abc.html#AppCommand">tanjun.abc.AppCommand</a>[typing.Any]],
    /,
    command_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    *,
    application: Union[hikari.guilds.PartialApplication, hikari.snowflakes.Snowflake, int, NoneType] = None,
    guild: Union[hikari.guilds.PartialGuild, hikari.snowflakes.Snowflake, int, hikari.undefined.UndefinedType] = UNDEFINED,
    message_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    user_ids: Optional[collections.abc.Mapping[str, Union[hikari.commands.PartialCommand, hikari.snowflakes.Snowflake, int]]] = None,
    force: bool = False
) -&gt; collections.abc.Sequence[hikari.commands.PartialCommand]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">declare_application_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">commands</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">command_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">application</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialApplication</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">guild</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialGuild</span><span class="p">]]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_ids</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">SnowflakeishOr</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">command_ids</span> <span class="o">=</span> <span class="n">command_ids</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">names_to_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">conflicts</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">builders</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">CommandBuilder</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">message_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">slash_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">user_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">commands</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">names_to_commands</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">builders</span><span class="p">:</span>
                <span class="n">conflicts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="n">builder</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
            <span class="n">command_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">builder</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
                <span class="n">user_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">user_ids</span><span class="p">:</span>
                    <span class="n">command_id</span> <span class="o">=</span> <span class="n">user_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">builder</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">:</span>
                <span class="n">message_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">message_ids</span><span class="p">:</span>
                    <span class="n">command_id</span> <span class="o">=</span> <span class="n">message_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">builder</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
                <span class="n">slash_count</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="n">command_id</span> <span class="o">:=</span> <span class="p">(</span><span class="n">command_id</span> <span class="ow">or</span> <span class="n">command_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)):</span>
                <span class="n">builder</span><span class="o">.</span><span class="n">set_id</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="n">command_id</span><span class="p">))</span>

            <span class="n">builders</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">builder</span>

        <span class="k">if</span> <span class="n">conflicts</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Couldn&#39;t declare commands due to conflicts. The following command names have more than one command &quot;</span>
                <span class="s2">&quot;registered for them &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">type_</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">type_</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">conflicts</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">message_count</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You can only declare up to 5 top level message context menus in a guild or globally&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">slash_count</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You can only declare up to 100 top level slash commands in a guild or globally&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">user_count</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You can only declare up to 5 top level message context menus in a guild or globally&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">application</span><span class="p">:</span>
            <span class="n">application</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_rest_application_id</span><span class="p">()</span>

        <span class="n">target_type</span> <span class="o">=</span> <span class="s2">&quot;global&quot;</span> <span class="k">if</span> <span class="n">guild</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">UNDEFINED</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;guild </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">guild</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
            <span class="n">registered_commands</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_application_commands</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">registered_commands</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">builders</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
                <span class="n">_cmp_command</span><span class="p">(</span><span class="n">builders</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">c</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)),</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">registered_commands</span>
            <span class="p">):</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Skipping bulk declare for </span><span class="si">%s</span><span class="s2"> application commands since they&#39;re already declared&quot;</span><span class="p">,</span> <span class="n">target_type</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">registered_commands</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Bulk declaring </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> application commands&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">builders</span><span class="p">),</span> <span class="n">target_type</span><span class="p">)</span>
        <span class="n">responses</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">set_application_commands</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">builders</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">guild</span><span class="o">=</span><span class="n">guild</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">guild</span><span class="p">:</span>
                <span class="n">names_to_commands</span><span class="p">[(</span><span class="n">response</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">)]</span><span class="o">.</span><span class="n">set_tracked_command</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>  <span class="c1"># TODO: is this fine?</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">expected_id</span> <span class="o">:=</span> <span class="n">command_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">))</span> <span class="ow">and</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="n">expected_id</span><span class="p">)</span> <span class="o">!=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;ID mismatch found for </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> command </span><span class="si">%r</span><span class="s2">, expected </span><span class="si">%s</span><span class="s2"> but got </span><span class="si">%s</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;This suggests that any previous permissions set for this command will have been lost.&quot;</span><span class="p">,</span>
                    <span class="n">target_type</span><span class="p">,</span>
                    <span class="n">response</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">expected_id</span><span class="p">,</span>
                    <span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Successfully declared </span><span class="si">%s</span><span class="s2"> (top-level) </span><span class="si">%s</span><span class="s2"> commands&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">responses</span><span class="p">),</span> <span class="n">target_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_LOGGER</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Declared </span><span class="si">%s</span><span class="s2"> command ids; </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">target_type</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">responses</span>
</pre></div>

        </details>

            <div class="docstring"><p>Declare a collection of slash commands for a bot.</p>

<p><em>Note:</em>
The endpoint this uses has a strict ratelimit which, as of writing,
only allows for 2 requests per minute (with that ratelimit either
being per-guild if targeting a specific guild otherwise globally).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>commands</strong> (collections.abc.Iterable[AppCommand]):
Iterable of the commands to register.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>command_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of top level command names to IDs of the
existing commands to update.</p>

<p>This will be used for all application commands but in cases where
commands have overlapping names, <code>message_ids</code> and <code>user_ids</code> will
take priority over this for their relevant command type.</p>

<p>While optional, this can be helpful when updating commands as
providing the current IDs will prevent changes such as renames from
leading to other state set for commands (e.g. permissions) from
being lost.</p></li>
<li><p><strong>application</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialApplication | None):
The application to register the commands with.</p>

<p>If left as <code>None</code> then this will be inferred from the authorization
being used by <code><a href="#Client.rest">Client.rest</a></code>.</p></li>
<li><p><strong>guild</strong> (hikari.snowflakes.Snowflakeish | hikari.PartialGuild | None):
Object or ID of the guild to register the commands with.</p>

<p>If left as <code>None</code> then the commands will be registered globally.</p></li>
<li><strong>message_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of message context menu command names to the
IDs of existing commands to update.</li>
<li><strong>user_ids</strong> (collections.abc.Mapping[str, hikari.Snowflakeish | hikari.PartialCommand] | None):
If provided, a mapping of user context menu command names to the IDs
of existing commands to update.</li>
<li><p><strong>force</strong> (bool):
Force this to declare the commands regardless of whether or not
they match the current state of the declared commands.</p>

<p>Defaults to <code>False</code>. This default behaviour helps avoid issues with the
2 request per minute (per-guild or globally) ratelimit and the other limit
of only 200 application command creates per day (per guild or globally).</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Sequence[hikari.PartialCommand]</strong>: API representations of the commands which were registered.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If conflicting command names are found (multiple commanbds have the same top-level name).</li>
<li>If more than 100 top-level commands are passed.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="Client.set_auto_defer_after" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_auto_defer_after">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_auto_defer_after</span><span class="signature">(self: ~_ClientT, time: Optional[float], /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_auto_defer_after</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set when this client should automatically defer execution of commands.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            If `time` is set to `None` then automatic deferrals will be disabled.</span>
<span class="sd">            This may lead to unexpected behaviour.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time : float | None</span>
<span class="sd">            The time in seconds to defer interaction command responses after.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="k">if</span> <span class="n">time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set when this client should automatically defer execution of commands.</p>

<p><em>Warning:</em>
If <code>time</code> is set to <code>None</code> then automatic deferrals will be disabled.
This may lead to unexpected behaviour.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time</strong> (float | None):
The time in seconds to defer interaction command responses after.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_ephemeral_default" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_ephemeral_default">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_ephemeral_default</span><span class="signature">(self: ~_ClientT, state: bool, /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether slash contexts spawned by this client should default to ephemeral responses.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bool</span>
<span class="sd">            Whether slash command contexts executed in this component should</span>
<span class="sd">            should default to ephemeral.</span>

<span class="sd">            This will be overridden by any response calls which specify flags</span>
<span class="sd">            and defaults to `False`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">state</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set whether slash contexts spawned by this client should default to ephemeral responses.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bool</strong>: Whether slash command contexts executed in this component should
should default to ephemeral.</li>
</ul>

<p>This will be overridden by any response calls which specify flags
and defaults to <code>False</code>.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_hikari_trait_injectors" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_hikari_trait_injectors">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_hikari_trait_injectors</span><span class="signature">(self: ~_ClientT, bot: hikari.traits.RESTAware, /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_hikari_trait_injectors</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">bot</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">RESTAware</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set type based dependency injection based on the hikari traits found in `bot`.</span>

<span class="sd">        This is a short hand for calling `Client.add_type_dependency` for all</span>
<span class="sd">        the hikari trait types `bot` is valid for with bot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bot : hikari.RESTAware</span>
<span class="sd">            The hikari client to set dependency injectors for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">hikari_traits</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bot</span><span class="p">,</span> <span class="n">member</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">bot</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set type based dependency injection based on the hikari traits found in <code>bot</code>.</p>

<p>This is a short hand for calling <code>Client.add_type_dependency</code> for all
the hikari trait types <code>bot</code> is valid for with bot.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bot</strong> (hikari.RESTAware):
The hikari client to set dependency injectors for.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_interaction_not_found" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_interaction_not_found">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_interaction_not_found</span><span class="signature">(self: ~_ClientT, message: Optional[str], /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_interaction_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the response message for when an interaction command is not found.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Setting this to `None` may lead to unexpected behaviour (especially</span>
<span class="sd">            when the client is still set to auto-defer interactions) and should</span>
<span class="sd">            only be done if you know what you&#39;re doing.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str | None</span>
<span class="sd">            The message to respond with when an interaction command isn&#39;t found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_menu_not_found</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="o">.</span><span class="n">set_slash_not_found</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the response message for when an interaction command is not found.</p>

<p><em>Warning:</em>
Setting this to <code>None</code> may lead to unexpected behaviour (especially
when the client is still set to auto-defer interactions) and should
only be done if you know what you're doing.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str | None):
The message to respond with when an interaction command isn't found.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_menu_not_found" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_menu_not_found">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_menu_not_found</span><span class="signature">(self: ~_ClientT, message: Optional[str], /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_menu_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the response message for when a menu command is not found.</span>


<span class="sd">        .. warning::</span>
<span class="sd">            Setting this to `None` may lead to unexpected behaviour (especially</span>
<span class="sd">            when the client is still set to auto-defer interactions) and should</span>
<span class="sd">            only be done if you know what you&#39;re doing.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str | None</span>
<span class="sd">            The message to respond with when a menu command isn&#39;t found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_not_found</span> <span class="o">=</span> <span class="n">message</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the response message for when a menu command is not found.</p>

<p><em>Warning:</em>
Setting this to <code>None</code> may lead to unexpected behaviour (especially
when the client is still set to auto-defer interactions) and should
only be done if you know what you're doing.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str | None):
The message to respond with when a menu command isn't found.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_slash_not_found" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_slash_not_found">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_slash_not_found</span><span class="signature">(self: ~_ClientT, message: Optional[str], /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_slash_not_found</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the response message for when a slash command is not found.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Setting this to `None` may lead to unexpected behaviour (especially</span>
<span class="sd">            when the client is still set to auto-defer interactions) and should</span>
<span class="sd">            only be done if you know what you&#39;re doing.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str | None</span>
<span class="sd">            The message to respond with when a slash command isn&#39;t found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_not_found</span> <span class="o">=</span> <span class="n">message</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the response message for when a slash command is not found.</p>

<p><em>Warning:</em>
Setting this to <code>None</code> may lead to unexpected behaviour (especially
when the client is still set to auto-defer interactions) and should
only be done if you know what you're doing.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str | None):
The message to respond with when a slash command isn't found.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_message_accepts" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_message_accepts">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_message_accepts</span><span class="signature">(
    self: ~_ClientT,
    accepts: <a href="tanjun/clients.html#MessageAcceptsEnum">tanjun.clients.MessageAcceptsEnum</a>,
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_message_accepts</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">accepts</span><span class="p">:</span> <span class="n">MessageAcceptsEnum</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the kind of messages commands should be executed based on.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        accepts : MessageAcceptsEnum</span>
<span class="sd">            The type of messages commands should be executed based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">accepts</span><span class="o">.</span><span class="n">get_event_type</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot set accepts level on a client with no event manager&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span> <span class="o">=</span> <span class="n">accepts</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the kind of messages commands should be executed based on.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>accepts</strong> (MessageAcceptsEnum):
The type of messages commands should be executed based on.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_autocomplete_ctx_maker" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_autocomplete_ctx_maker">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_autocomplete_ctx_maker</span><span class="signature">(
    self: ~_ClientT,
    maker: <a href="tanjun/clients.html#_AutocompleteContextMakerProto">tanjun.clients._AutocompleteContextMakerProto</a> = &lt;class &#39;<a href="tanjun/context.html#autocomplete.AutocompleteContext">tanjun.context.autocomplete.AutocompleteContext</a>&#39;&gt;,
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_autocomplete_ctx_maker</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_AutocompleteContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete context maker to use when creating contexts.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.AutocompleteContext`</span>
<span class="sd">            rather than just any implementation of the AutocompleteContext abc</span>
<span class="sd">            due to this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.AutocompleteContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _AutocompleteContextMakerProto</span>
<span class="sd">            The autocomplete context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.AutocompleteContext.__init__` and return</span>
<span class="sd">            an instance of `tanjun.context.AutocompleteContext`.</span>

<span class="sd">            This defaults to `tanjun.context.AutocompleteContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete context maker to use when creating contexts.</p>

<p><em>Warning:</em>
The caller must return an instance of <code><a href="tanjun/context.html#AutocompleteContext">tanjun.context.AutocompleteContext</a></code>
rather than just any implementation of the AutocompleteContext abc
due to this client relying on implementation detail of
<code><a href="tanjun/context.html#AutocompleteContext">tanjun.context.AutocompleteContext</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>maker</strong> (_AutocompleteContextMakerProto):
The autocomplete context maker to use.</p>

<p>This is a callback which should match the signature of
<code><a href="tanjun/context.html#AutocompleteContext.__init__">tanjun.context.AutocompleteContext.__init__</a></code> and return
an instance of <code><a href="tanjun/context.html#AutocompleteContext">tanjun.context.AutocompleteContext</a></code>.</p>

<p>This defaults to <code><a href="tanjun/context.html#AutocompleteContext">tanjun.context.AutocompleteContext</a></code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_menu_ctx_maker" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_menu_ctx_maker">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_menu_ctx_maker</span><span class="signature">(
    self: ~_ClientT,
    maker: <a href="tanjun/clients.html#_MenuContextMakerProto">tanjun.clients._MenuContextMakerProto</a> = &lt;class &#39;<a href="tanjun/context.html#menu.MenuContext">tanjun.context.menu.MenuContext</a>&#39;&gt;,
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_menu_ctx_maker</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_MenuContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete context maker to use when creating contexts.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.MenuContext`</span>
<span class="sd">            rather than just any implementation of the MenuContext abc</span>
<span class="sd">            due to this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.MenuContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _MenuContextMakerProto</span>
<span class="sd">            The autocomplete context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.MenuContext.__init__` and return</span>
<span class="sd">            an instance of `tanjun.context.MenuContext`.</span>

<span class="sd">            This defaults to `tanjun.context.MenuContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete context maker to use when creating contexts.</p>

<p><em>Warning:</em>
The caller must return an instance of <code><a href="tanjun/context.html#MenuContext">tanjun.context.MenuContext</a></code>
rather than just any implementation of the MenuContext abc
due to this client relying on implementation detail of
<code><a href="tanjun/context.html#MenuContext">tanjun.context.MenuContext</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>maker</strong> (_MenuContextMakerProto):
The autocomplete context maker to use.</p>

<p>This is a callback which should match the signature of
<code><a href="tanjun/context.html#MenuContext.__init__">tanjun.context.MenuContext.__init__</a></code> and return
an instance of <code><a href="tanjun/context.html#MenuContext">tanjun.context.MenuContext</a></code>.</p>

<p>This defaults to <code><a href="tanjun/context.html#MenuContext">tanjun.context.MenuContext</a></code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_message_ctx_maker" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_message_ctx_maker">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_message_ctx_maker</span><span class="signature">(
    self: ~_ClientT,
    maker: <a href="tanjun/clients.html#_MessageContextMakerProto">tanjun.clients._MessageContextMakerProto</a> = &lt;class &#39;<a href="tanjun/context.html#message.MessageContext">tanjun.context.message.MessageContext</a>&#39;&gt;,
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_message_ctx_maker</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_MessageContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the message context maker to use when creating context for a message.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.MessageContext`</span>
<span class="sd">            rather than just any implementation of the MessageContext abc due to</span>
<span class="sd">            this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.MessageContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _MessageContextMakerProto</span>
<span class="sd">            The message context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.MessageContext.__init__` and return an instance</span>
<span class="sd">            of `tanjun.context.MessageContext`.</span>

<span class="sd">            This defaults to `tanjun.context.MessageContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_message_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the message context maker to use when creating context for a message.</p>

<p><em>Warning:</em>
The caller must return an instance of <code><a href="tanjun/context.html#MessageContext">tanjun.context.MessageContext</a></code>
rather than just any implementation of the MessageContext abc due to
this client relying on implementation detail of
<code><a href="tanjun/context.html#MessageContext">tanjun.context.MessageContext</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>maker</strong> (_MessageContextMakerProto):
The message context maker to use.</p>

<p>This is a callback which should match the signature of
<code><a href="tanjun/context.html#MessageContext.__init__">tanjun.context.MessageContext.__init__</a></code> and return an instance
of <code><a href="tanjun/context.html#MessageContext">tanjun.context.MessageContext</a></code>.</p>

<p>This defaults to <code><a href="tanjun/context.html#MessageContext">tanjun.context.MessageContext</a></code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_metadata" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_metadata">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_metadata</span><span class="signature">(self: ~_ClientT, key: Any, value: Any, /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set a field in the client's metadata.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (typing.Any):
Metadata key to set.</li>
<li><strong>value</strong> (typing.Any):
Metadata value to set.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_slash_ctx_maker" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_slash_ctx_maker">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_slash_ctx_maker</span><span class="signature">(
    self: ~_ClientT,
    maker: <a href="tanjun/clients.html#_SlashContextMakerProto">tanjun.clients._SlashContextMakerProto</a> = &lt;class &#39;<a href="tanjun/context.html#slash.SlashContext">tanjun.context.slash.SlashContext</a>&#39;&gt;,
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_slash_ctx_maker</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">maker</span><span class="p">:</span> <span class="n">_SlashContextMakerProto</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the slash context maker to use when creating context for a slash command.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            The caller must return an instance of `tanjun.context.SlashContext`</span>
<span class="sd">            rather than just any implementation of the SlashContext abc due to</span>
<span class="sd">            this client relying on implementation detail of</span>
<span class="sd">            `tanjun.context.SlashContext`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        maker : _SlashContextMakerProto</span>
<span class="sd">            The slash context maker to use.</span>

<span class="sd">            This is a callback which should match the signature of</span>
<span class="sd">            `tanjun.context.SlashContext.__init__` and return an instance</span>
<span class="sd">            of `tanjun.context.SlashContext`.</span>

<span class="sd">            This defaults to `tanjun.context.SlashContext`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span> <span class="o">=</span> <span class="n">maker</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the slash context maker to use when creating context for a slash command.</p>

<p><em>Warning:</em>
The caller must return an instance of <code><a href="tanjun/context.html#SlashContext">tanjun.context.SlashContext</a></code>
rather than just any implementation of the SlashContext abc due to
this client relying on implementation detail of
<code><a href="tanjun/context.html#SlashContext">tanjun.context.SlashContext</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>maker</strong> (_SlashContextMakerProto):
The slash context maker to use.</p>

<p>This is a callback which should match the signature of
<code><a href="tanjun/context.html#SlashContext.__init__">tanjun.context.SlashContext.__init__</a></code> and return an instance
of <code><a href="tanjun/context.html#SlashContext">tanjun.context.SlashContext</a></code>.</p>

<p>This defaults to <code><a href="tanjun/context.html#SlashContext">tanjun.context.SlashContext</a></code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_human_only" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_human_only">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_human_only</span><span class="signature">(self: ~_ClientT, value: bool = True) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_human_only</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether or not message commands execution should be limited to &quot;human&quot; users.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This doesn&#39;t apply to interaction commands as these can only be</span>
<span class="sd">            triggered by a &quot;human&quot; (normal user account).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bool</span>
<span class="sd">            Whether or not message commands execution should be limited to &quot;human&quot; users.</span>

<span class="sd">            Passing `True` here will prevent message commands from being executed</span>
<span class="sd">            based on webhook and bot messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">_check_human</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_check</span><span class="p">(</span><span class="n">_check_human</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set whether or not message commands execution should be limited to "human" users.</p>

<p><em>Note:</em>
This doesn't apply to interaction commands as these can only be
triggered by a "human" (normal user account).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>value</strong> (bool):
Whether or not message commands execution should be limited to "human" users.</p>

<p>Passing <code>True</code> here will prevent message commands from being executed
based on webhook and bot messages.</p></li>
</ul>
</div>


                            </div>
                            <div id="Client.add_check" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.add_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_check</span><span class="signature">(
    self: ~_ClientT,
    check: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a generic check to this client.</span>

<span class="sd">        This will be applied to both message and slash command execution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to add. This may be either synchronous or asynchronous</span>
<span class="sd">            and must take one positional argument of type `tanjun.abc.Context`</span>
<span class="sd">            with dependency injection being supported for its keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">check</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">(</span><span class="n">check</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a generic check to this client.</p>

<p>This will be applied to both message and slash command execution.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (<a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a>):
The check to add. This may be either synchronous or asynchronous
and must take one positional argument of type <code><a href="tanjun/abc.html#Context">tanjun.abc.Context</a></code>
with dependency injection being supported for its keyword arguments.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.remove_check" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.remove_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_check</span><span class="signature">(
    self: ~_ClientT,
    check: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a check from the client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to remove.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the check was not previously added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;checks.InjectableCheck&quot;</span><span class="p">,</span> <span class="n">check</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a check from the client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (<a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a>):
The check to remove.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the check was not previously added.</li>
</ul>
</div>


                            </div>
                            <div id="Client.with_check" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.with_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_check</span><span class="signature">(self, check: ~CheckSigT, /) -&gt; ~CheckSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a check to this client through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to add. This may be either synchronous or asynchronous</span>
<span class="sd">            and must take one positional argument of type `tanjun.abc.Context`</span>
<span class="sd">            with dependency injection being supported for its keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.CheckSig</span>
<span class="sd">            The added check.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a check to this client through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (<a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a>):
The check to add. This may be either synchronous or asynchronous
and must take one positional argument of type <code><a href="tanjun/abc.html#Context">tanjun.abc.Context</a></code>
with dependency injection being supported for its keyword arguments.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a></strong>: The added check.</li>
</ul>
</div>


                            </div>
                            <div id="Client.check" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.check">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">check</span><span class="signature">(self, ctx: <a href="tanjun/abc.html#Context">tanjun.abc.Context</a>, /) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">utilities</span><span class="o">.</span><span class="n">gather_checks</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Client.add_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.add_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_component</span><span class="signature">(
    self: ~_ClientT,
    component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>,
    /,
    *,
    add_injector: bool = False
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">add_injector</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a component to this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        component: Component</span>
<span class="sd">            The component to move to this client.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to allow chained calls.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the component&#39;s name is already registered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;A component named </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> is already registered.&quot;</span><span class="p">)</span>

        <span class="n">component</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">component</span>

        <span class="k">if</span> <span class="n">add_injector</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">component</span><span class="p">),</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">component</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">COMPONENT_ADDED</span><span class="p">,</span> <span class="n">component</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a component to this client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>component</strong> (Component):
The component to move to this client.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to allow chained calls.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the component's name is already registered.</li>
</ul>
</div>


                            </div>
                            <div id="Client.get_component_by_name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.get_component_by_name">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_component_by_name</span><span class="signature">(self, name: str, /) -&gt; Optional[<a href="tanjun/abc.html#Component">tanjun.abc.Component</a>]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_component_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a component from this client by name.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
Name to get a component by.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Component | None</strong>: The component instance if found, else <code>None</code>.</li>
</ul>
</div>


                            </div>
                            <div id="Client.remove_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.remove_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_component</span><span class="signature">(self: ~_ClientT, component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>, /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">stored_component</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stored_component</span> <span class="ow">or</span> <span class="n">stored_component</span> <span class="o">!=</span> <span class="n">component</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The component </span><span class="si">{</span><span class="n">component</span><span class="si">!r}</span><span class="s2"> is not registered.&quot;</span><span class="p">)</span>

        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">unbind</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">COMPONENT_REMOVED</span><span class="p">,</span> <span class="n">stored_component</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">stored_component</span><span class="o">.</span><span class="n">unbind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a component from this client.</p>

<p>This will unsubscribe any client callbacks, commands and listeners
registered in the provided component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>component</strong> (Component):
The component to remove from this client.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the provided component isn't found.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to allow chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.remove_component_by_name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.remove_component_by_name">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_component_by_name</span><span class="signature">(self: ~_ClientT, name: str, /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_component_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_component</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a component from this client by name.</p>

<p>This will unsubscribe any client callbacks, commands and listeners
registered in the provided component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
Name of the component to remove from this client.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: If the provided component name isn't found.</li>
</ul>
</div>


                            </div>
                            <div id="Client.add_client_callback" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.add_client_callback">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_client_callback</span><span class="signature">(
    self: ~_ClientT,
    name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">descriptor</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">descriptor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">descriptor</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">descriptor</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a client callback.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name this callback is being registered to.</p>

<p>This is case-insensitive.</p></li>
<li><p><strong>callback</strong> (MetaEventSigT):
The callback to register.</p>

<p>This may be sync or async and must return None. The positional and
keyword arguments a callback should expect depend on implementation
detail around the <code>name</code> being subscribed to.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.dispatch_client_callback" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.dispatch_client_callback">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">dispatch_client_callback</span><span class="signature">(
    self,
    name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    /,
    *args: Any
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">dispatch_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">callbacks</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="n">calls</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">_wrap_client_callback</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">BasicInjectionContext</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">args</span><span class="p">)</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">callbacks</span>
            <span class="p">)</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">calls</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Dispatch a client callback.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str | ClientCallbackNames):
The name of the callback to dispatch.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*args</strong> (typing.Any):
Positional arguments to pass to the callback(s).</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: If no callbacks are registered for the given name.</li>
</ul>
</div>


                            </div>
                            <div id="Client.get_client_callbacks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.get_client_callbacks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_client_callbacks</span><span class="signature">(
    self,
    name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    /
) -&gt; collections.abc.Collection[collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_client_callbacks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">result</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">callback</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">result</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a collection of the callbacks registered for a specific name.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name to get the callbacks registered for.</p>

<p>This is case-insensitive.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Collection[MetaEventSig]</strong>: Collection of the callbacks for the provided name.</li>
</ul>
</div>


                            </div>
                            <div id="Client.remove_client_callback" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.remove_client_callback">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_client_callback</span><span class="signature">(
    self: ~_ClientT,
    name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;injecting.CallbackDescriptor[None]&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a client callback.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name this callback is being registered to.</p>

<p>This is case-insensitive.</p></li>
<li><strong>callback</strong> (MetaEventSigT):
The callback to remove from the client's callbacks.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: If the provided name isn't found.</li>
<li><strong>ValueError</strong>: If the provided callback isn't found.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.with_client_callback" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.with_client_callback">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_client_callback</span><span class="signature">(
    self,
    name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    /
) -&gt; collections.abc.Callable[[~MetaEventSigT], ~MetaEventSigT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a client callback through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">from_rest_bot</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">with_client_callback</span><span class="p">(</span><span class="s2">&quot;closed&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_close</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name this callback is being registered to.</p>

<p>This is case-insensitive.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[MetaEventSigT], MetaEventSigT]</strong>: Decorator callback used to register the client callback.</li>
</ul>

<p>This may be sync or async and must return None. The positional and
keyword arguments a callback should expect depend on implementation
detail around the <code>name</code> being subscribed to.</p>
</div>


                            </div>
                            <div id="Client.add_listener" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.add_listener">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_listener</span><span class="signature">(
    self: ~_ClientT,
    event_type: type[hikari.events.base_events.Event],
    callback: collections.abc.Callable[..., collections.abc.Coroutine[typing.Any, typing.Any, None]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">injected</span><span class="p">:</span> <span class="n">injecting</span><span class="o">.</span><span class="n">SelfInjectingCallback</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">SelfInjectingCallback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injected</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">injected</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">injected</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a listener to the client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>event_type</strong> (type[hikari.Event]):
The event type to add a listener for.</li>
<li><p><strong>callback</strong> (ListenerCallbackSig):
The callback to register as a listener.</p>

<p>This callback must be a coroutine function which returns <code>None</code> and
always takes one positional arg of type <code>hikari.Event</code>
regardless of client implementation detail.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.remove_listener" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.remove_listener">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_listener</span><span class="signature">(
    self: ~_ClientT,
    event_type: type[hikari.events.base_events.Event],
    callback: collections.abc.Callable[..., collections.abc.Coroutine[typing.Any, typing.Any, None]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;injecting.SelfInjectingCallback[None]&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>
        <span class="n">registered_callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event_type</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">registered_callback</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a listener from the client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>event_type</strong> (type[hikari.Event]):
The event type to remove a listener for.</li>
<li><strong>callback</strong> (ListenerCallbackSig):
The callback to remove.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: If the provided event type isn't found.</li>
<li><strong>ValueError</strong>: If the provided callback isn't found.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.with_listener" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.with_listener">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_listener</span><span class="signature">(
    self,
    event_type: type[hikari.events.base_events.Event],
    /
) -&gt; collections.abc.Callable[[~ListenerCallbackSigT], ~ListenerCallbackSigT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an event listener to this client through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">from_gateway_bot</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">with_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">MessageCreateEvent</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_message_create</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">MessageCreateEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>event_type</strong> (type[hikari.Event]):
The event type to listener for.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[ListenerCallbackSigT], ListenerCallbackSigT]</strong>: Decorator callback used to register the event callback.</li>
</ul>

<p>The callback must be a coroutine function which returns <code>None</code> and
always takes at least one positional arg of type <code>hikari.Event</code>
regardless of client implementation detail.</p>
</div>


                            </div>
                            <div id="Client.add_prefix" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.add_prefix">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_prefix</span><span class="signature">(
    self: ~_ClientT,
    prefixes: Union[collections.abc.Iterable[str], str],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">prefixes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a prefix used to filter message command calls.</span>

<span class="sd">        This will be matched against the first character(s) in a message&#39;s</span>
<span class="sd">        content to determine whether the message command search stage of</span>
<span class="sd">        execution should be initiated.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        prefixes : collections.abc.Iterable[str] | str</span>
<span class="sd">            Either a single string or an iterable of strings to be used as</span>
<span class="sd">            prefixes.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prefixes</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">prefixes</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefixes</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">prefix</span> <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">prefixes</span> <span class="k">if</span> <span class="n">prefix</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a prefix used to filter message command calls.</p>

<p>This will be matched against the first character(s) in a message's
content to determine whether the message command search stage of
execution should be initiated.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>prefixes</strong> (collections.abc.Iterable[str] | str):
Either a single string or an iterable of strings to be used as
prefixes.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.remove_prefix" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.remove_prefix">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_prefix</span><span class="signature">(self: ~_ClientT, prefix: str, /) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a message content prefix from the client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        prefix : str</span>
<span class="sd">            The prefix to remove.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the prefix is not registered with the client.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a message content prefix from the client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>prefix</strong> (str):
The prefix to remove.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the prefix is not registered with the client.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_prefix_getter" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_prefix_getter">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_prefix_getter</span><span class="signature">(
    self: ~_ClientT,
    getter: Optional[collections.abc.Callable[..., collections.abc.Awaitable[collections.abc.Iterable[str]]]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_prefix_getter</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">getter</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">PrefixGetterSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the callback used to retrieve message prefixes set for the relevant guild.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        getter : PrefixGetterSig | None</span>
<span class="sd">            The callback which&#39;ll be used to retrieve prefixes for the guild a</span>
<span class="sd">            message context is from. If `None` is passed here then the callback</span>
<span class="sd">            will be unset.</span>

<span class="sd">            This should be an async callback which one argument of type</span>
<span class="sd">            `tanjun.abc.MessageContext` and returns an iterable of string prefixes.</span>
<span class="sd">            Dependency injection is supported for this callback&#39;s keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_getter</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">getter</span><span class="p">)</span> <span class="k">if</span> <span class="n">getter</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the callback used to retrieve message prefixes set for the relevant guild.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>getter</strong> (PrefixGetterSig | None):
The callback which'll be used to retrieve prefixes for the guild a
message context is from. If <code>None</code> is passed here then the callback
will be unset.</p>

<p>This should be an async callback which one argument of type
<code><a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a></code> and returns an iterable of string prefixes.
Dependency injection is supported for this callback's keyword arguments.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.with_prefix_getter" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.with_prefix_getter">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_prefix_getter</span><span class="signature">(self, getter: ~PrefixGetterSigT, /) -&gt; ~PrefixGetterSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_prefix_getter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">getter</span><span class="p">:</span> <span class="n">PrefixGetterSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PrefixGetterSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the prefix getter callback for this client through decorator call.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ```py</span>
<span class="sd">        client = tanjun.Client.from_rest_bot(bot)</span>

<span class="sd">        @client.with_prefix_getter</span>
<span class="sd">        async def prefix_getter(ctx: tanjun.abc.MessageContext) -&gt; collections.abc.Iterable[str]:</span>
<span class="sd">            raise NotImplementedError</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        getter : PrefixGetterSig</span>
<span class="sd">            The callback which&#39;ll be  to retrieve prefixes for the guild a</span>
<span class="sd">            message event is from.</span>

<span class="sd">            This should be an async callback which one argument of type</span>
<span class="sd">            `tanjun.abc.MessageContext` and returns an iterable of string prefixes.</span>
<span class="sd">            Dependency injection is supported for this callback&#39;s keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        PrefixGetterSigT</span>
<span class="sd">            The registered callback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_prefix_getter</span><span class="p">(</span><span class="n">getter</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">getter</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the prefix getter callback for this client through decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">from_rest_bot</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">with_prefix_getter</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">prefix_getter</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>getter</strong> (PrefixGetterSig):
The callback which'll be  to retrieve prefixes for the guild a
message event is from.</p>

<p>This should be an async callback which one argument of type
<code><a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a></code> and returns an iterable of string prefixes.
Dependency injection is supported for this callback's keyword arguments.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>PrefixGetterSigT</strong>: The registered callback.</li>
</ul>
</div>


                            </div>
                            <div id="Client.iter_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.iter_commands">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">iter_commands</span><span class="signature">(
    self
) -&gt; collections.abc.Iterator[<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">iter_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_message_commands</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_slash_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Iterate over all the commands (both message and slash) registered to this client.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[ExecutableCommand[Context]]</strong>: Iterator of all the commands registered to this client.</li>
</ul>
</div>


                            </div>
                            <div id="Client.iter_menu_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.iter_menu_commands">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">iter_menu_commands</span><span class="signature">(
    self,
    *,
    global_only: bool = False,
    type: Optional[Literal[&lt;CommandType.MESSAGE: 3&gt;, &lt;CommandType.USER: 2&gt;]] = None
) -&gt; collections.abc.Iterator[<a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand</a>[typing.Any, typing.Any]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">iter_menu_commands</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">global_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>  <span class="c1"># noqa: A002 - Shadowing a builtin name.</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">global_only</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">is_global</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_MENU_TYPES</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command type filter must be USER or MESSAGE&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="nb">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_menu_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="n">global_only</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">menu_commands</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Iterator over the menu commands registered to this client.</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>global_only</strong> (bool):
Whether to only iterate over global menu commands.</li>
<li><strong>type</strong> (typing.Literal[hikari.CommandType.MESSAGE, hikari.CommandType.USER] | None):
Menu command type to filter by.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[MenuCommand]</strong>: Iterator of the menu commands registered to this client.</li>
</ul>
</div>


                            </div>
                            <div id="Client.iter_message_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.iter_message_commands">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">iter_message_commands</span><span class="signature">(
    self
) -&gt; collections.abc.Iterator[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">iter_message_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">message_commands</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Iterate over all the message commands registered to this client.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[MessageCommand]</strong>: Iterator of all the message commands registered to this client.</li>
</ul>
</div>


                            </div>
                            <div id="Client.iter_slash_commands" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.iter_slash_commands">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">iter_slash_commands</span><span class="signature">(
    self,
    *,
    global_only: bool = False
) -&gt; collections.abc.Iterator[<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">iter_slash_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">global_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">global_only</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">is_global</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_slash_commands</span><span class="p">(</span><span class="n">global_only</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">slash_commands</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Iterate over all the slash commands registered to this client.</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>global_only</strong> (bool):
Whether to only iterate over global slash commands.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[BaseSlashCommand]</strong>: Iterator of the slash commands registered to this client.</li>
</ul>
</div>


                            </div>
                            <div id="Client.check_message_name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.check_message_name">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">check_message_name</span><span class="signature">(
    self,
    name: str,
    /
) -&gt; collections.abc.Iterator[tuple[str, <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">check_message_name</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
            <span class="n">component</span><span class="o">.</span><span class="n">check_message_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Check whether a message command name is present in the current client.</p>

<p><em>Note:</em>
Dependent on implementation this may partial check name against the
message command's name based on command_name.startswith(name).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The name to match commands against.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[tuple[str, MessageCommand]]</strong>: Iterator of the matched command names to the matched message command objects.</li>
</ul>
</div>


                            </div>
                            <div id="Client.check_slash_name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.check_slash_name">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">check_slash_name</span><span class="signature">(
    self,
    name: str,
    /
) -&gt; collections.abc.Iterator[<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">check_slash_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
            <span class="n">component</span><span class="o">.</span><span class="n">check_slash_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Check whether a slash command name is present in the current client.</p>

<p><em>Note:</em>
This won't check the commands within command groups.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
Name to check against.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[BaseSlashCommand]</strong>: Iterator of the matched slash command objects.</li>
</ul>
</div>


                            </div>
                            <div id="Client.close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.close">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">close</span><span class="signature">(self, *, deregister_listeners: bool = True) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">deregister_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Close the client.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the client isn&#39;t running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client isn&#39;t active&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSED</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">event</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSED</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSING</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">deregister_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event_type</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span><span class="o">.</span><span class="n">get_event_type</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_try_unsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">,</span> <span class="n">event_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_message_create_event</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_try_unsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionCreateEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_interaction_create_event</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">event_type_</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_try_unsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">,</span> <span class="n">event_type_</span><span class="p">,</span> <span class="n">listener</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">deregister_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSED</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Close the client.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the client isn't running.</li>
</ul>
</div>


                            </div>
                            <div id="Client.open" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.open">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">open</span><span class="signature">(self, *, register_listeners: bool = True) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">register_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start the client.</span>

<span class="sd">        If `mention_prefix` was passed to `Client.__init__` or</span>
<span class="sd">        `Client.from_gateway_bot` then this function may make a fetch request</span>
<span class="sd">        to Discord if it cannot get the current user from the cache.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the client is already active.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client is already alive&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_closing</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grab_mention_prefix</span><span class="p">:</span>
            <span class="n">user</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">OwnUser</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">:</span>
                <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">get_me</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span> <span class="ow">and</span> <span class="p">(</span><span class="n">user_cache</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type_dependency</span><span class="p">(</span><span class="n">dependencies</span><span class="o">.</span><span class="n">SingleStoreCache</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">OwnUser</span><span class="p">])):</span>
                <span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="n">user_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
                <span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_my_user</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="sa">f</span><span class="s2">&quot;&lt;@</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;&lt;@!</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">prefix</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_prefixes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_grab_mention_prefix</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

        <span class="k">if</span> <span class="n">register_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event_type</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_accepts</span><span class="o">.</span><span class="n">get_event_type</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_message_create_event</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">InteractionCreateEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_interaction_create_event</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">event_type_</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">event_type_</span><span class="p">,</span> <span class="n">listener</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">register_listeners</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_command_interaction_request</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_server</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_autocomplete_interaction_request</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTED</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start the client.</p>

<p>If <code>mention_prefix</code> was passed to <code><a href="#Client.__init__">Client.__init__</a></code> or
<code><a href="#Client.from_gateway_bot">Client.from_gateway_bot</a></code> then this function may make a fetch request
to Discord if it cannot get the current user from the cache.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the client is already active.</li>
</ul>
</div>


                            </div>
                            <div id="Client.fetch_rest_application_id" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.fetch_rest_application_id">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">fetch_rest_application_id</span><span class="signature">(self) -&gt; hikari.snowflakes.Snowflake</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">fetch_rest_application_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Fetch the ID of the application this client is linked to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        hikari.Snowflake</span>
<span class="sd">            The application ID of the application this client is linked to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span>

        <span class="n">application_cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type_dependency</span><span class="p">(</span>
            <span class="n">dependencies</span><span class="o">.</span><span class="n">SingleStoreCache</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Application</span><span class="p">]</span>
        <span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type_dependency</span><span class="p">(</span><span class="n">dependencies</span><span class="o">.</span><span class="n">SingleStoreCache</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">AuthorizationApplication</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">application_cache</span> <span class="ow">and</span> <span class="p">(</span><span class="n">application</span> <span class="o">:=</span> <span class="k">await</span> <span class="n">application_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="o">=</span> <span class="n">application</span><span class="o">.</span><span class="n">id</span>
            <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">id</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">token_type</span> <span class="o">==</span> <span class="n">hikari</span><span class="o">.</span><span class="n">TokenType</span><span class="o">.</span><span class="n">BOT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_application</span><span class="p">())</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">((</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rest</span><span class="o">.</span><span class="n">fetch_authorization</span><span class="p">())</span><span class="o">.</span><span class="n">application</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_application_id</span>
</pre></div>

        </details>

            <div class="docstring"><p>Fetch the ID of the application this client is linked to.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.Snowflake</strong>: The application ID of the application this client is linked to.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_hooks</span><span class="signature">(
    self: ~_ClientT,
    hooks: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the general command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every slash and message</span>
<span class="sd">        command execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.AnyHooks | None</span>
<span class="sd">            The general command execution hooks to set for this client.</span>

<span class="sd">            Passing `None` will remove all hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the general command execution hooks for this client.</p>

<p>The callbacks within this hook will be added to every slash and message
command execution started by this client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>hooks</strong> (<a href="tanjun/abc.html#AnyHooks">tanjun.abc.AnyHooks</a> | None):
The general command execution hooks to set for this client.</p>

<p>Passing <code>None</code> will remove all hooks.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_menu_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_menu_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_menu_hooks</span><span class="signature">(
    self: ~_ClientT,
    hooks: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_menu_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the menu command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every menu command</span>
<span class="sd">        execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MenuHooks | None</span>
<span class="sd">            The menu context specific command execution hooks to set for this</span>
<span class="sd">            client.</span>

<span class="sd">            Passing `None` will remove the hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the menu command execution hooks for this client.</p>

<p>The callbacks within this hook will be added to every menu command
execution started by this client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>hooks</strong> (<a href="tanjun/abc.html#MenuHooks">tanjun.abc.MenuHooks</a> | None):
The menu context specific command execution hooks to set for this
client.</p>

<p>Passing <code>None</code> will remove the hooks.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_slash_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_slash_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_slash_hooks</span><span class="signature">(
    self: ~_ClientT,
    hooks: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_slash_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the slash command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every slash command</span>
<span class="sd">        execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.SlashHooks | None</span>
<span class="sd">            The slash context specific command execution hooks to set for this</span>
<span class="sd">            client.</span>

<span class="sd">            Passing `None` will remove the hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the slash command execution hooks for this client.</p>

<p>The callbacks within this hook will be added to every slash command
execution started by this client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>hooks</strong> (<a href="tanjun/abc.html#SlashHooks">tanjun.abc.SlashHooks</a> | None):
The slash context specific command execution hooks to set for this
client.</p>

<p>Passing <code>None</code> will remove the hooks.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.set_message_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.set_message_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_message_hooks</span><span class="signature">(
    self: ~_ClientT,
    hooks: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]],
    /
) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_message_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the message command execution hooks for this client.</span>

<span class="sd">        The callbacks within this hook will be added to every message command</span>
<span class="sd">        execution started by this client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MessageHooks | None</span>
<span class="sd">            The message context specific command execution hooks to set for this</span>
<span class="sd">            client.</span>

<span class="sd">            Passing `None` will remove all hooks.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the message command execution hooks for this client.</p>

<p>The callbacks within this hook will be added to every message command
execution started by this client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>hooks</strong> (<a href="tanjun/abc.html#MessageHooks">tanjun.abc.MessageHooks</a> | None):
The message context specific command execution hooks to set for this
client.</p>

<p>Passing <code>None</code> will remove all hooks.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Client.load_modules" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.load_modules">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">load_modules</span><span class="signature">(self: ~_ClientT, *modules: Union[str, pathlib.Path]) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">load_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="n">load_module</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Load entities into this client from modules based on present loaders.</p>

<p><em>Note:</em>
If an <code>__all__</code> is present in the target module then it will be
used to find loaders.</p>

<h6 id="examples">Examples</h6>

<p>For this to work the target module has to have at least one loader present.</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_loader</span>
<span class="k">def</span> <span class="nf">load_module</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
</code></pre></div>

<p>or</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">loader</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Component</span><span class="p">(</span><span class="s2">&quot;trans component&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">load_from_scope</span><span class="p">()</span><span class="o">.</span><span class="n">make_loader</span><span class="p">()</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>*modules</strong> (str | pathlib.Path):
Path(s) of the modules to load from.</p>

<p>When <code>str</code> this will be treated as a normal import path which is
absolute (<code>"foo.bar.baz"</code>). It's worth noting that absolute module
paths may be imported from the current location if the top level
module is a valid module file or module directory in the current
working directory.</p>

<p>When <code>pathlib.Path</code> the module will be imported directly from
the given path. In this mode any relative imports in the target
module will fail to resolve.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This client instance to enable chained calls.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong><a href="tanjun/errors.html#FailedModuleLoad">tanjun.errors.FailedModuleLoad</a></strong>: If the new version of a module failed to load.</li>
</ul>

<p>This includes if it failed to import or if one of its loaders raised.
The source error can be found at <code><a href="tanjun/errors.html#FailedModuleLoad.__source__">tanjun.errors.FailedModuleLoad.__source__</a></code>.</p>

<ul>
<li><strong><a href="tanjun/errors.html#ModuleStateConflict">tanjun.errors.ModuleStateConflict</a></strong>: If the module is already loaded.</li>
<li><strong><a href="tanjun/errors.html#ModuleMissingLoaders">tanjun.errors.ModuleMissingLoaders</a></strong>: If no loaders are found in the module.</li>
<li><strong>ModuleNotFoundError</strong>: If the module is not found.</li>
</ul>
</div>


                            </div>
                            <div id="Client.load_modules_async" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.load_modules_async">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">load_modules_async</span><span class="signature">(self, *modules: Union[str, pathlib.Path]) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">load_modules_async</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">)</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">load_module</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Asynchronous variant of <code><a href="#Client.load_modules">Client.load_modules</a></code>.</p>

<p>Unlike <code><a href="#Client.load_modules">Client.load_modules</a></code>, this method will run blocking code in a
background thread.</p>

<p>For more information on the behaviour of this method see the
documentation for <code><a href="#Client.load_modules">Client.load_modules</a></code>.</p>
</div>


                            </div>
                            <div id="Client.unload_modules" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.unload_modules">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">unload_modules</span><span class="signature">(self: ~_ClientT, *modules: Union[str, pathlib.Path]) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">unload_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.ab.Client&gt;&gt;.</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">modules_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modules</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">modules_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_modules</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

            <span class="n">module</span> <span class="o">=</span> <span class="n">modules_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">module</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModuleStateConflict</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Module </span><span class="si">{</span><span class="n">module_path</span><span class="si">!s}</span><span class="s2"> not loaded&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>

            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Unloading from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">module_path</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleUnload</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_call_unloaders</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">_get_loaders</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">module_path</span><span class="p">))</span>

            <span class="k">del</span> <span class="n">modules_dict</span><span class="p">[</span><span class="n">module_path</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Unload entities from this client based on unloaders in one or more modules.</p>

<p><em>Note:</em>
If an <code>__all__</code> is present in the target module then it will be
used to find unloaders.</p>

<h6 id="examples">Examples</h6>

<p>For this to work the module has to have at least one unloading enabled
<code><a href="tanjun/abc.html#ClientLoader">tanjun.abc.ClientLoader</a></code> present.</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_unloader</span>
<span class="k">def</span> <span class="nf">unload_component</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">remove_component_by_name</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>

<p>or</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="c1"># as_loader&#39;s returned ClientLoader handles both loading and unloading.</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Component</span><span class="p">(</span><span class="s2">&quot;trans component&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">load_from_scope</span><span class="p">()</span><span class="o">.</span><span class="n">as_loader</span><span class="p">(</span><span class="n">unload_component</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>*modules</strong> (str | pathlib.Path):
Path of one or more modules to unload.</p>

<p>These should be the same path(s) which were passed to <code>load_module</code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This client instance to enable chained calls.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong><a href="tanjun/errors.html#ModuleStateConflict">tanjun.errors.ModuleStateConflict</a></strong>: If the module hasn't been loaded.</li>
<li><strong><a href="tanjun/errors.html#ModuleMissingLoaders">tanjun.errors.ModuleMissingLoaders</a></strong>: If no unloaders are found in the module.</li>
<li><strong><a href="tanjun/errors.html#FailedModuleUnload">tanjun.errors.FailedModuleUnload</a></strong>: If the old version of a module failed to unload.</li>
</ul>

<p>This indicates that one of its unloaders raised. The source
error can be found at <code><a href="tanjun/errors.html#FailedModuleUnload.__source__">tanjun.errors.FailedModuleUnload.__source__</a></code>.</p>
</div>


                            </div>
                            <div id="Client.reload_modules" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.reload_modules">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reload_modules</span><span class="signature">(self: ~_ClientT, *modules: Union[str, pathlib.Path]) -&gt; ~_ClientT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reload_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ClientT</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">_ClientT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reload_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="n">load_module</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Reload entities in this client based on the loaders in loaded module(s).</p>

<p><em>Note:</em>
If an <code>__all__</code> is present in the target module then it will be
used to find loaders and unloaders.</p>

<h6 id="examples">Examples</h6>

<p>For this to work the module has to have at least one ClientLoader
which handles loading and one which handles unloading present.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>*modules</strong> (str | pathlib.Path):
Paths of one or more module to unload.</p>

<p>These should be the same paths which were passed to <code>load_module</code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This client instance to enable chained calls.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong><a href="tanjun/errors.html#FailedModuleLoad">tanjun.errors.FailedModuleLoad</a></strong>: If the new version of a module failed to load.</li>
</ul>

<p>This includes if it failed to import or if one of its loaders raised.
The source error can be found at <code><a href="tanjun/errors.html#FailedModuleLoad.__source__">tanjun.errors.FailedModuleLoad.__source__</a></code>.</p>

<ul>
<li><strong><a href="tanjun/errors.html#FailedModuleUnload">tanjun.errors.FailedModuleUnload</a></strong>: If the old version of a module failed to unload.</li>
</ul>

<p>This indicates that one of its unloaders raised. The source
error can be found at <code><a href="tanjun/errors.html#FailedModuleUnload.__source__">tanjun.errors.FailedModuleUnload.__source__</a></code>.</p>

<ul>
<li><strong><a href="tanjun/errors.html#ModuleStateConflict">tanjun.errors.ModuleStateConflict</a></strong>: If the module hasn't been loaded.</li>
<li><strong><a href="tanjun/errors.html#ModuleMissingLoaders">tanjun.errors.ModuleMissingLoaders</a></strong>: If no unloaders are found in the current state of the module.
If no loaders are found in the new state of the module.</li>
<li><strong>ModuleNotFoundError</strong>: If the module can no-longer be found at the provided path.</li>
</ul>
</div>


                            </div>
                            <div id="Client.reload_modules_async" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.reload_modules_async">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">reload_modules_async</span><span class="signature">(self, *modules: Union[str, pathlib.Path]) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">reload_modules_async</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">modules</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Client&gt;&gt;.</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">module_path</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">):</span>
                <span class="n">module_path</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">module_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">)</span>

            <span class="n">generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reload_module</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
            <span class="n">load_module</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">_WrapLoadError</span><span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">FailedModuleLoad</span><span class="p">):</span>
                <span class="n">module</span> <span class="o">=</span> <span class="k">await</span> <span class="n">loop</span><span class="o">.</span><span class="n">run_in_executor</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">load_module</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Generator didn&#39;t finish&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Asynchronous variant of <code><a href="#Client.reload_modules">Client.reload_modules</a></code>.</p>

<p>Unlike <code><a href="#Client.reload_modules">Client.reload_modules</a></code>, this method will run blocking code in a
background thread.</p>

<p>For more information on the behaviour of this method see the
documentation for <code><a href="#Client.reload_modules">Client.reload_modules</a></code>.</p>
</div>


                            </div>
                            <div id="Client.on_message_create_event" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.on_message_create_event">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">on_message_create_event</span><span class="signature">(
    self,
    event: hikari.events.message_events.MessageCreateEvent,
    /
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_message_create_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">MessageCreateEvent</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute a message command based on a gateway event.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hikari.events.message_events.MessageCreateEvent</span>
<span class="sd">            The event to handle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_message_context</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">event</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">event</span><span class="o">.</span><span class="n">message</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">prefix</span> <span class="o">:=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_prefix</span><span class="p">(</span><span class="n">ctx</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">ctx</span><span class="o">.</span><span class="n">set_content</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">())</span><span class="o">.</span><span class="n">set_triggering_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">}</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_message</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">):</span>
                        <span class="k">return</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatch_client_callback</span><span class="p">(</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">MESSAGE_COMMAND_NOT_FOUND</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute a message command based on a gateway event.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>hikari.events.message_events.MessageCreateEvent</strong>: The event to handle.</li>
</ul>
</div>


                            </div>
                            <div id="Client.on_gateway_autocomplete_create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.on_gateway_autocomplete_create">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">on_gateway_autocomplete_create</span><span class="signature">(
    self,
    interaction: hikari.interactions.command_interactions.AutocompleteInteraction,
    /
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_gateway_autocomplete_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute command autocomplete based on a received gateway interaction create.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.CommandInteraction</span>
<span class="sd">            The interaction to execute a command based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">coro</span> <span class="o">:=</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">await</span> <span class="n">coro</span>
                <span class="k">return</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute command autocomplete based on a received gateway interaction create.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>interaction</strong> (hikari.CommandInteraction):
The interaction to execute a command based on.</li>
</ul>
</div>


                            </div>
                            <div id="Client.on_gateway_command_create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.on_gateway_command_create">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">on_gateway_command_create</span><span class="signature">(
    self,
    interaction: hikari.interactions.command_interactions.CommandInteraction,
    /
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_gateway_command_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute an app command based on a received gateway interaction create.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.CommandInteraction</span>
<span class="sd">            The interaction to execute a command based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_slash_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_slash_hooks</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">in</span> <span class="n">_MENU_TYPES</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_menu_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_menu_hooks</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown command type </span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">start_defer_timer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span>

            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="c1"># This is set on each iteration to ensure that any component</span>
                <span class="c1"># state which was set to this isn&#39;t propagated to other components.</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_slash</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.SlashHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_menu</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.MenuHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">coro</span><span class="p">:</span>
                    <span class="k">return</span> <span class="k">await</span> <span class="n">coro</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute an app command based on a received gateway interaction create.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>interaction</strong> (hikari.CommandInteraction):
The interaction to execute a command based on.</li>
</ul>
</div>


                            </div>
                            <div id="Client.on_interaction_create_event" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.on_interaction_create_event">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">on_interaction_create_event</span><span class="signature">(
    self,
    event: hikari.events.interaction_events.InteractionCreateEvent,
    /
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_interaction_create_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionCreateEvent</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Handle a gateway interaction create event.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will execute application commands and autocomplete interactions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event : hikari.events.interaction_events.InteractionCreateEvent</span>
<span class="sd">            The event to execute commands based on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionType</span><span class="o">.</span><span class="n">APPLICATION_COMMAND</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_gateway_command_create</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionType</span><span class="o">.</span><span class="n">AUTOCOMPLETE</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_gateway_autocomplete_create</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interaction</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Handle a gateway interaction create event.</p>

<p><em>Note:</em>
This will execute application commands and autocomplete interactions.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>event</strong> (hikari.events.interaction_events.InteractionCreateEvent):
The event to execute commands based on.</li>
</ul>
</div>


                            </div>
                            <div id="Client.on_autocomplete_interaction_request" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.on_autocomplete_interaction_request">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">on_autocomplete_interaction_request</span><span class="signature">(
    self,
    interaction: hikari.interactions.command_interactions.AutocompleteInteraction,
    /
) -&gt; hikari.api.special_endpoints.InteractionAutocompleteBuilder</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_autocomplete_interaction_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteraction</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionAutocompleteBuilder</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Execute a command autocomplete based on received REST requests.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.AutocompleteInteraction</span>
<span class="sd">            The interaction to execute autocomplete based on.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        hikari.api.InteractionAutocompleteBuilder</span>
<span class="sd">            The initial response to send back to Discord.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="n">future</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionAutocompleteBuilder</span><span class="p">]</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">create_future</span><span class="p">()</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_autocomplete_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">,</span> <span class="n">future</span><span class="o">=</span><span class="n">future</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">coro</span> <span class="o">:=</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">)</span>
                <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Autocomplete not found for </span><span class="si">{</span><span class="n">interaction</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute a command autocomplete based on received REST requests.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>interaction</strong> (hikari.AutocompleteInteraction):
The interaction to execute autocomplete based on.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.api.InteractionAutocompleteBuilder</strong>: The initial response to send back to Discord.</li>
</ul>
</div>


                            </div>
                            <div id="Client.on_command_interaction_request" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Client.on_command_interaction_request">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">on_command_interaction_request</span><span class="signature">(
    self,
    interaction: hikari.interactions.command_interactions.CommandInteraction,
    /
) -&gt; Union[hikari.api.special_endpoints.InteractionMessageBuilder, hikari.api.special_endpoints.InteractionDeferredBuilder]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_command_interaction_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">interaction</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteraction</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionMessageBuilder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionDeferredBuilder</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Execute an app command based on received REST requests.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        interaction : hikari.CommandInteraction</span>
<span class="sd">            The interaction to execute a command based on.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        hikari.api.InteractionMessageBuilder | hikari.api.InteractionDeferredBuilder</span>
<span class="sd">            The initial response to send back to Discord.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="n">future</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">[</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionMessageBuilder</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">InteractionDeferredBuilder</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">create_future</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_slash_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_slash_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
                <span class="n">future</span><span class="o">=</span><span class="n">future</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_slash_hooks</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span> <span class="ow">in</span> <span class="n">_MENU_TYPES</span><span class="p">:</span>
            <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_menu_context</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">injection_client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">interaction</span><span class="o">=</span><span class="n">interaction</span><span class="p">,</span>
                <span class="n">on_not_found</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_menu_not_found</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">,</span>
                <span class="n">future</span><span class="o">=</span><span class="n">future</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_menu_hooks</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown command type </span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">start_defer_timer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_auto_defer_after</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span>

            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="c1"># This is set on each iteration to ensure that any component</span>
                <span class="c1"># state which was set to this isn&#39;t propagated to other components.</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">SLASH</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_slash</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.SlashHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">)</span>
                    <span class="n">coro</span> <span class="o">=</span> <span class="k">await</span> <span class="n">component</span><span class="o">.</span><span class="n">execute_menu</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;set[tanjun_abc.MenuHooks]&quot;</span><span class="p">,</span> <span class="n">hooks</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">coro</span><span class="p">:</span>
                    <span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">coro</span><span class="p">)</span>
                    <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="c1"># Under very specific timing there may be another future which could set a result while we await</span>
            <span class="c1"># ctx.respond therefore we create a task to avoid any erroneous behaviour from this trying to create</span>
            <span class="c1"># another response before it&#39;s returned the initial response.</span>
            <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> command error responder&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>

        <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interaction</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">future</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute an app command based on received REST requests.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>interaction</strong> (hikari.CommandInteraction):
The interaction to execute a command based on.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.api.InteractionMessageBuilder | hikari.api.InteractionDeferredBuilder</strong>: The initial response to send back to Discord.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="tanjun/injecting.html#InjectorClient">tanjun.injecting.InjectorClient</a></dt>
                                <dd id="Client.set_type_dependency" class="function"><a href="tanjun/injecting.html#InjectorClient.set_type_dependency">set_type_dependency</a></dd>
                <dd id="Client.get_type_dependency" class="function"><a href="tanjun/injecting.html#InjectorClient.get_type_dependency">get_type_dependency</a></dd>
                <dd id="Client.remove_type_dependency" class="function"><a href="tanjun/injecting.html#InjectorClient.remove_type_dependency">remove_type_dependency</a></dd>
                <dd id="Client.set_callback_override" class="function"><a href="tanjun/injecting.html#InjectorClient.set_callback_override">set_callback_override</a></dd>
                <dd id="Client.get_callback_override" class="function"><a href="tanjun/injecting.html#InjectorClient.get_callback_override">get_callback_override</a></dd>
                <dd id="Client.remove_callback_override" class="function"><a href="tanjun/injecting.html#InjectorClient.remove_callback_override">remove_callback_override</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ClientCallbackNames">
                                <div class="attr class">
        <a class="headerlink" href="#ClientCallbackNames">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ClientCallbackNames</span><wbr>(<span class="base">builtins.str</span>, <span class="base">enum.Enum</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ClientCallbackNames</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enum of the standard client callback names.</span>

<span class="sd">    These should be dispatched by all `Client` implementations.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">CLOSED</span> <span class="o">=</span> <span class="s2">&quot;closed&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when the client has finished closing.</span>

<span class="sd">    No positional arguments are provided for this event.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">CLOSING</span> <span class="o">=</span> <span class="s2">&quot;closing&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when the client is initially instructed to close.</span>

<span class="sd">    No positional arguments are provided for this event.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">COMPONENT_ADDED</span> <span class="o">=</span> <span class="s2">&quot;component_added&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when a component is added to an active client.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This event isn&#39;t dispatched for components which were registered while</span>
<span class="sd">        the client is inactive.</span>

<span class="sd">    The first positional argument is the `tanjun.abc.Component` being added.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">COMPONENT_REMOVED</span> <span class="o">=</span> <span class="s2">&quot;component_removed&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when a component is added to an active client.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This event isn&#39;t dispatched for components which were removed while</span>
<span class="sd">        the client is inactive.</span>

<span class="sd">    The first positional argument is the `tanjun.abc.Component` being removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">MENU_COMMAND_NOT_FOUND</span> <span class="o">=</span> <span class="s2">&quot;menu_command_not_found&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when a menu command is not found.</span>

<span class="sd">    `tanjun.abc.MenuContext` is provided as the first positional argument.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">MESSAGE_COMMAND_NOT_FOUND</span> <span class="o">=</span> <span class="s2">&quot;message_command_not_found&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when a message command is not found.</span>

<span class="sd">    `tanjun.abc.MessageContext` is provided as the first positional argument.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SLASH_COMMAND_NOT_FOUND</span> <span class="o">=</span> <span class="s2">&quot;slash_command_not_found&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when a slash command is not found.</span>

<span class="sd">    `tanjun.abc.SlashContext` is provided as the first positional argument.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">STARTED</span> <span class="o">=</span> <span class="s2">&quot;started&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when the client has finished starting.</span>

<span class="sd">    No positional arguments are provided for this event.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">STARTING</span> <span class="o">=</span> <span class="s2">&quot;starting&quot;</span>
    <span class="sd">&quot;&quot;&quot;Called when the client is initially instructed to start.</span>

<span class="sd">    No positional arguments are provided for this event.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Enum of the standard client callback names.</p>

<p>These should be dispatched by all <code><a href="#Client">Client</a></code> implementations.</p>
</div>


                            <div id="ClientCallbackNames.CLOSED" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.CLOSED">#&nbsp;&nbsp</a>

        <span class="name">CLOSED</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.CLOSED">ClientCallbackNames.CLOSED</a>: &#39;closed&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when the client has finished closing.</p>

<p>No positional arguments are provided for this event.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.CLOSING" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.CLOSING">#&nbsp;&nbsp</a>

        <span class="name">CLOSING</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.CLOSING">ClientCallbackNames.CLOSING</a>: &#39;closing&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when the client is initially instructed to close.</p>

<p>No positional arguments are provided for this event.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.COMPONENT_ADDED" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.COMPONENT_ADDED">#&nbsp;&nbsp</a>

        <span class="name">COMPONENT_ADDED</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.COMPONENT_ADDED">ClientCallbackNames.COMPONENT_ADDED</a>: &#39;component_added&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when a component is added to an active client.</p>

<p><em>Warning:</em>
This event isn't dispatched for components which were registered while
the client is inactive.</p>

<p>The first positional argument is the <code><a href="tanjun/abc.html#Component">tanjun.abc.Component</a></code> being added.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.COMPONENT_REMOVED" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.COMPONENT_REMOVED">#&nbsp;&nbsp</a>

        <span class="name">COMPONENT_REMOVED</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.COMPONENT_REMOVED">ClientCallbackNames.COMPONENT_REMOVED</a>: &#39;component_removed&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when a component is added to an active client.</p>

<p><em>Warning:</em>
This event isn't dispatched for components which were removed while
the client is inactive.</p>

<p>The first positional argument is the <code><a href="tanjun/abc.html#Component">tanjun.abc.Component</a></code> being removed.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.MENU_COMMAND_NOT_FOUND" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.MENU_COMMAND_NOT_FOUND">#&nbsp;&nbsp</a>

        <span class="name">MENU_COMMAND_NOT_FOUND</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.MENU_COMMAND_NOT_FOUND">ClientCallbackNames.MENU_COMMAND_NOT_FOUND</a>: &#39;menu_command_not_found&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when a menu command is not found.</p>

<p><code><a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a></code> is provided as the first positional argument.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.MESSAGE_COMMAND_NOT_FOUND" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.MESSAGE_COMMAND_NOT_FOUND">#&nbsp;&nbsp</a>

        <span class="name">MESSAGE_COMMAND_NOT_FOUND</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.MESSAGE_COMMAND_NOT_FOUND">ClientCallbackNames.MESSAGE_COMMAND_NOT_FOUND</a>: &#39;message_command_not_found&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when a message command is not found.</p>

<p><code><a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a></code> is provided as the first positional argument.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.SLASH_COMMAND_NOT_FOUND" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.SLASH_COMMAND_NOT_FOUND">#&nbsp;&nbsp</a>

        <span class="name">SLASH_COMMAND_NOT_FOUND</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.SLASH_COMMAND_NOT_FOUND">ClientCallbackNames.SLASH_COMMAND_NOT_FOUND</a>: &#39;slash_command_not_found&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when a slash command is not found.</p>

<p><code><a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a></code> is provided as the first positional argument.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.STARTED" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.STARTED">#&nbsp;&nbsp</a>

        <span class="name">STARTED</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.STARTED">ClientCallbackNames.STARTED</a>: &#39;started&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when the client has finished starting.</p>

<p>No positional arguments are provided for this event.</p>
</div>


                            </div>
                            <div id="ClientCallbackNames.STARTING" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ClientCallbackNames.STARTING">#&nbsp;&nbsp</a>

        <span class="name">STARTING</span><span class="default_value"> = &lt;<a href="#ClientCallbackNames.STARTING">ClientCallbackNames.STARTING</a>: &#39;starting&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Called when the client is initially instructed to start.</p>

<p>No positional arguments are provided for this event.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="ClientCallbackNames.name" class="variable">name</dd>
                <dd id="ClientCallbackNames.value" class="variable">value</dd>

            </div>
            <div><dt>builtins.str</dt>
                                <dd id="ClientCallbackNames.encode" class="function">encode</dd>
                <dd id="ClientCallbackNames.replace" class="function">replace</dd>
                <dd id="ClientCallbackNames.split" class="function">split</dd>
                <dd id="ClientCallbackNames.rsplit" class="function">rsplit</dd>
                <dd id="ClientCallbackNames.join" class="function">join</dd>
                <dd id="ClientCallbackNames.capitalize" class="function">capitalize</dd>
                <dd id="ClientCallbackNames.casefold" class="function">casefold</dd>
                <dd id="ClientCallbackNames.title" class="function">title</dd>
                <dd id="ClientCallbackNames.center" class="function">center</dd>
                <dd id="ClientCallbackNames.count" class="function">count</dd>
                <dd id="ClientCallbackNames.expandtabs" class="function">expandtabs</dd>
                <dd id="ClientCallbackNames.find" class="function">find</dd>
                <dd id="ClientCallbackNames.partition" class="function">partition</dd>
                <dd id="ClientCallbackNames.index" class="function">index</dd>
                <dd id="ClientCallbackNames.ljust" class="function">ljust</dd>
                <dd id="ClientCallbackNames.lower" class="function">lower</dd>
                <dd id="ClientCallbackNames.lstrip" class="function">lstrip</dd>
                <dd id="ClientCallbackNames.rfind" class="function">rfind</dd>
                <dd id="ClientCallbackNames.rindex" class="function">rindex</dd>
                <dd id="ClientCallbackNames.rjust" class="function">rjust</dd>
                <dd id="ClientCallbackNames.rstrip" class="function">rstrip</dd>
                <dd id="ClientCallbackNames.rpartition" class="function">rpartition</dd>
                <dd id="ClientCallbackNames.splitlines" class="function">splitlines</dd>
                <dd id="ClientCallbackNames.strip" class="function">strip</dd>
                <dd id="ClientCallbackNames.swapcase" class="function">swapcase</dd>
                <dd id="ClientCallbackNames.translate" class="function">translate</dd>
                <dd id="ClientCallbackNames.upper" class="function">upper</dd>
                <dd id="ClientCallbackNames.startswith" class="function">startswith</dd>
                <dd id="ClientCallbackNames.endswith" class="function">endswith</dd>
                <dd id="ClientCallbackNames.removeprefix" class="function">removeprefix</dd>
                <dd id="ClientCallbackNames.removesuffix" class="function">removesuffix</dd>
                <dd id="ClientCallbackNames.isascii" class="function">isascii</dd>
                <dd id="ClientCallbackNames.islower" class="function">islower</dd>
                <dd id="ClientCallbackNames.isupper" class="function">isupper</dd>
                <dd id="ClientCallbackNames.istitle" class="function">istitle</dd>
                <dd id="ClientCallbackNames.isspace" class="function">isspace</dd>
                <dd id="ClientCallbackNames.isdecimal" class="function">isdecimal</dd>
                <dd id="ClientCallbackNames.isdigit" class="function">isdigit</dd>
                <dd id="ClientCallbackNames.isnumeric" class="function">isnumeric</dd>
                <dd id="ClientCallbackNames.isalpha" class="function">isalpha</dd>
                <dd id="ClientCallbackNames.isalnum" class="function">isalnum</dd>
                <dd id="ClientCallbackNames.isidentifier" class="function">isidentifier</dd>
                <dd id="ClientCallbackNames.isprintable" class="function">isprintable</dd>
                <dd id="ClientCallbackNames.zfill" class="function">zfill</dd>
                <dd id="ClientCallbackNames.format" class="function">format</dd>
                <dd id="ClientCallbackNames.format_map" class="function">format_map</dd>
                <dd id="ClientCallbackNames.maketrans" class="function">maketrans</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="CommandError">
                                <div class="attr class">
        <a class="headerlink" href="#CommandError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">CommandError</span><wbr>(<span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CommandError</span><span class="p">(</span><span class="n">TanjunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised to end command execution.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,)</span>

    <span class="c1"># None or empty string == no response</span>
    <span class="n">message</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;The response error message.</span>

<span class="sd">    Tanjun will try to send the string message as a response.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a command error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            String message which will be sent as a response to the message</span>
<span class="sd">            that triggered the current command.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raised when the message is over 2000 characters long or empty.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Error message cannot be over 2_000 characters long.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="ow">not</span> <span class="n">message</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Response message must have at least 1 character.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised to end command execution.</p>
</div>


                            <div id="CommandError.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#CommandError.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">CommandError</span><span class="signature">(message: str, /)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a command error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            String message which will be sent as a response to the message</span>
<span class="sd">            that triggered the current command.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raised when the message is over 2000 characters long or empty.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Error message cannot be over 2_000 characters long.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="ow">not</span> <span class="n">message</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Response message must have at least 1 character.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a command error.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str):
String message which will be sent as a response to the message
that triggered the current command.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raised when the message is over 2000 characters long or empty.</li>
</ul>
</div>


                            </div>
                            <div id="CommandError.message" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#CommandError.message">#&nbsp;&nbsp</a>

        <span class="name">message</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>The response error message.</p>

<p>Tanjun will try to send the string message as a response.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="CommandError.with_traceback" class="function">with_traceback</dd>
                <dd id="CommandError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Component">
                                <div class="attr class">
        <a class="headerlink" href="#Component">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Component</span><wbr>(<span class="base"><a href="tanjun/abc.html#Component">tanjun.abc.Component</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Component</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Standard implementation of `tanjun.abc.Component`.</span>

<span class="sd">    This is a collcetion of commands (both message and slash), hooks and listener</span>
<span class="sd">    callbacks which can be added to a generic client.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This implementation supports dependency injection for its checks,</span>
<span class="sd">        command callbacks and listeners when linked to a client which</span>
<span class="sd">        supports dependency injection.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;_checks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_client&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_client_callbacks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_defaults_to_ephemeral&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_hooks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_is_strict&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_listeners&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_loop&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_menu_commands&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_menu_hooks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_message_commands&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_message_hooks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_metadata&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_name&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_names_to_commands&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_on_close&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_on_open&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_schedules&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_slash_commands&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_slash_hooks&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new component.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        name : str</span>
<span class="sd">            The component&#39;s identifier.</span>

<span class="sd">            If not provided then this will be a random string.</span>
<span class="sd">        strict : bool</span>
<span class="sd">            Whether this component should use a stricter (more optimal) approach</span>
<span class="sd">            for message command search.</span>

<span class="sd">            When this is `True`, message command names will not be allowed to contain</span>
<span class="sd">            spaces and will have to be unique to one command within the component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">checks_</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span> <span class="o">=</span> <span class="n">strict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randbytes</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_close</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_open</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">schedules</span><span class="o">.</span><span class="n">AbstractSchedule</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">checks</span><span class="si">=}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">hooks</span><span class="si">=}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">slash_hooks</span><span class="si">=}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">message_hooks</span><span class="si">=}</span><span class="s2">)&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">checks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Collection of the checks being run against every command execution in this component.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">check</span><span class="o">.</span><span class="n">callback</span> <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">defaults_to_ephemeral</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The general command hooks set for this component, if any.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">menu_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The menu command hooks set for this component, if any.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">message_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The message command hooks set for this component, if any.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">slash_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The slash command hooks set for this component, if any.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">loop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">schedules</span><span class="o">.</span><span class="n">AbstractSchedule</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Collection of the schedules registered to this component.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">slash_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">menu_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">message_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">needs_injector</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Whether any of the checks in this component require dependency injection.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">check</span><span class="o">.</span><span class="n">needs_injector</span> <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">listeners</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">utilities</span><span class="o">.</span><span class="n">CastedView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span> <span class="o">=</span> <span class="p">[</span><span class="n">check</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">event</span><span class="p">:</span> <span class="p">[</span><span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span> <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">]</span> <span class="k">for</span> <span class="n">event</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="n">commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">command</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">commands</span><span class="p">[</span><span class="n">command</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="p">[</span><span class="n">schedule</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="k">else</span> <span class="p">[]</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">load_from_scope</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">load_from_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include_globals</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">load_from_scope</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">include_globals</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Load entries such as top-level commands into the component from the calling scope.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This will load schedules which support `AbstractComponentLoader`</span>
<span class="sd">          (e.g. `tanjun.schedules.IntervalSchedule`).</span>
<span class="sd">        * This will ignore commands which are owned by command groups.</span>
<span class="sd">        * This will detect entries from the calling scope which implement</span>
<span class="sd">          `AbstractComponentLoader` unless `scope` is passed but this isn&#39;t possible</span>
<span class="sd">          in a stack-less python implementation; in stack-less environments the</span>
<span class="sd">          scope will have to be explicitly passed as `scope`.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        include_globals: bool</span>
<span class="sd">            Whether to include global variables (along with local) while</span>
<span class="sd">            detecting from the calling scope.</span>

<span class="sd">            This defaults to `False`, cannot be `True` when `scope` is provided</span>
<span class="sd">            and will only ever be needed when the local scope is different</span>
<span class="sd">            from the global scope.</span>
<span class="sd">        scope : collections.Mapping[str, typing.Any] | None</span>
<span class="sd">            The scope to detect entries which implement `AbstractComponentLoader`</span>
<span class="sd">            from.</span>

<span class="sd">            This overrides the default usage of stackframe introspection.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The current component to allow for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If this is called in a python implementation which doesn&#39;t support</span>
<span class="sd">            stack frame inspection when `scope` is not provided.</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `scope` is provided when `include_globals` is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">stack</span> <span class="o">:=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">stack</span><span class="o">.</span><span class="n">f_back</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Stackframe introspection is not supported in this runtime. Please explicitly pass `scope`.&quot;</span>
                <span class="p">)</span>

            <span class="n">values_iter</span> <span class="o">=</span> <span class="n">_filter_scope</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">f_back</span><span class="o">.</span><span class="n">f_locals</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">include_globals</span><span class="p">:</span>
                <span class="n">values_iter</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">values_iter</span><span class="p">,</span> <span class="n">_filter_scope</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">f_back</span><span class="o">.</span><span class="n">f_globals</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">include_globals</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot specify include_globals as True when scope is passed&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">values_iter</span> <span class="o">=</span> <span class="n">_filter_scope</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Loading commands for </span><span class="si">%s</span><span class="s2"> component from </span><span class="si">%s</span><span class="s2"> parent scope(s)&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;global and local&quot;</span> <span class="k">if</span> <span class="n">include_globals</span> <span class="k">else</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values_iter</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">AbstractComponentLoader</span><span class="p">):</span>
                <span class="n">value</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether slash contexts executed in this component should default to ephemeral responses.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bool | None</span>
<span class="sd">            Whether slash command contexts executed in this component should</span>
<span class="sd">            should default to ephemeral.</span>
<span class="sd">            This will be overridden by any response calls which specify flags.</span>

<span class="sd">            Setting this to `None` will let the default set on the parent</span>
<span class="sd">            client propagate and decide the ephemeral default behaviour.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">state</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of all of this component&#39;s commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.AnyHooks | None</span>
<span class="sd">            The command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_menu_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of this component&#39;s menu commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MenuHooks | None</span>
<span class="sd">            The menu command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span> <span class="o">=</span> <span class="n">hooks_</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_message_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of this component&#39;s message commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MessageHooks | None</span>
<span class="sd">            The message command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span> <span class="o">=</span> <span class="n">hooks_</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_slash_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of this component&#39;s slash commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.SlashHooks | None</span>
<span class="sd">            The slash command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span> <span class="o">=</span> <span class="n">hooks_</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a command check to this component to be used for all its commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tanjun.abc.CheckSig</span>
<span class="sd">            The check to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">check</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks_</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">(</span><span class="n">check</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a command check from this component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to remove.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the check is not registered with this component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;checks_.InjectableCheck&quot;</span><span class="p">,</span> <span class="n">check</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a general command check to this component through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.CheckSig</span>
<span class="sd">            The added check.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check</span>

    <span class="k">def</span> <span class="nf">add_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span>
        <span class="n">event_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a client callback.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name this callback is being registered to.</span>

<span class="sd">            This is case-insensitive.</span>
<span class="sd">        callback : MetaEventSigT</span>
<span class="sd">            The callback to register.</span>

<span class="sd">            This may be sync or async and must return None. The positional and</span>
<span class="sd">            keyword arguments a callback should expect depend on implementation</span>
<span class="sd">            detail around the `name` being subscribed to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event_name</span> <span class="o">=</span> <span class="n">event_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">callback</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">get_client_callbacks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get a collection of the callbacks registered for a specific name.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name to get the callbacks registered for.</span>

<span class="sd">            This is case-insensitive.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        collections.abc.Collection[MetaEventSig]</span>
<span class="sd">            Collection of the callbacks for the provided name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event_name</span> <span class="o">=</span> <span class="n">event_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span> <span class="ow">or</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">remove_client_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a client callback.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name this callback is being registered to.</span>

<span class="sd">            This is case-insensitive.</span>
<span class="sd">        callback : MetaEventSigT</span>
<span class="sd">            The callback to remove from the client&#39;s callbacks.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            If the provided name isn&#39;t found.</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the provided callback isn&#39;t found.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event_name</span> <span class="o">=</span> <span class="n">event_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">with_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Add a client callback through a decorator call.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ```py</span>
<span class="sd">        client = tanjun.Client.from_rest_bot(bot)</span>

<span class="sd">        @client.with_client_callback(&quot;closed&quot;)</span>
<span class="sd">        async def on_close() -&gt; None:</span>
<span class="sd">            raise NotImplementedError</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name this callback is being registered to.</span>

<span class="sd">            This is case-insensitive.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        collections.abc.Callable[[MetaEventSigT], MetaEventSigT]</span>
<span class="sd">            Decorator callback used to register the client callback.</span>

<span class="sd">            This may be sync or async and must return None. The positional and</span>
<span class="sd">            keyword arguments a callback should expect depend on implementation</span>
<span class="sd">            detail around the `name` being subscribed to.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>

    <span class="k">def</span> <span class="nf">add_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a command to this component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.ExecutableCommand</span>
<span class="sd">            The command to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The current component to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_message_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_slash_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_menu_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Unexpected object passed, expected a MenuCommand, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;MessageCommand or BaseSlashCommand but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">command</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a command from this component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.ExecutableCommand</span>
<span class="sd">            The command to remove.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_message_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_slash_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unexpected object passed, expected a MessageCommand or BaseSlashCommand but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">command</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CommandT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Add a command to this component through a decorator call.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        This may be used inconjunction with `tanjun.as_slash_command`</span>
<span class="sd">        and `tanjun.as_message_command`.</span>

<span class="sd">        ```py</span>
<span class="sd">        @component.with_command</span>
<span class="sd">        @tanjun.with_slash_str_option(&quot;option_name&quot;, &quot;option description&quot;)</span>
<span class="sd">        @tanjun.as_slash_command(&quot;command_name&quot;, &quot;command description&quot;)</span>
<span class="sd">        async def slash_command(ctx: tanjun.abc.Context, arg: str) -&gt; None:</span>
<span class="sd">            await ctx.respond(f&quot;Hi {arg}&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        ```py</span>
<span class="sd">        @component.with_command</span>
<span class="sd">        @tanjun.with_argument(&quot;argument_name&quot;)</span>
<span class="sd">        @tanjun.as_message_command(&quot;command_name&quot;)</span>
<span class="sd">        async def message_command(ctx: tanjun.abc.Context, arg: str) -&gt; None:</span>
<span class="sd">            await ctx.respond(f&quot;Hi {arg}&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command CommandT</span>
<span class="sd">            The command to add to this component.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        copy : bool</span>
<span class="sd">            Whether to copy the command before adding it to this component.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CommandT</span>
<span class="sd">            The added command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_menu_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_menu_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="p">[(</span><span class="n">command</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Command </span><span class="si">{</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_menu_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">_MenuCommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_menu_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_MenuCommandT</span><span class="p">],</span> <span class="n">_MenuCommandT</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">with_menu_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_MenuCommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">_MenuCommandT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_menu_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_slash_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_slash_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="p">[</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Command </span><span class="si">{</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_slash_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_slash_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">with_slash_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_slash_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a message command to the component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.MessageCommand</span>
<span class="sd">            The command to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component to allow method chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If one of the command&#39;s name is already registered in a strict</span>
<span class="sd">            component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command name cannot contain spaces for this component implementation&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">name_conflicts</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Sub-command names must be unique in a strict component. &quot;</span>
                    <span class="s2">&quot;The following conflicts were found &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">name_conflicts</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">update</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">with_message_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">with_message_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_message_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">listener</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">listener</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">listener</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">listener</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># TODO: make event optional?</span>
    <span class="k">def</span> <span class="nf">with_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>

    <span class="k">def</span> <span class="nf">add_on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a close callback to this component.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the closing and closed client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The close callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component object to enable call chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_close</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OnCallbackSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a close callback to this component through a decorator call.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the closing and closed client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The close callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        OnCallbackSig</span>
<span class="sd">            The added close callback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_close</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>

    <span class="k">def</span> <span class="nf">add_on_open</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a open callback to this component.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the starting and started client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The open callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component object to enable call chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_open</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_on_open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OnCallbackSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a open callback to this component through a decorator call.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the starting and started client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The open callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        OnCallbackSig</span>
<span class="sd">            The added open callback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_open</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>

    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client already set&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="k">for</span> <span class="n">message_command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span>
            <span class="n">message_command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">slash_command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">slash_command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">event</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">callbacks</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">callbacks</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">unbind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">!=</span> <span class="n">client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Component isn&#39;t bound to this client&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">event</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">LookupError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                    <span class="k">pass</span>

        <span class="k">for</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">callbacks</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">callbacks</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">LookupError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                    <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_check_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">utilities</span><span class="o">.</span><span class="n">gather_checks</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_check_message_context</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">AsyncIterator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]]:</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">command</span> <span class="ow">and</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="ow">and</span> <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_component</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

            <span class="k">return</span>

        <span class="n">checks_run</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_message_name</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">checks_run</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                    <span class="k">return</span>

                <span class="n">checks_run</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span>

        <span class="n">ctx</span><span class="o">.</span><span class="n">set_component</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_message_name</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">name_</span> <span class="o">:=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">match_prefix_names</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">name_</span><span class="p">,</span> <span class="n">command</span>

    <span class="k">def</span> <span class="nf">check_slash_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">command</span>

    <span class="k">def</span> <span class="nf">execute_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_name</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">command</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_execute_app</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">_AppCommandContextT</span><span class="p">,</span>
        <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AppCommand</span><span class="p">[</span><span class="n">_AppCommandContextT</span><span class="p">]],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">_AppCommandContextT</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">other_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">_AppCommandContextT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">command</span> <span class="ow">or</span> <span class="ow">not</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

            <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">other_hooks</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

            <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other_hooks</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">command</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

    <span class="c1"># To ensure that ctx.set_ephemeral_default is called as soon as possible if</span>
    <span class="c1"># a match is found the public function is kept sync to avoid yielding</span>
    <span class="c1"># to the event loop until after this is set.</span>
    <span class="k">def</span> <span class="nf">execute_menu</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">ctx</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_name</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span><span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_app</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">other_hooks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">)</span>

    <span class="c1"># To ensure that ctx.set_ephemeral_default is called as soon as possible if</span>
    <span class="c1"># a match is found the public function is kept sync to avoid yielding</span>
    <span class="c1"># to the event loop until after this is set.</span>
    <span class="k">def</span> <span class="nf">execute_slash</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span><span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_app</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">other_hooks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_message_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">set_triggering_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">set_content</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">())</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">set_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="c1"># Only add our hooks if we&#39;re sure we&#39;ll be executing the command here.</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

                <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

                <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">)</span>

            <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">ctx</span><span class="o">.</span><span class="n">set_component</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_load_from_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">AbstractComponentLoader</span><span class="p">):</span>
                <span class="n">member</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">schedules</span><span class="o">.</span><span class="n">AbstractSchedule</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a schedule to the component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        schedule : tanjun.schedules.AbstractSchedule</span>
<span class="sd">            The schedule to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component itself for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="c1"># TODO: upgrade this to the standard interface</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">)</span>
            <span class="n">schedule</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">schedules</span><span class="o">.</span><span class="n">AbstractSchedule</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a schedule from the component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        schedule : tanjun.schedules.AbstractSchedule</span>
<span class="sd">            The schedule to remove</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component itself for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the schedule isn&#39;t registered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
            <span class="n">schedule</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">_ScheduleT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ScheduleT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a schedule to the component through a decorator call.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        This may be used in conjunction with `tanjun.as_interval`.</span>

<span class="sd">        ```py</span>
<span class="sd">        @component.with_schedule</span>
<span class="sd">        @tanjun.as_interval(60)</span>
<span class="sd">        async def my_schedule():</span>
<span class="sd">            print(&quot;I&#39;m running every minute!&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        schedule : schedules.AbstractSchedule</span>
<span class="sd">            The schedule to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        schedules.AbstractSchedule</span>
<span class="sd">            The added schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_schedule</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">schedule</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">unbind</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Component isn&#39;t active&quot;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

        <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
                <span class="n">schedule</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># TODO: upgrade this to the standard interface</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">BasicInjectionContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">))</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_close</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">unbind</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unbind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Component is already active&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client isn&#39;t bound yet&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="c1"># TODO: upgrade this to the standard interface</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">BasicInjectionContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">))</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_open</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="n">schedule</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">make_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientLoader</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Make a loader/unloader for this component.</span>

<span class="sd">        This enables loading, unloading and reloading of this component into a</span>
<span class="sd">        client by targeting the module using `tanjun.Client.load_modules`,</span>
<span class="sd">        `tanjun.Client.unload_modules` and `tanjun.Client.reload_modules`.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        copy: bool</span>
<span class="sd">            Whether to copy the component before loading it into a client.</span>

<span class="sd">            Defaults to `True`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.ClientLoader</span>
<span class="sd">            The loader for this component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_ComponentManager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Standard implementation of <code><a href="tanjun/abc.html#Component">tanjun.abc.Component</a></code>.</p>

<p>This is a collcetion of commands (both message and slash), hooks and listener
callbacks which can be added to a generic client.</p>

<p><em>Note:</em>
This implementation supports dependency injection for its checks,
command callbacks and listeners when linked to a client which
supports dependency injection.</p>
</div>


                            <div id="Component.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Component</span><span class="signature">(*, name: Optional[str] = None, strict: bool = False)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new component.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        name : str</span>
<span class="sd">            The component&#39;s identifier.</span>

<span class="sd">            If not provided then this will be a random string.</span>
<span class="sd">        strict : bool</span>
<span class="sd">            Whether this component should use a stricter (more optimal) approach</span>
<span class="sd">            for message command search.</span>

<span class="sd">            When this is `True`, message command names will not be allowed to contain</span>
<span class="sd">            spaces and will have to be unique to one command within the component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">checks_</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span> <span class="o">=</span> <span class="n">strict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randbytes</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_close</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_open</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">schedules</span><span class="o">.</span><span class="n">AbstractSchedule</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a new component.</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The component's identifier.</p>

<p>If not provided then this will be a random string.</p></li>
<li><p><strong>strict</strong> (bool):
Whether this component should use a stricter (more optimal) approach
for message command search.</p>

<p>When this is <code>True</code>, message command names will not be allowed to contain
spaces and will have to be unique to one command within the component.</p></li>
</ul>
</div>


                            </div>
                            <div id="Component.checks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.checks">#&nbsp;&nbsp</a>

        <span class="name">checks</span><span class="annotation">: collections.abc.Collection[collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the checks being run against every command execution in this component.</p>
</div>


                            </div>
                            <div id="Component.client" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.client">#&nbsp;&nbsp</a>

        <span class="name">client</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>]</span>
    </div>

    
            <div class="docstring"><p>Tanjun client this component is bound to.</p>
</div>


                            </div>
                            <div id="Component.defaults_to_ephemeral" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.defaults_to_ephemeral">#&nbsp;&nbsp</a>

        <span class="name">defaults_to_ephemeral</span><span class="annotation">: Optional[bool]</span>
    </div>

    
            <div class="docstring"><p>Whether slash contexts executed in this component should default to ephemeral responses.</p>

<p>This effects calls to <code>SlashContext.create_followup</code>,
<code>SlashContext.create_initial_response</code>, <code>SlashContext.defer</code> and
<code>SlashContext.respond</code> unless the <code>flags</code> field is provided for the
methods which support it.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>This may be overridden by <code>BaseSlashCommand.defaults_to_ephemeral</code>.</li>
<li>This only effects slash command execution.</li>
<li>If this is <code>None</code> then the default from the parent client is used.</li>
</ul>
</div>


                            </div>
                            <div id="Component.hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.hooks">#&nbsp;&nbsp</a>

        <span class="name">hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>]]</span>
    </div>

    
            <div class="docstring"><p>The general command hooks set for this component, if any.</p>
</div>


                            </div>
                            <div id="Component.menu_hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.menu_hooks">#&nbsp;&nbsp</a>

        <span class="name">menu_hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>]]</span>
    </div>

    
            <div class="docstring"><p>The menu command hooks set for this component, if any.</p>
</div>


                            </div>
                            <div id="Component.message_hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.message_hooks">#&nbsp;&nbsp</a>

        <span class="name">message_hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]]</span>
    </div>

    
            <div class="docstring"><p>The message command hooks set for this component, if any.</p>
</div>


                            </div>
                            <div id="Component.slash_hooks" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.slash_hooks">#&nbsp;&nbsp</a>

        <span class="name">slash_hooks</span><span class="annotation">: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]]</span>
    </div>

    
            <div class="docstring"><p>The slash command hooks set for this component, if any.</p>
</div>


                            </div>
                            <div id="Component.loop" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.loop">#&nbsp;&nbsp</a>

        <span class="name">loop</span><span class="annotation">: Optional[asyncio.events.AbstractEventLoop]</span>
    </div>

    
            <div class="docstring"><p>The asyncio loop this client is bound to if it has been opened.</p>
</div>


                            </div>
                            <div id="Component.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>Component's unique identifier.</p>

<p><em>Note:</em>
This will be preserved between copies of a component.</p>
</div>


                            </div>
                            <div id="Component.schedules" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.schedules">#&nbsp;&nbsp</a>

        <span class="name">schedules</span><span class="annotation">: collections.abc.Collection[<a href="tanjun/schedules.html#AbstractSchedule">tanjun.schedules.AbstractSchedule</a>]</span>
    </div>

    
            <div class="docstring"><p>Collection of the schedules registered to this component.</p>
</div>


                            </div>
                            <div id="Component.slash_commands" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.slash_commands">#&nbsp;&nbsp</a>

        <span class="name">slash_commands</span><span class="annotation">: collections.abc.Collection[<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>]</span>
    </div>

    
            <div class="docstring"><p>Collection of the slash commands in this component.</p>
</div>


                            </div>
                            <div id="Component.menu_commands" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.menu_commands">#&nbsp;&nbsp</a>

        <span class="name">menu_commands</span><span class="annotation">: collections.abc.Collection[<a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand</a>[typing.Any, typing.Any]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the menu commands in this component.</p>
</div>


                            </div>
                            <div id="Component.message_commands" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.message_commands">#&nbsp;&nbsp</a>

        <span class="name">message_commands</span><span class="annotation">: collections.abc.Collection[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the message commands in this component.</p>
</div>


                            </div>
                            <div id="Component.needs_injector" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.needs_injector">#&nbsp;&nbsp</a>

        <span class="name">needs_injector</span><span class="annotation">: bool</span>
    </div>

    
            <div class="docstring"><p>Whether any of the checks in this component require dependency injection.</p>
</div>


                            </div>
                            <div id="Component.listeners" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.listeners">#&nbsp;&nbsp</a>

        <span class="name">listeners</span><span class="annotation">: collections.abc.Mapping[type[hikari.events.base_events.Event], collections.abc.Collection[collections.abc.Callable[..., collections.abc.Coroutine[typing.Any, typing.Any, None]]]]</span>
    </div>

    
            <div class="docstring"><p>Mapping of event types to the listeners registered for them in this component.</p>
</div>


                            </div>
                            <div id="Component.metadata" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Component.metadata">#&nbsp;&nbsp</a>

        <span class="name">metadata</span><span class="annotation">: dict[typing.Any, typing.Any]</span>
    </div>

    
            <div class="docstring"><p>Mutable mapping of the metadata set for this component.</p>

<p><em>Note:</em>
Any modifications made to this mutable mapping will be preserved by
the component.</p>
</div>


                            </div>
                            <div id="Component.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(self: ~_ComponentT, *, _new: bool = True) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span> <span class="o">=</span> <span class="p">[</span><span class="n">check</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">event</span><span class="p">:</span> <span class="p">[</span><span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span> <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">]</span> <span class="k">for</span> <span class="n">event</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="n">commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">command</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">commands</span><span class="p">[</span><span class="n">command</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="p">[</span><span class="n">schedule</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="k">else</span> <span class="p">[]</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Component.load_from_scope" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.load_from_scope">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">load_from_scope</span><span class="signature">(
    self: ~_ComponentT,
    *,
    include_globals: bool = False,
    scope: Optional[collections.abc.Mapping[str, Any]] = None
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">load_from_scope</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">include_globals</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Load entries such as top-level commands into the component from the calling scope.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        * This will load schedules which support `AbstractComponentLoader`</span>
<span class="sd">          (e.g. `tanjun.schedules.IntervalSchedule`).</span>
<span class="sd">        * This will ignore commands which are owned by command groups.</span>
<span class="sd">        * This will detect entries from the calling scope which implement</span>
<span class="sd">          `AbstractComponentLoader` unless `scope` is passed but this isn&#39;t possible</span>
<span class="sd">          in a stack-less python implementation; in stack-less environments the</span>
<span class="sd">          scope will have to be explicitly passed as `scope`.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        include_globals: bool</span>
<span class="sd">            Whether to include global variables (along with local) while</span>
<span class="sd">            detecting from the calling scope.</span>

<span class="sd">            This defaults to `False`, cannot be `True` when `scope` is provided</span>
<span class="sd">            and will only ever be needed when the local scope is different</span>
<span class="sd">            from the global scope.</span>
<span class="sd">        scope : collections.Mapping[str, typing.Any] | None</span>
<span class="sd">            The scope to detect entries which implement `AbstractComponentLoader`</span>
<span class="sd">            from.</span>

<span class="sd">            This overrides the default usage of stackframe introspection.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The current component to allow for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If this is called in a python implementation which doesn&#39;t support</span>
<span class="sd">            stack frame inspection when `scope` is not provided.</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `scope` is provided when `include_globals` is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">stack</span> <span class="o">:=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">stack</span><span class="o">.</span><span class="n">f_back</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Stackframe introspection is not supported in this runtime. Please explicitly pass `scope`.&quot;</span>
                <span class="p">)</span>

            <span class="n">values_iter</span> <span class="o">=</span> <span class="n">_filter_scope</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">f_back</span><span class="o">.</span><span class="n">f_locals</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">include_globals</span><span class="p">:</span>
                <span class="n">values_iter</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">values_iter</span><span class="p">,</span> <span class="n">_filter_scope</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">f_back</span><span class="o">.</span><span class="n">f_globals</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">include_globals</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot specify include_globals as True when scope is passed&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">values_iter</span> <span class="o">=</span> <span class="n">_filter_scope</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Loading commands for </span><span class="si">%s</span><span class="s2"> component from </span><span class="si">%s</span><span class="s2"> parent scope(s)&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;global and local&quot;</span> <span class="k">if</span> <span class="n">include_globals</span> <span class="k">else</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values_iter</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">AbstractComponentLoader</span><span class="p">):</span>
                <span class="n">value</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Load entries such as top-level commands into the component from the calling scope.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>This will load schedules which support <code>AbstractComponentLoader</code>
(e.g. <code><a href="tanjun/schedules.html#IntervalSchedule">tanjun.schedules.IntervalSchedule</a></code>).</li>
<li>This will ignore commands which are owned by command groups.</li>
<li>This will detect entries from the calling scope which implement
<code>AbstractComponentLoader</code> unless <code>scope</code> is passed but this isn't possible
in a stack-less python implementation; in stack-less environments the
scope will have to be explicitly passed as <code>scope</code>.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>include_globals</strong> (bool):
Whether to include global variables (along with local) while
detecting from the calling scope.</p>

<p>This defaults to <code>False</code>, cannot be <code>True</code> when <code>scope</code> is provided
and will only ever be needed when the local scope is different
from the global scope.</p></li>
<li><p><strong>scope</strong> (collections.Mapping[str, typing.Any] | None):
The scope to detect entries which implement <code>AbstractComponentLoader</code>
from.</p>

<p>This overrides the default usage of stackframe introspection.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The current component to allow for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If this is called in a python implementation which doesn't support
stack frame inspection when <code>scope</code> is not provided.</li>
<li><strong>ValueError</strong>: If <code>scope</code> is provided when <code>include_globals</code> is True.</li>
</ul>
</div>


                            </div>
                            <div id="Component.set_ephemeral_default" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.set_ephemeral_default">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_ephemeral_default</span><span class="signature">(self: ~_ComponentT, state: Optional[bool], /) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether slash contexts executed in this component should default to ephemeral responses.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bool | None</span>
<span class="sd">            Whether slash command contexts executed in this component should</span>
<span class="sd">            should default to ephemeral.</span>
<span class="sd">            This will be overridden by any response calls which specify flags.</span>

<span class="sd">            Setting this to `None` will let the default set on the parent</span>
<span class="sd">            client propagate and decide the ephemeral default behaviour.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">state</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set whether slash contexts executed in this component should default to ephemeral responses.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bool | None</strong>: Whether slash command contexts executed in this component should
should default to ephemeral.
This will be overridden by any response calls which specify flags.</li>
</ul>

<p>Setting this to <code>None</code> will let the default set on the parent
client propagate and decide the ephemeral default behaviour.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.set_metadata" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.set_metadata">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_metadata</span><span class="signature">(self: ~_ComponentT, key: Any, value: Any, /) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set a field in the component's metadata.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (typing.Any):
Metadata key to set.</li>
<li><strong>value</strong> (typing.Any):
Metadata value to set.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.set_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.set_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_hooks</span><span class="signature">(
    self: ~_ComponentT,
    hooks: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of all of this component&#39;s commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.AnyHooks | None</span>
<span class="sd">            The command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="o">=</span> <span class="n">hooks</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set hooks to be called during the execution of all of this component's commands.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>hooks</strong> (<a href="tanjun/abc.html#AnyHooks">tanjun.abc.AnyHooks</a> | None):
The command hooks to set.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.set_menu_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.set_menu_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_menu_hooks</span><span class="signature">(
    self: ~_ComponentT,
    hooks_: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_menu_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of this component&#39;s menu commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MenuHooks | None</span>
<span class="sd">            The menu command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span> <span class="o">=</span> <span class="n">hooks_</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set hooks to be called during the execution of this component's menu commands.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>hooks</strong> (<a href="tanjun/abc.html#MenuHooks">tanjun.abc.MenuHooks</a> | None):
The menu command hooks to set.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.set_message_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.set_message_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_message_hooks</span><span class="signature">(
    self: ~_ComponentT,
    hooks_: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_message_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of this component&#39;s message commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.MessageHooks | None</span>
<span class="sd">            The message command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span> <span class="o">=</span> <span class="n">hooks_</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set hooks to be called during the execution of this component's message commands.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>hooks</strong> (<a href="tanjun/abc.html#MessageHooks">tanjun.abc.MessageHooks</a> | None):
The message command hooks to set.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.set_slash_hooks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.set_slash_hooks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_slash_hooks</span><span class="signature">(
    self: ~_ComponentT,
    hooks_: Optional[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_slash_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">hooks_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set hooks to be called during the execution of this component&#39;s slash commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hooks : tanjun.abc.SlashHooks | None</span>
<span class="sd">            The slash command hooks to set.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span> <span class="o">=</span> <span class="n">hooks_</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set hooks to be called during the execution of this component's slash commands.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>hooks</strong> (<a href="tanjun/abc.html#SlashHooks">tanjun.abc.SlashHooks</a> | None):
The slash command hooks to set.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_check" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_check</span><span class="signature">(
    self: ~_ComponentT,
    check: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a command check to this component to be used for all its commands.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tanjun.abc.CheckSig</span>
<span class="sd">            The check to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">check</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks_</span><span class="o">.</span><span class="n">InjectableCheck</span><span class="p">(</span><span class="n">check</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a command check to this component to be used for all its commands.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong><a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a></strong>: The check to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_check" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_check</span><span class="signature">(
    self: ~_ComponentT,
    check: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_check</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a command check from this component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to remove.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the check is not registered with this component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;checks_.InjectableCheck&quot;</span><span class="p">,</span> <span class="n">check</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a command check from this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (<a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a>):
The check to remove.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the check is not registered with this component.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_check" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_check</span><span class="signature">(self, check: ~CheckSigT, /) -&gt; ~CheckSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a general command check to this component through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check : tanjun.abc.CheckSig</span>
<span class="sd">            The check to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.CheckSig</span>
<span class="sd">            The added check.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a general command check to this component through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (<a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a>):
The check to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a></strong>: The added check.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_client_callback" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_client_callback">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_client_callback</span><span class="signature">(
    self: ~_ComponentT,
    event_name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span>
        <span class="n">event_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a client callback.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name this callback is being registered to.</span>

<span class="sd">            This is case-insensitive.</span>
<span class="sd">        callback : MetaEventSigT</span>
<span class="sd">            The callback to register.</span>

<span class="sd">            This may be sync or async and must return None. The positional and</span>
<span class="sd">            keyword arguments a callback should expect depend on implementation</span>
<span class="sd">            detail around the `name` being subscribed to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event_name</span> <span class="o">=</span> <span class="n">event_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">callback</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a client callback.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name this callback is being registered to.</p>

<p>This is case-insensitive.</p></li>
<li><p><strong>callback</strong> (MetaEventSigT):
The callback to register.</p>

<p>This may be sync or async and must return None. The positional and
keyword arguments a callback should expect depend on implementation
detail around the <code><a href="#Component.name">name</a></code> being subscribed to.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.get_client_callbacks" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.get_client_callbacks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_client_callbacks</span><span class="signature">(
    self,
    event_name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    /
) -&gt; collections.abc.Collection[collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_client_callbacks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get a collection of the callbacks registered for a specific name.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name to get the callbacks registered for.</span>

<span class="sd">            This is case-insensitive.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        collections.abc.Collection[MetaEventSig]</span>
<span class="sd">            Collection of the callbacks for the provided name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event_name</span> <span class="o">=</span> <span class="n">event_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span> <span class="ow">or</span> <span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a collection of the callbacks registered for a specific name.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name to get the callbacks registered for.</p>

<p>This is case-insensitive.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Collection[MetaEventSig]</strong>: Collection of the callbacks for the provided name.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_client_callback" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_client_callback">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_client_callback</span><span class="signature">(
    self,
    event_name: str,
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_client_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a client callback.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name this callback is being registered to.</span>

<span class="sd">            This is case-insensitive.</span>
<span class="sd">        callback : MetaEventSigT</span>
<span class="sd">            The callback to remove from the client&#39;s callbacks.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            If the provided name isn&#39;t found.</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the provided callback isn&#39;t found.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The client instance to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event_name</span> <span class="o">=</span> <span class="n">event_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a client callback.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name this callback is being registered to.</p>

<p>This is case-insensitive.</p></li>
<li><strong>callback</strong> (MetaEventSigT):
The callback to remove from the client's callbacks.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: If the provided name isn't found.</li>
<li><strong>ValueError</strong>: If the provided callback isn't found.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The client instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_client_callback" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_client_callback">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_client_callback</span><span class="signature">(
    self,
    event_name: Union[str, <a href="tanjun/abc.html#ClientCallbackNames">tanjun.abc.ClientCallbackNames</a>],
    /
) -&gt; collections.abc.Callable[[~MetaEventSigT], ~MetaEventSigT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_client_callback</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Add a client callback through a decorator call.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ```py</span>
<span class="sd">        client = tanjun.Client.from_rest_bot(bot)</span>

<span class="sd">        @client.with_client_callback(&quot;closed&quot;)</span>
<span class="sd">        async def on_close() -&gt; None:</span>
<span class="sd">            raise NotImplementedError</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str | ClientCallbackNames</span>
<span class="sd">            The name this callback is being registered to.</span>

<span class="sd">            This is case-insensitive.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        collections.abc.Callable[[MetaEventSigT], MetaEventSigT]</span>
<span class="sd">            Decorator callback used to register the client callback.</span>

<span class="sd">            This may be sync or async and must return None. The positional and</span>
<span class="sd">            keyword arguments a callback should expect depend on implementation</span>
<span class="sd">            detail around the `name` being subscribed to.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MetaEventSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a client callback through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">from_rest_bot</span><span class="p">(</span><span class="n">bot</span><span class="p">)</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">with_client_callback</span><span class="p">(</span><span class="s2">&quot;closed&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_close</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str | ClientCallbackNames):
The name this callback is being registered to.</p>

<p>This is case-insensitive.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[MetaEventSigT], MetaEventSigT]</strong>: Decorator callback used to register the client callback.</li>
</ul>

<p>This may be sync or async and must return None. The positional and
keyword arguments a callback should expect depend on implementation
detail around the <code><a href="#Component.name">name</a></code> being subscribed to.</p>
</div>


                            </div>
                            <div id="Component.add_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[typing.Any],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a command to this component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.ExecutableCommand</span>
<span class="sd">            The command to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The current component to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_message_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_slash_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_menu_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Unexpected object passed, expected a MenuCommand, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;MessageCommand or BaseSlashCommand but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">command</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a command to this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>):
The command to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The current component to allow for chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[typing.Any],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a command from this component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.ExecutableCommand</span>
<span class="sd">            The command to remove.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This component to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_message_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_slash_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unexpected object passed, expected a MessageCommand or BaseSlashCommand but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">command</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a command from this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>):
The command to remove.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This component to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_command</span><span class="signature">(
    self,
    command: Optional[~CommandT] = None,
    /,
    *,
    copy: bool = False
) -&gt; Union[~CommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Add a command to this component through a decorator call.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        This may be used inconjunction with `tanjun.as_slash_command`</span>
<span class="sd">        and `tanjun.as_message_command`.</span>

<span class="sd">        ```py</span>
<span class="sd">        @component.with_command</span>
<span class="sd">        @tanjun.with_slash_str_option(&quot;option_name&quot;, &quot;option description&quot;)</span>
<span class="sd">        @tanjun.as_slash_command(&quot;command_name&quot;, &quot;command description&quot;)</span>
<span class="sd">        async def slash_command(ctx: tanjun.abc.Context, arg: str) -&gt; None:</span>
<span class="sd">            await ctx.respond(f&quot;Hi {arg}&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        ```py</span>
<span class="sd">        @component.with_command</span>
<span class="sd">        @tanjun.with_argument(&quot;argument_name&quot;)</span>
<span class="sd">        @tanjun.as_message_command(&quot;command_name&quot;)</span>
<span class="sd">        async def message_command(ctx: tanjun.abc.Context, arg: str) -&gt; None:</span>
<span class="sd">            await ctx.respond(f&quot;Hi {arg}&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command CommandT</span>
<span class="sd">            The command to add to this component.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        copy : bool</span>
<span class="sd">            Whether to copy the command before adding it to this component.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CommandT</span>
<span class="sd">            The added command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a command to this component through a decorator call.</p>

<h6 id="examples">Examples</h6>

<p>This may be used inconjunction with <code><a href="#as_slash_command">tanjun.as_slash_command</a></code>
and <code><a href="#as_message_command">tanjun.as_message_command</a></code>.</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@component</span><span class="o">.</span><span class="n">with_command</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">with_slash_str_option</span><span class="p">(</span><span class="s2">&quot;option_name&quot;</span><span class="p">,</span> <span class="s2">&quot;option description&quot;</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_slash_command</span><span class="p">(</span><span class="s2">&quot;command_name&quot;</span><span class="p">,</span> <span class="s2">&quot;command description&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">slash_command</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hi </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@component</span><span class="o">.</span><span class="n">with_command</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">with_argument</span><span class="p">(</span><span class="s2">&quot;argument_name&quot;</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;command_name&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">message_command</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hi </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command CommandT</strong>: The command to add to this component.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>copy</strong> (bool):
Whether to copy the command before adding it to this component.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>CommandT</strong>: The added command.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_menu_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_menu_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_menu_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand</a>[typing.Any, typing.Any],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_menu_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a menu command to this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MenuCommand):
The command to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_menu_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_menu_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_menu_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand</a>[typing.Any, typing.Any],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_menu_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="p">[(</span><span class="n">command</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">)]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Command </span><span class="si">{</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a menu command from this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MenuCommand):
Object of the menu command to remove.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_menu_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_menu_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_menu_command</span><span class="signature">(
    self,
    command: Optional[~_MenuCommandT] = None,
    /,
    *,
    copy: bool = False
) -&gt; Union[~_MenuCommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_menu_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_MenuCommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">_MenuCommandT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_menu_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a menu command to this component through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MenuCommand):
The command to add.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>copy</strong> (bool):
Whether to copy the command before adding it.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>MenuCommand</strong>: The added command.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_slash_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_slash_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_slash_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>,
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_slash_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a slash command to this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (BaseSlashCommand):
The command to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_slash_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_slash_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_slash_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>,
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_slash_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="p">[</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">casefold</span><span class="p">()]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Command </span><span class="si">{</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a slash command from this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (BaseSlashCommand):
The command to remove.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the provided command isn't found.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_slash_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_slash_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_slash_command</span><span class="signature">(
    self,
    command: Optional[~BaseSlashCommandT] = None,
    /,
    *,
    copy: bool = False
) -&gt; Union[~BaseSlashCommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_slash_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_slash_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a slash command to this component through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (BaseSlashCommandT):
The command to add.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>copy</strong> (bool):
Whether to copy the command before adding it.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>BaseSlashCommandT</strong>: The added command.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_message_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_message_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_message_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a message command to the component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.MessageCommand</span>
<span class="sd">            The command to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component to allow method chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If one of the command&#39;s name is already registered in a strict</span>
<span class="sd">            component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command name cannot contain spaces for this component implementation&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">name_conflicts</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Sub-command names must be unique in a strict component. &quot;</span>
                    <span class="s2">&quot;The following conflicts were found &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">name_conflicts</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">update</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a message command to the component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>):
The command to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to allow method chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If one of the command's name is already registered in a strict
component.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_message_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_message_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_message_command</span><span class="signature">(
    self: ~_ComponentT,
    command: <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a message command from this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MessageCommand[typing.Any]):
The command to remove.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the provided command isn't found.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_message_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_message_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_message_command</span><span class="signature">(
    self,
    command: Optional[~MessageCommandT] = None,
    /,
    *,
    copy: bool = False
) -&gt; Union[~MessageCommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_message_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WithCommandReturnSig</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommandT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_with_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_message_command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a message command to this component through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MessageCommandT):
The command to add.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>copy</strong> (bool):
Whether to copy the command before adding it.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>MessageCommandT</strong>: The added command.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_listener" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_listener">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_listener</span><span class="signature">(
    self: ~_ComponentT,
    event: type[hikari.events.base_events.Event],
    listener: collections.abc.Callable[..., collections.abc.Coroutine[typing.Any, typing.Any, None]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">listener</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">listener</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">listener</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a listener to this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>event</strong> (type[hikari.Event]):
The event to listen for.</li>
<li><strong>listener</strong> (ListenerCallbackSig):
The listener to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_listener" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_listener">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_listener</span><span class="signature">(
    self: ~_ComponentT,
    event: type[hikari.events.base_events.Event],
    listener: collections.abc.Callable[..., collections.abc.Coroutine[typing.Any, typing.Any, None]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span> <span class="n">listener</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">[</span><span class="n">event</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a listener from this component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>event</strong> (type[hikari.Event]):
The event to listen for.</li>
<li><strong>listener</strong> (ListenerCallbackSig):
The listener to remove.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the listener is not registered for the provided event.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_listener" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_listener">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_listener</span><span class="signature">(
    self,
    event_type: type[hikari.events.base_events.Event]
) -&gt; collections.abc.Callable[[~ListenerCallbackSigT], ~ListenerCallbackSigT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_listener</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Event</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">],</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ListenerCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a listener to this component through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>event_type</strong> (type[hikari.Event]):
The event to listen for.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[ListenerCallbackSigT], ListenerCallbackSigT]</strong>: Decorator callback which takes listener to add.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_on_close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_on_close">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_on_close</span><span class="signature">(
    self: ~_ComponentT,
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a close callback to this component.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the closing and closed client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The close callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component object to enable call chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_close</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a close callback to this component.</p>

<p><em>Note:</em>
Unlike the closing and closed client callbacks, this is only
called for the current component's lifetime and is guaranteed to be
called regardless of when the component was added to a client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (OnCallbackSig):
The close callback to add to this component.</p>

<p>This should take no positional arguments, return <code>None</code> and may
take use injected dependencies.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component object to enable call chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_on_close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_on_close">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_on_close</span><span class="signature">(self, callback: ~OnCallbackSigT, /) -&gt; ~OnCallbackSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OnCallbackSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a close callback to this component through a decorator call.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the closing and closed client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The close callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        OnCallbackSig</span>
<span class="sd">            The added close callback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_close</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a close callback to this component through a decorator call.</p>

<p><em>Note:</em>
Unlike the closing and closed client callbacks, this is only
called for the current component's lifetime and is guaranteed to be
called regardless of when the component was added to a client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (OnCallbackSig):
The close callback to add to this component.</p>

<p>This should take no positional arguments, return <code>None</code> and may
take use injected dependencies.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>OnCallbackSig</strong>: The added close callback.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_on_open" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_on_open">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_on_open</span><span class="signature">(
    self: ~_ComponentT,
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_on_open</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a open callback to this component.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the starting and started client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The open callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component object to enable call chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_open</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a open callback to this component.</p>

<p><em>Note:</em>
Unlike the starting and started client callbacks, this is only
called for the current component's lifetime and is guaranteed to be
called regardless of when the component was added to a client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (OnCallbackSig):
The open callback to add to this component.</p>

<p>This should take no positional arguments, return <code>None</code> and may
take use injected dependencies.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component object to enable call chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_on_open" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_on_open">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_on_open</span><span class="signature">(self, callback: ~OnCallbackSigT, /) -&gt; ~OnCallbackSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_on_open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">OnCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OnCallbackSigT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a open callback to this component through a decorator call.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Unlike the starting and started client callbacks, this is only</span>
<span class="sd">            called for the current component&#39;s lifetime and is guaranteed to be</span>
<span class="sd">            called regardless of when the component was added to a client.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : OnCallbackSig</span>
<span class="sd">            The open callback to add to this component.</span>

<span class="sd">            This should take no positional arguments, return `None` and may</span>
<span class="sd">            take use injected dependencies.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        OnCallbackSig</span>
<span class="sd">            The added open callback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_open</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a open callback to this component through a decorator call.</p>

<p><em>Note:</em>
Unlike the starting and started client callbacks, this is only
called for the current component's lifetime and is guaranteed to be
called regardless of when the component was added to a client.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (OnCallbackSig):
The open callback to add to this component.</p>

<p>This should take no positional arguments, return <code>None</code> and may
take use injected dependencies.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>OnCallbackSig</strong>: The added open callback.</li>
</ul>
</div>


                            </div>
                            <div id="Component.bind_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.bind_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_client</span><span class="signature">(self: ~_ComponentT, client: <a href="tanjun/abc.html#Client">tanjun.abc.Client</a>, /) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client already set&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="k">for</span> <span class="n">message_command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span>
            <span class="n">message_command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">slash_command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">slash_command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">event</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">callbacks</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">callbacks</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Component.unbind_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.unbind_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">unbind_client</span><span class="signature">(self: ~_ComponentT, client: <a href="tanjun/abc.html#Client">tanjun.abc.Client</a>, /) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">unbind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">!=</span> <span class="n">client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Component isn&#39;t bound to this client&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">event</span><span class="p">,</span> <span class="n">listeners</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="n">listeners</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_listener</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">LookupError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                    <span class="k">pass</span>

        <span class="k">for</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">callbacks</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_callbacks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="n">callbacks</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">remove_client_callback</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">LookupError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                    <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Component.check_message_name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.check_message_name">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">check_message_name</span><span class="signature">(
    self,
    content: str,
    /
) -&gt; collections.abc.Iterator[tuple[str, <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">check_message_name</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_commands</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">name_</span> <span class="o">:=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">match_prefix_names</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">name_</span><span class="p">,</span> <span class="n">command</span>
</pre></div>

        </details>

            <div class="docstring"><p>Check whether a name matches any of this component's registered message commands.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>This only checks for name matches against the top level command and
will not account for sub-commands.</li>
<li>Dependent on implementation detail this may partial check name against
command names using name.startswith(command_name), hence why it
also returns the name a command was matched by.</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The name to check for command matches.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[tuple[str, MessageCommand[typing.Any]]]</strong>: Iterator of tuples of command name matches to the relevant message
command objects.</li>
</ul>
</div>


                            </div>
                            <div id="Component.check_slash_name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.check_slash_name">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">check_slash_name</span><span class="signature">(
    self,
    name: str,
    /
) -&gt; collections.abc.Iterator[<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">check_slash_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">command</span>
</pre></div>

        </details>

            <div class="docstring"><p>Check whether a name matches any of this component's registered slash commands.</p>

<p><em>Note:</em>
This won't check for sub-commands and will expect <code><a href="#Component.name">name</a></code> to simply be
the top level command name.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The name to check for command matches.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Iterator[BaseSlashCommand]</strong>: An iterator of the matching slash commands.</li>
</ul>
</div>


                            </div>
                            <div id="Component.execute_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.execute_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">execute_autocomplete</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#AutocompleteContext">tanjun.abc.AutocompleteContext</a>,
    /
) -&gt; Optional[collections.abc.Coroutine[Any, Any, None]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">execute_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_name</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">command</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute an autocomplete context.</p>

<p><em>Note:</em>
Unlike the other execute methods, this shouldn't be expected to
raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> nor <code><a href="tanjun/errors.html#CommandError">tanjun.errors.CommandError</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ctx</strong> (AutocompleteContext):
The context to execute.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Coroutine[typing.Any, typing.Any, None] | None</strong>: Awaitable used to wait for the command execution to finish.</li>
</ul>

<p>This may be awaited or left to run as a background task.</p>

<p>If this is <code>None</code> then the client should carry on its search for a
component with a matching autocomplete.</p>
</div>


                            </div>
                            <div id="Component.execute_menu" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.execute_menu">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">execute_menu</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>,
    /,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>]]] = None
) -&gt; collections.abc.Coroutine[typing.Any, typing.Any, typing.Optional[collections.abc.Coroutine[typing.Any, typing.Any, None]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">execute_menu</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_menu_commands</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">ctx</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_name</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span><span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_app</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">other_hooks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_menu_hooks</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute a menu context.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ctx</strong> (MenuContext):
The context to execute.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>hooks</strong> (collections.abc.MutableSet[MenuHooks] | None):
Set of hooks to include in this command execution.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Coroutine[typing.Any, typing.Any, None] | None</strong>: Awaitable used to wait for the command execution to finish.</li>
</ul>

<p>This may be awaited or left to run as a background task.</p>

<p>If this is <code>None</code> then the client should carry on its search for a
component with a matching command.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong><a href="tanjun/errors.html#CommandError">tanjun.errors.CommandError</a></strong>: To end the command's execution with an error response message.</li>
<li><strong><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></strong>: To indicate that the client should stop searching for commands to
execute with the current context.</li>
</ul>
</div>


                            </div>
                            <div id="Component.execute_slash" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.execute_slash">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">execute_slash</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>,
    /,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]]] = None
) -&gt; collections.abc.Coroutine[typing.Any, typing.Any, typing.Optional[collections.abc.Coroutine[typing.Any, typing.Any, None]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">execute_slash</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_slash_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">command_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span><span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_app</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span> <span class="n">other_hooks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_slash_hooks</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute a slash context.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ctx</strong> (SlashContext):
The context to execute.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>hooks</strong> (collections.abc.MutableSet[SlashHooks] | None):
Set of hooks to include in this command execution.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Coroutine[typing.Any, typing.Any, None] | None</strong>: Awaitable used to wait for the command execution to finish.</li>
</ul>

<p>This may be awaited or left to run as a background task.</p>

<p>If this is <code>None</code> then the client should carry on its search for a
component with a matching command.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong><a href="tanjun/errors.html#CommandError">tanjun.errors.CommandError</a></strong>: To end the command's execution with an error response message.</li>
<li><strong><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></strong>: To indicate that the client should stop searching for commands to
execute with the current context.</li>
</ul>
</div>


                            </div>
                            <div id="Component.execute_message" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.execute_message">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute_message</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>,
    /,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]]] = None
) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_message_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">set_triggering_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">set_content</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">())</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">set_component</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="c1"># Only add our hooks if we&#39;re sure we&#39;ll be executing the command here.</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

                <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_message_hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

                <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">)</span>

            <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">ctx</span><span class="o">.</span><span class="n">set_component</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Execute a message context.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ctx</strong> (MessageContext):
The context to execute.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>hooks</strong> (collections.abc.MutableSet[MessageHooks] | None):
Set of hooks to include in this command execution.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bool</strong>: Whether a message command was executed in this component with the
provided context.</li>
</ul>

<p>If <code>False</code> then the client should carry on its search for a
component with a matching command.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong><a href="tanjun/errors.html#CommandError">tanjun.errors.CommandError</a></strong>: To end the command's execution with an error response message.</li>
<li><strong><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></strong>: To indicate that the client should stop searching for commands to
execute with the current context.</li>
</ul>
</div>


                            </div>
                            <div id="Component.add_schedule" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.add_schedule">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_schedule</span><span class="signature">(
    self: ~_ComponentT,
    schedule: <a href="tanjun/schedules.html#AbstractSchedule">tanjun.schedules.AbstractSchedule</a>,
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">schedules</span><span class="o">.</span><span class="n">AbstractSchedule</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a schedule to the component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        schedule : tanjun.schedules.AbstractSchedule</span>
<span class="sd">            The schedule to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component itself for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="c1"># TODO: upgrade this to the standard interface</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">)</span>
            <span class="n">schedule</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a schedule to the component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>schedule</strong> (<a href="tanjun/schedules.html#AbstractSchedule">tanjun.schedules.AbstractSchedule</a>):
The schedule to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component itself for chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Component.remove_schedule" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.remove_schedule">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_schedule</span><span class="signature">(
    self: ~_ComponentT,
    schedule: <a href="tanjun/schedules.html#AbstractSchedule">tanjun.schedules.AbstractSchedule</a>,
    /
) -&gt; ~_ComponentT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ComponentT</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">schedules</span><span class="o">.</span><span class="n">AbstractSchedule</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ComponentT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a schedule from the component.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        schedule : tanjun.schedules.AbstractSchedule</span>
<span class="sd">            The schedule to remove</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The component itself for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the schedule isn&#39;t registered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
            <span class="n">schedule</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a schedule from the component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>schedule</strong> (<a href="tanjun/schedules.html#AbstractSchedule">tanjun.schedules.AbstractSchedule</a>):
The schedule to remove</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The component itself for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the schedule isn't registered.</li>
</ul>
</div>


                            </div>
                            <div id="Component.with_schedule" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.with_schedule">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_schedule</span><span class="signature">(self, schedule: ~_ScheduleT, /) -&gt; ~_ScheduleT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">_ScheduleT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ScheduleT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a schedule to the component through a decorator call.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        This may be used in conjunction with `tanjun.as_interval`.</span>

<span class="sd">        ```py</span>
<span class="sd">        @component.with_schedule</span>
<span class="sd">        @tanjun.as_interval(60)</span>
<span class="sd">        async def my_schedule():</span>
<span class="sd">            print(&quot;I&#39;m running every minute!&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        schedule : schedules.AbstractSchedule</span>
<span class="sd">            The schedule to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        schedules.AbstractSchedule</span>
<span class="sd">            The added schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_schedule</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">schedule</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a schedule to the component through a decorator call.</p>

<h6 id="example">Example</h6>

<p>This may be used in conjunction with <code><a href="#as_interval">tanjun.as_interval</a></code>.</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@component</span><span class="o">.</span><span class="n">with_schedule</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_interval</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">my_schedule</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m running every minute!&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>schedule</strong> (schedules.AbstractSchedule):
The schedule to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>schedules.AbstractSchedule</strong>: The added schedule.</li>
</ul>
</div>


                            </div>
                            <div id="Component.close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.close">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">close</span><span class="signature">(self, *, unbind: bool = False) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">unbind</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Component isn&#39;t active&quot;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

        <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
                <span class="n">schedule</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># TODO: upgrade this to the standard interface</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">BasicInjectionContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">))</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_close</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">unbind</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unbind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Close the component.</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>unbind</strong> (bool):
Whether to unbind from the client after this is closed.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the component isn't running.</li>
</ul>
</div>


                            </div>
                            <div id="Component.open" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.open">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">open</span><span class="signature">(self) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Component&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Component is already active&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Client isn&#39;t bound yet&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
        <span class="c1"># TODO: upgrade this to the standard interface</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">BasicInjectionContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">))</span> <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_open</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span><span class="p">:</span>
            <span class="n">schedule</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_loop</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start the component.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the component is already open.
If the component isn't bound to a client.</li>
</ul>
</div>


                            </div>
                            <div id="Component.make_loader" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Component.make_loader">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">make_loader</span><span class="signature">(self, *, copy: bool = True) -&gt; <a href="tanjun/abc.html#ClientLoader">tanjun.abc.ClientLoader</a></span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">make_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientLoader</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Make a loader/unloader for this component.</span>

<span class="sd">        This enables loading, unloading and reloading of this component into a</span>
<span class="sd">        client by targeting the module using `tanjun.Client.load_modules`,</span>
<span class="sd">        `tanjun.Client.unload_modules` and `tanjun.Client.reload_modules`.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        copy: bool</span>
<span class="sd">            Whether to copy the component before loading it into a client.</span>

<span class="sd">            Defaults to `True`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.ClientLoader</span>
<span class="sd">            The loader for this component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_ComponentManager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Make a loader/unloader for this component.</p>

<p>This enables loading, unloading and reloading of this component into a
client by targeting the module using <code><a href="#Client.load_modules">tanjun.Client.load_modules</a></code>,
<code><a href="#Client.unload_modules">tanjun.Client.unload_modules</a></code> and <code><a href="#Client.reload_modules">tanjun.Client.reload_modules</a></code>.</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>copy</strong> (bool):
Whether to copy the component before loading it into a client.</p>

<p>Defaults to <code>True</code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/abc.html#ClientLoader">tanjun.abc.ClientLoader</a></strong>: The loader for this component.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="ConversionError">
                                <div class="attr class">
        <a class="headerlink" href="#ConversionError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ConversionError</span><wbr>(<span class="base"><a href="#ParserError">tanjun.ParserError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ConversionError</span><span class="p">(</span><span class="n">ParserError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised by a parser parameter when it failed to converter a value.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;errors&quot;</span><span class="p">,)</span>

    <span class="n">errors</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="ne">ValueError</span><span class="p">]</span>
    <span class="sd">&quot;&quot;&quot;Sequence of the errors that were caught during conversion for this parameter.&quot;&quot;&quot;</span>

    <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;Name of the parameter this error was raised for.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">errors</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="ne">ValueError</span><span class="p">]</span> <span class="o">=</span> <span class="p">())</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a conversion error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parameter : tanjun.abc.Parameter</span>
<span class="sd">            The parameter this was raised by.</span>
<span class="sd">        errors : collections.abc.Iterable[ValueError]</span>
<span class="sd">            An iterable of the source value errors which were raised during conversion.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised by a parser parameter when it failed to converter a value.</p>
</div>


                            <div id="ConversionError.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ConversionError.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ConversionError</span><span class="signature">(
    message: str,
    parameter: str,
    /,
    errors: collections.abc.Iterable[ValueError] = ()
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">errors</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="ne">ValueError</span><span class="p">]</span> <span class="o">=</span> <span class="p">())</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a conversion error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parameter : tanjun.abc.Parameter</span>
<span class="sd">            The parameter this was raised by.</span>
<span class="sd">        errors : collections.abc.Iterable[ValueError]</span>
<span class="sd">            An iterable of the source value errors which were raised during conversion.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a conversion error.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>parameter</strong> (<a href="tanjun/abc.html#Parameter">tanjun.abc.Parameter</a>):
The parameter this was raised by.</li>
<li><strong>errors</strong> (collections.abc.Iterable[ValueError]):
An iterable of the source value errors which were raised during conversion.</li>
</ul>
</div>


                            </div>
                            <div id="ConversionError.errors" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ConversionError.errors">#&nbsp;&nbsp</a>

        <span class="name">errors</span><span class="annotation">: collections.abc.Sequence[ValueError]</span>
    </div>

    
            <div class="docstring"><p>Sequence of the errors that were caught during conversion for this parameter.</p>
</div>


                            </div>
                            <div id="ConversionError.parameter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ConversionError.parameter">#&nbsp;&nbsp</a>

        <span class="name">parameter</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>Name of the parameter this error was raised for.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ParserError">ParserError</a></dt>
                                <dd id="ConversionError.message" class="variable"><a href="#ParserError.message">message</a></dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="ConversionError.with_traceback" class="function">with_traceback</dd>
                <dd id="ConversionError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="FailedCheck">
                                <div class="attr class">
        <a class="headerlink" href="#FailedCheck">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">FailedCheck</span><wbr>(<span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>, <span class="base">builtins.RuntimeError</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">FailedCheck</span><span class="p">(</span><span class="n">TanjunError</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">):</span>  <span class="c1"># TODO: FailedCheckError</span>
    <span class="sd">&quot;&quot;&quot;Error raised as an alternative to returning `False` in a check.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised as an alternative to returning <code>False</code> in a check.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.RuntimeError</dt>
                                <dd id="FailedCheck.__init__" class="function">RuntimeError</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="FailedCheck.with_traceback" class="function">with_traceback</dd>
                <dd id="FailedCheck.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="FailedModuleLoad">
                                <div class="attr class">
        <a class="headerlink" href="#FailedModuleLoad">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">FailedModuleLoad</span><wbr>(<span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">FailedModuleLoad</span><span class="p">(</span><span class="n">TanjunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised when a module fails to load.</span>

<span class="sd">    This may be raised by the module failing to import or by one of</span>
<span class="sd">    its loaders erroring.</span>

<span class="sd">    This source error can be accessed at `FailedLoad.__cause__`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="n">__cause__</span><span class="p">:</span> <span class="ne">Exception</span>
    <span class="sd">&quot;&quot;&quot;The root error.&quot;&quot;&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised when a module fails to load.</p>

<p>This may be raised by the module failing to import or by one of
its loaders erroring.</p>

<p>This source error can be accessed at <code>FailedLoad.__cause__</code>.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="FailedModuleLoad.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="FailedModuleLoad.with_traceback" class="function">with_traceback</dd>
                <dd id="FailedModuleLoad.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="FailedModuleUnload">
                                <div class="attr class">
        <a class="headerlink" href="#FailedModuleUnload">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">FailedModuleUnload</span><wbr>(<span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">FailedModuleUnload</span><span class="p">(</span><span class="n">TanjunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised when a module fails to unload.</span>

<span class="sd">    This may be raised by the module failing to import or by one</span>
<span class="sd">    of its unloaders erroring.</span>

<span class="sd">    The source error can be accessed at `FailedUnload.__cause__`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="n">__cause__</span><span class="p">:</span> <span class="ne">Exception</span>
    <span class="sd">&quot;&quot;&quot;The root error.&quot;&quot;&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised when a module fails to unload.</p>

<p>This may be raised by the module failing to import or by one
of its unloaders erroring.</p>

<p>The source error can be accessed at <code>FailedUnload.__cause__</code>.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="FailedModuleUnload.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="FailedModuleUnload.with_traceback" class="function">with_traceback</dd>
                <dd id="FailedModuleUnload.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="HaltExecution">
                                <div class="attr class">
        <a class="headerlink" href="#HaltExecution">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">HaltExecution</span><wbr>(<span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">HaltExecution</span><span class="p">(</span><span class="n">TanjunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised while looking for a command in-order to end-execution early.</span>

<span class="sd">    For the most part, this will be raised during checks in-order to prevent</span>
<span class="sd">    other commands from being tried.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised while looking for a command in-order to end-execution early.</p>

<p>For the most part, this will be raised during checks in-order to prevent
other commands from being tried.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="HaltExecution.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="HaltExecution.with_traceback" class="function">with_traceback</dd>
                <dd id="HaltExecution.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Hooks">
                                <div class="attr class">
        <a class="headerlink" href="#Hooks">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Hooks</span><wbr>(<span class="base"><a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks[-ContextT_contra]</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Hooks</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Standard implementation of `tanjun.abc.Hooks` used for command execution.</span>

<span class="sd">    `tanjun.abc.ContextT_contra` will either be `tanjun.abc.Context`,</span>
<span class="sd">    `tanjun.abc.MessageContext` or `tanjun.abc.SlashContext`.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This implementation adds a concept of parser errors which won&#39;t be</span>
<span class="sd">        dispatched to general &quot;error&quot; hooks and do not share the error</span>
<span class="sd">        suppression semantics as they favour to always suppress the error</span>
<span class="sd">        if a registered handler is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;_error_callbacks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_parser_error_callbacks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_pre_execution_callbacks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_post_execution_callbacks&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_success_callbacks&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a command hook object.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">add_to_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add this hook object to a command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will likely override any previously added hooks.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        This method may be used as a command decorator:</span>

<span class="sd">        ```py</span>
<span class="sd">        @standard_hooks.add_to_command</span>
<span class="sd">        @as_message_command(&quot;command&quot;)</span>
<span class="sd">        async def command_command(ctx: tanjun.abc.Context) -&gt; None:</span>
<span class="sd">            await ctx.respond(&quot;You&#39;ve called a command!&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.ExecutableCommand[typing.Any]</span>
<span class="sd">            The command to add the hooks to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.ExecutableCommand[typing.Any]</span>
<span class="sd">            The command with the hooks added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">set_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Copy this hook object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># TODO: maybe don&#39;t</span>

    <span class="k">def</span> <span class="nf">add_on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the error callback for this hook object.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will not be called for `tanjun.errors.ParserError`s as these</span>
<span class="sd">            are generally speaking expected. To handle those see</span>
<span class="sd">            `Hooks.set_on_parser_error`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.ErrorHookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take two positional arguments (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra` and `Exception`) and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">            Returning `True` indicates that the error should be suppressed,</span>
<span class="sd">            `False` that it should be re-raised and `None` that no decision</span>
<span class="sd">            has been made. This will be accounted for along with the decisions</span>
<span class="sd">            other error hooks make by majority rule.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_on_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>

    <span class="k">def</span> <span class="nf">add_on_parser_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_on_parser_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the parser error callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.HookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take two positional arguments (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra` and `tanjun.errors.ParserError`),</span>
<span class="sd">            return `None` and may be either synchronous or asynchronous.</span>

<span class="sd">            It&#39;s worth noting that, unlike general error handlers, this will</span>
<span class="sd">            always suppress the error.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_on_parser_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_on_parser_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_parser_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>

    <span class="k">def</span> <span class="nf">add_post_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_post_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the post-execution callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.HookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take one positional argument (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra`), return `None` and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_post_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_post_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_post_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>

    <span class="k">def</span> <span class="nf">add_pre_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_pre_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the pre-execution callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.HookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take one positional argument (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra`), return `None` and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_pre_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_pre_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_pre_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>

    <span class="k">def</span> <span class="nf">add_on_success</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_on_success</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the success callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : HookSig[tanjun.abc.HookSig] | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take one positional argument (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra`), return `None` and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_on_success</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_on_success</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_success</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_error</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">exception</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="n">level</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exception</span><span class="p">,</span> <span class="n">errors</span><span class="o">.</span><span class="n">ParserError</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                    <span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">level</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># We don&#39;t want to re-raise a parser error if it was caught</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                <span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">level</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="o">-</span> <span class="n">results</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="n">level</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">)))</span>

        <span class="k">return</span> <span class="n">level</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_post_execution</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">))</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_pre_execution</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">))</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_success</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Standard implementation of <code><a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a></code> used for command execution.</p>

<p><code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code> will either be <code><a href="tanjun/abc.html#Context">tanjun.abc.Context</a></code>,
<code><a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a></code> or <code><a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a></code>.</p>

<p><em>Note:</em>
This implementation adds a concept of parser errors which won't be
dispatched to general "error" hooks and do not share the error
suppression semantics as they favour to always suppress the error
if a registered handler is found.</p>
</div>


                            <div id="Hooks.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Hooks</span><span class="signature">()</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a command hook object.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a command hook object.</p>
</div>


                            </div>
                            <div id="Hooks.add_to_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.add_to_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_to_command</span><span class="signature">(self, command: ~CommandT, /) -&gt; ~CommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_to_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add this hook object to a command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will likely override any previously added hooks.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        This method may be used as a command decorator:</span>

<span class="sd">        ```py</span>
<span class="sd">        @standard_hooks.add_to_command</span>
<span class="sd">        @as_message_command(&quot;command&quot;)</span>
<span class="sd">        async def command_command(ctx: tanjun.abc.Context) -&gt; None:</span>
<span class="sd">            await ctx.respond(&quot;You&#39;ve called a command!&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.ExecutableCommand[typing.Any]</span>
<span class="sd">            The command to add the hooks to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.ExecutableCommand[typing.Any]</span>
<span class="sd">            The command with the hooks added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">set_hooks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add this hook object to a command.</p>

<p><em>Note:</em>
This will likely override any previously added hooks.</p>

<h6 id="examples">Examples</h6>

<p>This method may be used as a command decorator:</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@standard_hooks</span><span class="o">.</span><span class="n">add_to_command</span>
<span class="nd">@as_message_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command_command</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s2">&quot;You&#39;ve called a command!&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[typing.Any]):
The command to add the hooks to.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[typing.Any]</strong>: The command with the hooks added.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(self: ~_HooksT) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Copy this hook object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># TODO: maybe don&#39;t</span>
</pre></div>

        </details>

            <div class="docstring"><p>Copy this hook object.</p>
</div>


                            </div>
                            <div id="Hooks.add_on_error" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.add_on_error">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_on_error</span><span class="signature">(
    self: ~_HooksT,
    callback: collections.abc.Callable[..., typing.Union[bool, NoneType, collections.abc.Awaitable[typing.Optional[bool]]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an error callback to this hook object.</p>

<p><em>Note:</em>
This won't be called for expected <code><a href="#TanjunError">tanjun.TanjunError</a></code> derived errors.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (ErrorHookSig):
The callback to add to this hook.</p>

<p>This callback should take two positional arguments (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code> and <code>Exception</code>) and may be either
synchronous or asynchronous.</p>

<p>Returning <code>True</code> indicates that the error should be suppressed,
<code>False</code> that it should be re-raised and <code>None</code> that no decision has
been made. This will be accounted for along with the decisions
other error hooks make by majority rule.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.set_on_error" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.set_on_error">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_on_error</span><span class="signature">(
    self: ~_HooksT,
    callback: Optional[collections.abc.Callable[..., Union[bool, NoneType, collections.abc.Awaitable[Optional[bool]]]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the error callback for this hook object.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will not be called for `tanjun.errors.ParserError`s as these</span>
<span class="sd">            are generally speaking expected. To handle those see</span>
<span class="sd">            `Hooks.set_on_parser_error`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.ErrorHookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take two positional arguments (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra` and `Exception`) and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">            Returning `True` indicates that the error should be suppressed,</span>
<span class="sd">            `False` that it should be re-raised and `None` that no decision</span>
<span class="sd">            has been made. This will be accounted for along with the decisions</span>
<span class="sd">            other error hooks make by majority rule.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_on_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the error callback for this hook object.</p>

<p><em>Note:</em>
This will not be called for <code><a href="tanjun/errors.html#ParserError">tanjun.errors.ParserError</a></code>s as these
are generally speaking expected. To handle those see
<code><a href="#Hooks.set_on_parser_error">Hooks.set_on_parser_error</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (<a href="tanjun/abc.html#ErrorHookSig">tanjun.abc.ErrorHookSig</a> | None):
The callback to set for this hook. This will remove any previously
set callbacks.</p>

<p>This callback should take two positional arguments (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code> and <code>Exception</code>) and may be either
synchronous or asynchronous.</p>

<p>Returning <code>True</code> indicates that the error should be suppressed,
<code>False</code> that it should be re-raised and <code>None</code> that no decision
has been made. This will be accounted for along with the decisions
other error hooks make by majority rule.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.with_on_error" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.with_on_error">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_on_error</span><span class="signature">(self, callback: ~ErrorHookSigT, /) -&gt; ~ErrorHookSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">ErrorHookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an error callback to this hook object through a decorator call.</p>

<p><em>Note:</em>
This won't be called for expected <code><a href="#TanjunError">tanjun.TanjunError</a></code> derived errors.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">hooks</span> <span class="o">=</span> <span class="n">AnyHooks</span><span class="p">()</span>

<span class="nd">@hooks</span><span class="o">.</span><span class="n">with_on_error</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">SomeExpectedType</span><span class="p">):</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s2">&quot;You dun goofed&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Indicating that it should be suppressed.</span>

    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Indicating that it should be re-raised</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (ErrorHookSigT):
The callback to add to this hook.</p>

<p>This callback should take two positional arguments (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code> and <code>Exception</code>) and may be either
synchronous or asynchronous.</p>

<p>Returning <code>True</code> indicates that the error shoul be suppressed,
<code>False</code> that it should be re-raised and <code>None</code> that no decision
has been made. This will be accounted for along with the decisions
other error hooks make by majority rule.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>ErrorHookSigT</strong>: The hook callback which was added.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.add_on_parser_error" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.add_on_parser_error">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_on_parser_error</span><span class="signature">(
    self: ~_HooksT,
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_on_parser_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a parser error callback to this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSig):
The callback to add to this hook.</p>

<p>This callback should take two positional arguments (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code> and <code><a href="tanjun/errors.html#ParserError">tanjun.errors.ParserError</a></code>),
return <code>None</code> and may be either synchronous or asynchronous.</p>

<p>It's worth noting that this unlike general error handlers, this will
always suppress the error.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.set_on_parser_error" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.set_on_parser_error">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_on_parser_error</span><span class="signature">(
    self: ~_HooksT,
    callback: Optional[collections.abc.Callable[..., Optional[collections.abc.Awaitable[NoneType]]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_on_parser_error</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the parser error callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.HookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take two positional arguments (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra` and `tanjun.errors.ParserError`),</span>
<span class="sd">            return `None` and may be either synchronous or asynchronous.</span>

<span class="sd">            It&#39;s worth noting that, unlike general error handlers, this will</span>
<span class="sd">            always suppress the error.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_on_parser_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the parser error callback for this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (<a href="tanjun/abc.html#HookSig">tanjun.abc.HookSig</a> | None):
The callback to set for this hook. This will remove any previously
set callbacks.</p>

<p>This callback should take two positional arguments (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code> and <code><a href="tanjun/errors.html#ParserError">tanjun.errors.ParserError</a></code>),
return <code>None</code> and may be either synchronous or asynchronous.</p>

<p>It's worth noting that, unlike general error handlers, this will
always suppress the error.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.with_on_parser_error" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.with_on_parser_error">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_on_parser_error</span><span class="signature">(self, callback: ~HookSigT, /) -&gt; ~HookSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_on_parser_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_parser_error</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a parser error callback to this hook object through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">hooks</span> <span class="o">=</span> <span class="n">AnyHooks</span><span class="p">()</span>

<span class="nd">@hooks</span><span class="o">.</span><span class="n">with_on_parser_error</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_parser_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">ParserError</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You gave invalid input: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSigT):
The parser error callback to add to this hook.</p>

<p>This callback should take two positional arguments (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code> and <code><a href="tanjun/errors.html#ParserError">tanjun.errors.ParserError</a></code>),
return <code>None</code> and may be either synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>HookSigT</strong>: The callback which was added.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.add_post_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.add_post_execution">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_post_execution</span><span class="signature">(
    self: ~_HooksT,
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_post_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a post-execution callback to this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSig):
The callback to add to this hook.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.set_post_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.set_post_execution">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_post_execution</span><span class="signature">(
    self: ~_HooksT,
    callback: Optional[collections.abc.Callable[..., Optional[collections.abc.Awaitable[NoneType]]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_post_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the post-execution callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.HookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take one positional argument (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra`), return `None` and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_post_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the post-execution callback for this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (<a href="tanjun/abc.html#HookSig">tanjun.abc.HookSig</a> | None):
The callback to set for this hook. This will remove any previously
set callbacks.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.with_post_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.with_post_execution">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_post_execution</span><span class="signature">(self, callback: ~HookSigT, /) -&gt; ~HookSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_post_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_post_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a post-execution callback to this hook object through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">hooks</span> <span class="o">=</span> <span class="n">AnyHooks</span><span class="p">()</span>

<span class="nd">@hooks</span><span class="o">.</span><span class="n">with_post_execution</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s2">&quot;You did something&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSigT):
The post-execution callback to add to this hook.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>HookSigT</strong>: The post-execution callback which was seaddedt.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.add_pre_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.add_pre_execution">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_pre_execution</span><span class="signature">(
    self: ~_HooksT,
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_pre_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a pre-execution callback for this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSig):
The callback to add to this hook.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.set_pre_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.set_pre_execution">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_pre_execution</span><span class="signature">(
    self: ~_HooksT,
    callback: Optional[collections.abc.Callable[..., Optional[collections.abc.Awaitable[NoneType]]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_pre_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the pre-execution callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : tanjun.abc.HookSig | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take one positional argument (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra`), return `None` and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_pre_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the pre-execution callback for this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (<a href="tanjun/abc.html#HookSig">tanjun.abc.HookSig</a> | None):
The callback to set for this hook. This will remove any previously
set callbacks.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.with_pre_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.with_pre_execution">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_pre_execution</span><span class="signature">(self, callback: ~HookSigT, /) -&gt; ~HookSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_pre_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_pre_execution</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a pre-execution callback to this hook object through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">hooks</span> <span class="o">=</span> <span class="n">AnyHooks</span><span class="p">()</span>

<span class="nd">@hooks</span><span class="o">.</span><span class="n">with_pre_execution</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s2">&quot;You did something&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSigT):
The pre-execution callback to add to this hook.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>HookSigT</strong>: The pre-execution callback which was added.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.add_on_success" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.add_on_success">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_on_success</span><span class="signature">(
    self: ~_HooksT,
    callback: collections.abc.Callable[..., typing.Optional[collections.abc.Awaitable[NoneType]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_on_success</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a success callback to this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSig):
The callback to add to this hook.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.set_on_success" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.set_on_success">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_on_success</span><span class="signature">(
    self: ~_HooksT,
    callback: Optional[collections.abc.Callable[..., Optional[collections.abc.Awaitable[NoneType]]]],
    /
) -&gt; ~_HooksT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_on_success</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_HooksT</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">HookSig</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_HooksT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the success callback for this hook object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : HookSig[tanjun.abc.HookSig] | None</span>
<span class="sd">            The callback to set for this hook. This will remove any previously</span>
<span class="sd">            set callbacks.</span>

<span class="sd">            This callback should take one positional argument (of type</span>
<span class="sd">            `tanjun.abc.ContextT_contra`), return `None` and may be either</span>
<span class="sd">            synchronous or asynchronous.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The hook object to enable method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_on_success</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the success callback for this hook object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSig[<a href="tanjun/abc.html#HookSig">tanjun.abc.HookSig</a>] | None):
The callback to set for this hook. This will remove any previously
set callbacks.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The hook object to enable method chaining.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.with_on_success" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.with_on_success">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_on_success</span><span class="signature">(self, callback: ~HookSigT, /) -&gt; ~HookSigT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_on_success</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">HookSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_on_success</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">callback</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a success callback to this hook object through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">hooks</span> <span class="o">=</span> <span class="n">AnyHooks</span><span class="p">()</span>

<span class="nd">@hooks</span><span class="o">.</span><span class="n">with_on_success</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s2">&quot;You did something&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (HookSigT):
The success callback to add to this hook.</p>

<p>This callback should take one positional argument (of type
<code><a href="tanjun/abc.html#ContextT_contra">tanjun.abc.ContextT_contra</a></code>), return <code>None</code> and may be either
synchronous or asynchronous.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>HookSigT</strong>: The success callback which was added.</li>
</ul>
</div>


                            </div>
                            <div id="Hooks.trigger_error" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.trigger_error">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">trigger_error</span><span class="signature">(
    self,
    ctx: -ContextT_contra,
    /,
    exception: Exception,
    *,
    hooks: Optional[collections.abc.Set[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[-ContextT_contra]]] = None
) -&gt; int</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_error</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">exception</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="n">level</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exception</span><span class="p">,</span> <span class="n">errors</span><span class="o">.</span><span class="n">ParserError</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                    <span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser_error_callbacks</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">level</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># We don&#39;t want to re-raise a parser error if it was caught</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                <span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_callbacks</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">level</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="o">-</span> <span class="n">results</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="n">level</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">)))</span>

        <span class="k">return</span> <span class="n">level</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Hooks.trigger_post_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.trigger_post_execution">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">trigger_post_execution</span><span class="signature">(
    self,
    ctx: -ContextT_contra,
    /,
    *,
    hooks: Optional[collections.abc.Set[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[-ContextT_contra]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_post_execution</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_execution_callbacks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Hooks.trigger_pre_execution" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.trigger_pre_execution">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">trigger_pre_execution</span><span class="signature">(
    self,
    ctx: -ContextT_contra,
    /,
    *,
    hooks: Optional[collections.abc.Set[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[-ContextT_contra]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_pre_execution</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_execution_callbacks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Hooks.trigger_success" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Hooks.trigger_success">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">trigger_success</span><span class="signature">(
    self,
    ctx: -ContextT_contra,
    /,
    *,
    hooks: Optional[collections.abc.Set[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[-ContextT_contra]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">trigger_success</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Hooks</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ContextT_contra</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.Hooks&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_success_callbacks</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">hooks</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">hook</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">))</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="InMemoryConcurrencyLimiter">
                                <div class="attr class">
        <a class="headerlink" href="#InMemoryConcurrencyLimiter">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">InMemoryConcurrencyLimiter</span><wbr>(<span class="base"><a href="tanjun/dependencies/limiters.html#AbstractConcurrencyLimiter">tanjun.dependencies.limiters.AbstractConcurrencyLimiter</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">InMemoryConcurrencyLimiter</span><span class="p">(</span><span class="n">AbstractConcurrencyLimiter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;In-memory standard implementation of `AbstractConcurrencyLimiter`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    `InMemoryConcurrencyLimiter.set_bucket` may be used to set the concurrency</span>
<span class="sd">    limits for a specific bucket:</span>

<span class="sd">    ```py</span>
<span class="sd">    (</span>
<span class="sd">        InMemoryConcurrencyLimiter()</span>
<span class="sd">        # Set the default bucket template to 10 concurrent uses of the command per-user.</span>
<span class="sd">        .set_bucket(&quot;default&quot;, tanjun.BucketResource.USER, 10)</span>
<span class="sd">        # Set the &quot;moderation&quot; bucket with a limit of 5 concurrent uses per-guild.</span>
<span class="sd">        .set_bucket(&quot;moderation&quot;, tanjun.BucketResource.GUILD, 5)</span>
<span class="sd">        .set_bucket()</span>
<span class="sd">        # add_to_client will setup the concurrency manager (setting it as an</span>
<span class="sd">        # injected dependency and registering callbacks to manage it).</span>
<span class="sd">        .add_to_client(client)</span>
<span class="sd">    )</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_acquiring_ctxs&quot;</span><span class="p">,</span> <span class="s2">&quot;_buckets&quot;</span><span class="p">,</span> <span class="s2">&quot;_default_bucket_template&quot;</span><span class="p">,</span> <span class="s2">&quot;_gc_task&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">],</span> <span class="n">_ConcurrencyLimit</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_ConcurrencyLimit</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span><span class="p">:</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_ConcurrencyLimit</span><span class="p">]</span> <span class="o">=</span> <span class="n">_FlatResource</span><span class="p">(</span>
            <span class="n">BucketResource</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_ConcurrencyLimit</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_gc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">bucket</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">add_to_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add this concurrency manager to a tanjun client.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This registers the manager as a type dependency and manages opening</span>
<span class="sd">            and closing the manager based on the client&#39;s life cycle.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        client : tanjun.abc.Client</span>
<span class="sd">            The client to add this concurrency manager to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">AbstractConcurrencyLimiter</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="c1"># TODO: the injection client should be upgraded to the abstract Client.</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">client</span><span class="o">.</span><span class="n">loop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">_loop</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">loop</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stop the concurrency manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the concurrency manager is not running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Concurrency manager is not active&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start the concurrency manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the concurrency manager is already running.</span>
<span class="sd">            If called in a thread with no running event loop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Concurrency manager is already running&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="p">(</span><span class="n">_loop</span> <span class="ow">or</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">())</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_gc</span><span class="p">())</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">try_acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractConcurrencyLimiter&gt;&gt;.</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">bucket</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No concurrency limit found for </span><span class="si">%r</span><span class="s2">, falling back to &#39;default&#39; bucket&quot;</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">)</span>
            <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># incrementing a bucket multiple times for the same context could lead</span>
        <span class="c1"># to weird edge cases based on how we internally track this, so we</span>
        <span class="c1"># internally de-duplicate this.</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># This won&#39;t ever be the case if it just had to make a new bucket, hence the elif.</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">:=</span> <span class="p">(</span><span class="n">limit</span> <span class="o">:=</span> <span class="k">await</span> <span class="n">bucket</span><span class="o">.</span><span class="n">into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">))</span><span class="o">.</span><span class="n">acquire</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="p">[(</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)]</span> <span class="o">=</span> <span class="n">limit</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">release</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractConcurrencyLimiter&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="o">.</span><span class="n">pop</span><span class="p">((</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">ctx</span><span class="p">),</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">limit</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">disable_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Disable a concurrency limit bucket.</span>

<span class="sd">        This will stop the bucket from ever hitting a concurrency limit</span>
<span class="sd">        and also prevents the bucket from defaulting.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The bucket to disable.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This concurrency manager to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_GlobalResource</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">_ConcurrencyLimit</span><span class="p">(</span><span class="n">limit</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_bucket</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">BucketResource</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the concurrency limit for a specific bucket.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The ID of the bucket to set the concurrency limit for.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>
<span class="sd">        resource : tanjun.BucketResource</span>
<span class="sd">            The type of resource to target for the concurrency limit.</span>
<span class="sd">        limit : int</span>
<span class="sd">            The maximum number of concurrent uses to allow.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The concurrency manager to allow call chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If an invalid resource type is given.</span>
<span class="sd">            if limit is less 0 or negative.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;limit must be greater than 0&quot;</span><span class="p">)</span>

        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_to_bucket</span><span class="p">(</span><span class="n">BucketResource</span><span class="p">(</span><span class="n">resource</span><span class="p">),</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_ConcurrencyLimit</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>In-memory standard implementation of <code>AbstractConcurrencyLimiter</code>.</p>

<h6 id="examples">Examples</h6>

<p><code><a href="#InMemoryConcurrencyLimiter.set_bucket">InMemoryConcurrencyLimiter.set_bucket</a></code> may be used to set the concurrency
limits for a specific bucket:</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="p">(</span>
    <span class="n">InMemoryConcurrencyLimiter</span><span class="p">()</span>
    <span class="c1"># Set the default bucket template to 10 concurrent uses of the command per-user.</span>
    <span class="o">.</span><span class="n">set_bucket</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">BucketResource</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="c1"># Set the &quot;moderation&quot; bucket with a limit of 5 concurrent uses per-guild.</span>
    <span class="o">.</span><span class="n">set_bucket</span><span class="p">(</span><span class="s2">&quot;moderation&quot;</span><span class="p">,</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">BucketResource</span><span class="o">.</span><span class="n">GUILD</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="o">.</span><span class="n">set_bucket</span><span class="p">()</span>
    <span class="c1"># add_to_client will setup the concurrency manager (setting it as an</span>
    <span class="c1"># injected dependency and registering callbacks to manage it).</span>
    <span class="o">.</span><span class="n">add_to_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</div>


                            <div id="InMemoryConcurrencyLimiter.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">InMemoryConcurrencyLimiter</span><span class="signature">()</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">],</span> <span class="n">_ConcurrencyLimit</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_ConcurrencyLimit</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span><span class="p">:</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_ConcurrencyLimit</span><span class="p">]</span> <span class="o">=</span> <span class="n">_FlatResource</span><span class="p">(</span>
            <span class="n">BucketResource</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_ConcurrencyLimit</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="InMemoryConcurrencyLimiter.add_to_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.add_to_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_to_client</span><span class="signature">(self, client: <a href="tanjun/injecting.html#InjectorClient">tanjun.injecting.InjectorClient</a>, /) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_to_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add this concurrency manager to a tanjun client.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This registers the manager as a type dependency and manages opening</span>
<span class="sd">            and closing the manager based on the client&#39;s life cycle.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        client : tanjun.abc.Client</span>
<span class="sd">            The client to add this concurrency manager to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">AbstractConcurrencyLimiter</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="c1"># TODO: the injection client should be upgraded to the abstract Client.</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">client</span><span class="o">.</span><span class="n">loop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">_loop</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">loop</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add this concurrency manager to a tanjun client.</p>

<p><em>Note:</em>
This registers the manager as a type dependency and manages opening
and closing the manager based on the client's life cycle.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>client</strong> (<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>):
The client to add this concurrency manager to.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryConcurrencyLimiter.close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.close">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">close</span><span class="signature">(self) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stop the concurrency manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the concurrency manager is not running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Concurrency manager is not active&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Stop the concurrency manager.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the concurrency manager is not running.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryConcurrencyLimiter.open" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.open">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">open</span><span class="signature">(
    self,
    *,
    _loop: Optional[asyncio.events.AbstractEventLoop] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start the concurrency manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the concurrency manager is already running.</span>
<span class="sd">            If called in a thread with no running event loop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Concurrency manager is already running&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="p">(</span><span class="n">_loop</span> <span class="ow">or</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">())</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_gc</span><span class="p">())</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start the concurrency manager.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the concurrency manager is already running.
If called in a thread with no running event loop.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryConcurrencyLimiter.try_acquire" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.try_acquire">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">try_acquire</span><span class="signature">(self, bucket_id: str, ctx: <a href="tanjun/abc.html#Context">tanjun.abc.Context</a>, /) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">try_acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractConcurrencyLimiter&gt;&gt;.</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">bucket</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No concurrency limit found for </span><span class="si">%r</span><span class="s2">, falling back to &#39;default&#39; bucket&quot;</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">)</span>
            <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># incrementing a bucket multiple times for the same context could lead</span>
        <span class="c1"># to weird edge cases based on how we internally track this, so we</span>
        <span class="c1"># internally de-duplicate this.</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># This won&#39;t ever be the case if it just had to make a new bucket, hence the elif.</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">:=</span> <span class="p">(</span><span class="n">limit</span> <span class="o">:=</span> <span class="k">await</span> <span class="n">bucket</span><span class="o">.</span><span class="n">into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">))</span><span class="o">.</span><span class="n">acquire</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="p">[(</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)]</span> <span class="o">=</span> <span class="n">limit</span>

        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Try to acquire a concurrency lock on a bucket.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bucket_id</strong> (str):
The concurrency bucket to acquire.</li>
<li><strong>ctx</strong> (<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>):
The context to acquire this resource lock with.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bool</strong>: Whether the lock was acquired.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryConcurrencyLimiter.release" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.release">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">release</span><span class="signature">(self, bucket_id: str, ctx: <a href="tanjun/abc.html#Context">tanjun.abc.Context</a>, /) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">release</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractConcurrencyLimiter&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquiring_ctxs</span><span class="o">.</span><span class="n">pop</span><span class="p">((</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">ctx</span><span class="p">),</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">limit</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Release a concurrency lock on a bucket.</p>
</div>


                            </div>
                            <div id="InMemoryConcurrencyLimiter.disable_bucket" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.disable_bucket">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">disable_bucket</span><span class="signature">(
    self: ~_InMemoryConcurrencyLimiterT,
    bucket_id: str,
    /
) -&gt; ~_InMemoryConcurrencyLimiterT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">disable_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Disable a concurrency limit bucket.</span>

<span class="sd">        This will stop the bucket from ever hitting a concurrency limit</span>
<span class="sd">        and also prevents the bucket from defaulting.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The bucket to disable.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This concurrency manager to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_GlobalResource</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">_ConcurrencyLimit</span><span class="p">(</span><span class="n">limit</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Disable a concurrency limit bucket.</p>

<p>This will stop the bucket from ever hitting a concurrency limit
and also prevents the bucket from defaulting.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>bucket_id</strong> (str):
The bucket to disable.</p>

<p><em>Note:</em>
"default" is a special bucket which is used as a template
for unknown bucket IDs.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This concurrency manager to allow for chaining.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryConcurrencyLimiter.set_bucket" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryConcurrencyLimiter.set_bucket">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_bucket</span><span class="signature">(
    self: ~_InMemoryConcurrencyLimiterT,
    bucket_id: str,
    resource: <a href="tanjun/dependencies/limiters.html#BucketResource">tanjun.dependencies.limiters.BucketResource</a>,
    limit: int,
    /
) -&gt; ~_InMemoryConcurrencyLimiterT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_bucket</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">BucketResource</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryConcurrencyLimiterT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the concurrency limit for a specific bucket.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The ID of the bucket to set the concurrency limit for.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>
<span class="sd">        resource : tanjun.BucketResource</span>
<span class="sd">            The type of resource to target for the concurrency limit.</span>
<span class="sd">        limit : int</span>
<span class="sd">            The maximum number of concurrent uses to allow.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The concurrency manager to allow call chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If an invalid resource type is given.</span>
<span class="sd">            if limit is less 0 or negative.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;limit must be greater than 0&quot;</span><span class="p">)</span>

        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_to_bucket</span><span class="p">(</span><span class="n">BucketResource</span><span class="p">(</span><span class="n">resource</span><span class="p">),</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_ConcurrencyLimit</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the concurrency limit for a specific bucket.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>bucket_id</strong> (str):
The ID of the bucket to set the concurrency limit for.</p>

<p><em>Note:</em>
"default" is a special bucket which is used as a template
for unknown bucket IDs.</p></li>
<li><strong>resource</strong> (<a href="#BucketResource">tanjun.BucketResource</a>):
The type of resource to target for the concurrency limit.</li>
<li><strong>limit</strong> (int):
The maximum number of concurrent uses to allow.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The concurrency manager to allow call chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If an invalid resource type is given.
if limit is less 0 or negative.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="InMemoryCooldownManager">
                                <div class="attr class">
        <a class="headerlink" href="#InMemoryCooldownManager">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">InMemoryCooldownManager</span><wbr>(<span class="base"><a href="tanjun/dependencies/limiters.html#AbstractCooldownManager">tanjun.dependencies.limiters.AbstractCooldownManager</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">InMemoryCooldownManager</span><span class="p">(</span><span class="n">AbstractCooldownManager</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;In-memory standard implementation of `AbstractCooldownManager`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    `InMemoryCooldownManager.set_bucket` may be used to set the cooldown for a</span>
<span class="sd">    specific bucket:</span>

<span class="sd">    ```py</span>
<span class="sd">    (</span>
<span class="sd">        InMemoryCooldownManager()</span>
<span class="sd">        # Set the default bucket template to a per-user 10 uses per-60 seconds cooldown.</span>
<span class="sd">        .set_bucket(&quot;default&quot;, tanjun.BucketResource.USER, 10, 60)</span>
<span class="sd">        # Set the &quot;moderation&quot; bucket to a per-guild 100 uses per-5 minutes cooldown.</span>
<span class="sd">        .set_bucket(&quot;moderation&quot;, tanjun.BucketResource.GUILD, 100, datetime.timedelta(minutes=5))</span>
<span class="sd">        .set_bucket()</span>
<span class="sd">        # add_to_client will setup the cooldown manager (setting it as an</span>
<span class="sd">        # injected dependency and registering callbacks to manage it).</span>
<span class="sd">        .add_to_client(client)</span>
<span class="sd">    )</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_buckets&quot;</span><span class="p">,</span> <span class="s2">&quot;_default_bucket_template&quot;</span><span class="p">,</span> <span class="s2">&quot;_gc_task&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_Cooldown</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span><span class="p">:</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_Cooldown</span><span class="p">]</span> <span class="o">=</span> <span class="n">_FlatResource</span><span class="p">(</span>
            <span class="n">BucketResource</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_Cooldown</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">reset_after</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_get_or_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_Cooldown</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">bucket</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">bucket</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No cooldown found for </span><span class="si">%r</span><span class="s2">, falling back to &#39;default&#39; bucket&quot;</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">)</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">bucket</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_gc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">bucket</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">add_to_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add this cooldown manager to a tanjun client.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This registers the manager as a type dependency and manages opening</span>
<span class="sd">            and closing the manager based on the client&#39;s life cycle.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        client : tanjun.abc.Client</span>
<span class="sd">            The client to add this cooldown manager to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">AbstractCooldownManager</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="c1"># TODO: the injection client should be upgraded to the abstract Client.</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">client</span><span class="o">.</span><span class="n">loop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">_loop</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">loop</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_cooldown</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">increment</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractCooldownManager&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">increment</span><span class="p">:</span>
            <span class="n">bucket</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_default</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">)</span><span class="o">.</span><span class="n">into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cooldown</span> <span class="o">:=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">must_wait_for</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">cooldown</span>

            <span class="n">bucket</span><span class="o">.</span><span class="n">increment</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">bucket</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cooldown</span> <span class="o">:=</span> <span class="k">await</span> <span class="n">bucket</span><span class="o">.</span><span class="n">try_into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">cooldown</span><span class="o">.</span><span class="n">must_wait_for</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">increment_cooldown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractCooldownManager&gt;&gt;.</span>
        <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_default</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">)</span><span class="o">.</span><span class="n">into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">))</span><span class="o">.</span><span class="n">increment</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stop the cooldown manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the cooldown manager is not running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Cooldown manager is not active&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start the cooldown manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the cooldown manager is already running.</span>
<span class="sd">            If called in a thread with no running event loop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Cooldown manager is already running&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="p">(</span><span class="n">_loop</span> <span class="ow">or</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">())</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_gc</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">disable_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Disable a cooldown bucket.</span>

<span class="sd">        This will stop the bucket from ever hitting a cooldown and also</span>
<span class="sd">        prevents the bucket from defaulting.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The bucket to disable.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This cooldown manager to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># A limit of -1 is special cased to mean no limit and reset_after is ignored in this scenario.</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_GlobalResource</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">_Cooldown</span><span class="p">(</span><span class="n">limit</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">reset_after</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_bucket</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">,</span>
        <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">resource</span><span class="p">:</span> <span class="n">BucketResource</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">reset_after</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the cooldown for a specific bucket.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The ID of the bucket to set the cooldown for.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>
<span class="sd">        resource : tanjun.BucketResource</span>
<span class="sd">            The type of resource to target for the cooldown.</span>
<span class="sd">        limit : int</span>
<span class="sd">            The number of uses per cooldown period.</span>
<span class="sd">        reset_after : int | float | datetime.timedelta</span>
<span class="sd">            The cooldown period.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The cooldown manager to allow call chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If an invalid resource type is given.</span>
<span class="sd">            If reset_after or limit are negative, 0 or invalid.</span>
<span class="sd">            if limit is less 0 or negative.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">reset_after</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">):</span>
            <span class="n">reset_after_seconds</span> <span class="o">=</span> <span class="n">reset_after</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">reset_after_seconds</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">reset_after</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">reset_after_seconds</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;reset_after must be greater than 0 seconds&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;limit must be greater than 0&quot;</span><span class="p">)</span>

        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_to_bucket</span><span class="p">(</span>
            <span class="n">BucketResource</span><span class="p">(</span><span class="n">resource</span><span class="p">),</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_Cooldown</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">reset_after</span><span class="o">=</span><span class="n">reset_after_seconds</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>In-memory standard implementation of <code>AbstractCooldownManager</code>.</p>

<h6 id="examples">Examples</h6>

<p><code><a href="#InMemoryCooldownManager.set_bucket">InMemoryCooldownManager.set_bucket</a></code> may be used to set the cooldown for a
specific bucket:</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="p">(</span>
    <span class="n">InMemoryCooldownManager</span><span class="p">()</span>
    <span class="c1"># Set the default bucket template to a per-user 10 uses per-60 seconds cooldown.</span>
    <span class="o">.</span><span class="n">set_bucket</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">BucketResource</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="c1"># Set the &quot;moderation&quot; bucket to a per-guild 100 uses per-5 minutes cooldown.</span>
    <span class="o">.</span><span class="n">set_bucket</span><span class="p">(</span><span class="s2">&quot;moderation&quot;</span><span class="p">,</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">BucketResource</span><span class="o">.</span><span class="n">GUILD</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
    <span class="o">.</span><span class="n">set_bucket</span><span class="p">()</span>
    <span class="c1"># add_to_client will setup the cooldown manager (setting it as an</span>
    <span class="c1"># injected dependency and registering callbacks to manage it).</span>
    <span class="o">.</span><span class="n">add_to_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</div>


                            <div id="InMemoryCooldownManager.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">InMemoryCooldownManager</span><span class="signature">()</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_Cooldown</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span><span class="p">:</span> <span class="n">_BaseResource</span><span class="p">[</span><span class="n">_Cooldown</span><span class="p">]</span> <span class="o">=</span> <span class="n">_FlatResource</span><span class="p">(</span>
            <span class="n">BucketResource</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_Cooldown</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">reset_after</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="InMemoryCooldownManager.add_to_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.add_to_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_to_client</span><span class="signature">(self, client: <a href="tanjun/injecting.html#InjectorClient">tanjun.injecting.InjectorClient</a>, /) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_to_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">injecting</span><span class="o">.</span><span class="n">InjectorClient</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add this cooldown manager to a tanjun client.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This registers the manager as a type dependency and manages opening</span>
<span class="sd">            and closing the manager based on the client&#39;s life cycle.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        client : tanjun.abc.Client</span>
<span class="sd">            The client to add this cooldown manager to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span><span class="n">AbstractCooldownManager</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="c1"># TODO: the injection client should be upgraded to the abstract Client.</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">STARTING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">add_client_callback</span><span class="p">(</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">ClientCallbackNames</span><span class="o">.</span><span class="n">CLOSING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">is_alive</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">client</span><span class="o">.</span><span class="n">loop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">_loop</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">loop</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add this cooldown manager to a tanjun client.</p>

<p><em>Note:</em>
This registers the manager as a type dependency and manages opening
and closing the manager based on the client's life cycle.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>client</strong> (<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>):
The client to add this cooldown manager to.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryCooldownManager.check_cooldown" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.check_cooldown">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">check_cooldown</span><span class="signature">(
    self,
    bucket_id: str,
    ctx: <a href="tanjun/abc.html#Context">tanjun.abc.Context</a>,
    /,
    *,
    increment: bool = False
) -&gt; Optional[float]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_cooldown</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">increment</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractCooldownManager&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">increment</span><span class="p">:</span>
            <span class="n">bucket</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_default</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">)</span><span class="o">.</span><span class="n">into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cooldown</span> <span class="o">:=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">must_wait_for</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">cooldown</span>

            <span class="n">bucket</span><span class="o">.</span><span class="n">increment</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">bucket</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cooldown</span> <span class="o">:=</span> <span class="k">await</span> <span class="n">bucket</span><span class="o">.</span><span class="n">try_into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">cooldown</span><span class="o">.</span><span class="n">must_wait_for</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Check if a bucket is on cooldown for the provided context.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bucket_id</strong> (str):
The cooldown bucket to check.</li>
<li><strong>ctx</strong> (<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>):
The context of the command.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>increment</strong> (bool):
Whether this call should increment the bucket's use counter if
it isn't depleted.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>float | None</strong>: When this command will next be usable for the provided context
if it's in cooldown else <code>None</code>.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryCooldownManager.increment_cooldown" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.increment_cooldown">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">increment_cooldown</span><span class="signature">(self, bucket_id: str, ctx: <a href="tanjun/abc.html#Context">tanjun.abc.Context</a>, /) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">increment_cooldown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractCooldownManager&gt;&gt;.</span>
        <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_default</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">)</span><span class="o">.</span><span class="n">into_inner</span><span class="p">(</span><span class="n">ctx</span><span class="p">))</span><span class="o">.</span><span class="n">increment</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Increment the cooldown of a cooldown bucket.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bucket_id</strong> (str):
The cooldown bucket's ID.</li>
<li><strong>ctx</strong> (<a href="tanjun/abc.html#Context">tanjun.abc.Context</a>):
The context of the command.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryCooldownManager.close" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.close">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">close</span><span class="signature">(self) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stop the cooldown manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the cooldown manager is not running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Cooldown manager is not active&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Stop the cooldown manager.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the cooldown manager is not running.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryCooldownManager.open" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.open">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">open</span><span class="signature">(
    self,
    *,
    _loop: Optional[asyncio.events.AbstractEventLoop] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_loop</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">AbstractEventLoop</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start the cooldown manager.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the cooldown manager is already running.</span>
<span class="sd">            If called in a thread with no running event loop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Cooldown manager is already running&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gc_task</span> <span class="o">=</span> <span class="p">(</span><span class="n">_loop</span> <span class="ow">or</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">())</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_gc</span><span class="p">())</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start the cooldown manager.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the cooldown manager is already running.
If called in a thread with no running event loop.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryCooldownManager.disable_bucket" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.disable_bucket">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">disable_bucket</span><span class="signature">(
    self: ~_InMemoryCooldownManagerT,
    bucket_id: str,
    /
) -&gt; ~_InMemoryCooldownManagerT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">disable_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">,</span> <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Disable a cooldown bucket.</span>

<span class="sd">        This will stop the bucket from ever hitting a cooldown and also</span>
<span class="sd">        prevents the bucket from defaulting.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The bucket to disable.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            This cooldown manager to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># A limit of -1 is special cased to mean no limit and reset_after is ignored in this scenario.</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_GlobalResource</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">_Cooldown</span><span class="p">(</span><span class="n">limit</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">reset_after</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Disable a cooldown bucket.</p>

<p>This will stop the bucket from ever hitting a cooldown and also
prevents the bucket from defaulting.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>bucket_id</strong> (str):
The bucket to disable.</p>

<p><em>Note:</em>
"default" is a special bucket which is used as a template
for unknown bucket IDs.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This cooldown manager to allow for chaining.</li>
</ul>
</div>


                            </div>
                            <div id="InMemoryCooldownManager.set_bucket" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#InMemoryCooldownManager.set_bucket">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_bucket</span><span class="signature">(
    self: ~_InMemoryCooldownManagerT,
    bucket_id: str,
    resource: <a href="tanjun/dependencies/limiters.html#BucketResource">tanjun.dependencies.limiters.BucketResource</a>,
    limit: int,
    reset_after: Union[int, float, datetime.timedelta],
    /
) -&gt; ~_InMemoryCooldownManagerT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_bucket</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">,</span>
        <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">resource</span><span class="p">:</span> <span class="n">BucketResource</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">reset_after</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_InMemoryCooldownManagerT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the cooldown for a specific bucket.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bucket_id : str</span>
<span class="sd">            The ID of the bucket to set the cooldown for.</span>

<span class="sd">            .. note::</span>
<span class="sd">                &quot;default&quot; is a special bucket which is used as a template</span>
<span class="sd">                for unknown bucket IDs.</span>
<span class="sd">        resource : tanjun.BucketResource</span>
<span class="sd">            The type of resource to target for the cooldown.</span>
<span class="sd">        limit : int</span>
<span class="sd">            The number of uses per cooldown period.</span>
<span class="sd">        reset_after : int | float | datetime.timedelta</span>
<span class="sd">            The cooldown period.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The cooldown manager to allow call chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If an invalid resource type is given.</span>
<span class="sd">            If reset_after or limit are negative, 0 or invalid.</span>
<span class="sd">            if limit is less 0 or negative.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">reset_after</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">):</span>
            <span class="n">reset_after_seconds</span> <span class="o">=</span> <span class="n">reset_after</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">reset_after_seconds</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">reset_after</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">reset_after_seconds</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;reset_after must be greater than 0 seconds&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;limit must be greater than 0&quot;</span><span class="p">)</span>

        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buckets</span><span class="p">[</span><span class="n">bucket_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_to_bucket</span><span class="p">(</span>
            <span class="n">BucketResource</span><span class="p">(</span><span class="n">resource</span><span class="p">),</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_Cooldown</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">reset_after</span><span class="o">=</span><span class="n">reset_after_seconds</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">bucket_id</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_bucket_template</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the cooldown for a specific bucket.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>bucket_id</strong> (str):
The ID of the bucket to set the cooldown for.</p>

<p><em>Note:</em>
"default" is a special bucket which is used as a template
for unknown bucket IDs.</p></li>
<li><strong>resource</strong> (<a href="#BucketResource">tanjun.BucketResource</a>):
The type of resource to target for the cooldown.</li>
<li><strong>limit</strong> (int):
The number of uses per cooldown period.</li>
<li><strong>reset_after</strong> (int | float | datetime.timedelta):
The cooldown period.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The cooldown manager to allow call chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If an invalid resource type is given.
If reset_after or limit are negative, 0 or invalid.
if limit is less 0 or negative.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="LazyConstant">
                                <div class="attr class">
        <a class="headerlink" href="#LazyConstant">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">LazyConstant</span><wbr>(<span class="base">typing.Generic[~_T]</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">LazyConstant</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">Generic</span><span class="p">[</span><span class="n">_T</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Injected type used to hold and generate lazy constants.</span>

<span class="sd">    .. note::</span>
<span class="sd">        To easily resolve this type use `inject_lc`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_callback&quot;</span><span class="p">,</span> <span class="s2">&quot;_lock&quot;</span><span class="p">,</span> <span class="s2">&quot;_value&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MaybeAwaitableT</span><span class="p">[</span><span class="n">_T</span><span class="p">]],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initiate a new lazy constant.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : collections.abc.Callable[..., tanjun.abc.MaybeAwaitable[_T]]</span>
<span class="sd">            Callback used to resolve this to a constant value.</span>

<span class="sd">            This supports dependency injection and may either be sync or asynchronous.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Lock</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_T</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Descriptor of the callback used to get this constant&#39;s initial value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span>

    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the value of this constant if set, else `None`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_LazyConstantT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_LazyConstantT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Clear the internally stored value.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_LazyConstantT</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_T</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_LazyConstantT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the constant value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : _T</span>
<span class="sd">            The value to set.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the constant has already been set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Constant value already set.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">AbstractAsyncContextManager</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Acquire this lazy constant as an asynchronous lock.</span>

<span class="sd">        This is used to ensure that the value is only generated once</span>
<span class="sd">        and should be kept acquired until `LazyConstant.set_value` has</span>
<span class="sd">        been called.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contextlib.AbstractAsyncContextManager[typing.Any]</span>
<span class="sd">            Context manager that can be used to acquire the lock.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="c1"># Error if this is called outside of a running event loop.</span>
            <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span>
</pre></div>

        </details>

            <div class="docstring"><p>Injected type used to hold and generate lazy constants.</p>

<p><em>Note:</em>
To easily resolve this type use <code><a href="#inject_lc">inject_lc</a></code>.</p>
</div>


                            <div id="LazyConstant.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LazyConstant.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">LazyConstant</span><span class="signature">(
    callback: collections.abc.Callable[..., typing.Union[~_T, collections.abc.Awaitable[~_T]]],
    /
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MaybeAwaitableT</span><span class="p">[</span><span class="n">_T</span><span class="p">]],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initiate a new lazy constant.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : collections.abc.Callable[..., tanjun.abc.MaybeAwaitable[_T]]</span>
<span class="sd">            Callback used to resolve this to a constant value.</span>

<span class="sd">            This supports dependency injection and may either be sync or asynchronous.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Lock</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_T</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initiate a new lazy constant.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (collections.abc.Callable[..., <a href="tanjun/abc.html#MaybeAwaitable">tanjun.abc.MaybeAwaitable</a>[_T]]):
Callback used to resolve this to a constant value.</p>

<p>This supports dependency injection and may either be sync or asynchronous.</p></li>
</ul>
</div>


                            </div>
                            <div id="LazyConstant.callback" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LazyConstant.callback">#&nbsp;&nbsp</a>

        <span class="name">callback</span><span class="annotation">: <a href="tanjun/injecting.html#CallbackDescriptor">tanjun.injecting.CallbackDescriptor</a>[~_T]</span>
    </div>

    
            <div class="docstring"><p>Descriptor of the callback used to get this constant's initial value.</p>
</div>


                            </div>
                            <div id="LazyConstant.get_value" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LazyConstant.get_value">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_value</span><span class="signature">(self) -&gt; Optional[~_T]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the value of this constant if set, else `None`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get the value of this constant if set, else <code>None</code>.</p>
</div>


                            </div>
                            <div id="LazyConstant.reset" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LazyConstant.reset">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reset</span><span class="signature">(self: ~_LazyConstantT) -&gt; ~_LazyConstantT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_LazyConstantT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_LazyConstantT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Clear the internally stored value.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Clear the internally stored value.</p>
</div>


                            </div>
                            <div id="LazyConstant.set_value" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LazyConstant.set_value">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_value</span><span class="signature">(self: ~_LazyConstantT, value: ~_T, /) -&gt; ~_LazyConstantT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_LazyConstantT</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_T</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_LazyConstantT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the constant value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : _T</span>
<span class="sd">            The value to set.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the constant has already been set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Constant value already set.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the constant value.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>value</strong> (_T):
The value to set.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>RuntimeError</strong>: If the constant has already been set.</li>
</ul>
</div>


                            </div>
                            <div id="LazyConstant.acquire" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LazyConstant.acquire">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">acquire</span><span class="signature">(self) -&gt; contextlib.AbstractAsyncContextManager[typing.Any]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">AbstractAsyncContextManager</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Acquire this lazy constant as an asynchronous lock.</span>

<span class="sd">        This is used to ensure that the value is only generated once</span>
<span class="sd">        and should be kept acquired until `LazyConstant.set_value` has</span>
<span class="sd">        been called.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contextlib.AbstractAsyncContextManager[typing.Any]</span>
<span class="sd">            Context manager that can be used to acquire the lock.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="c1"># Error if this is called outside of a running event loop.</span>
            <span class="n">asyncio</span><span class="o">.</span><span class="n">get_running_loop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span>
</pre></div>

        </details>

            <div class="docstring"><p>Acquire this lazy constant as an asynchronous lock.</p>

<p>This is used to ensure that the value is only generated once
and should be kept acquired until <code><a href="#LazyConstant.set_value">LazyConstant.set_value</a></code> has
been called.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>contextlib.AbstractAsyncContextManager[typing.Any]</strong>: Context manager that can be used to acquire the lock.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="MenuCommand">
                                <div class="attr class">
        <a class="headerlink" href="#MenuCommand">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MenuCommand</span><wbr>(<span class="base">tanjun.commands.base.PartialCommand[tanjun.abc.MenuContext]</span>, <span class="base"><a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand[~_MenuCommandCallbackSigT, ~_MenuTypeT]</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MenuCommand</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">],</span> <span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">[</span><span class="n">_MenuCommandCallbackSigT</span><span class="p">,</span> <span class="n">_MenuTypeT</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Base class used for the standard slash command implementations.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;_always_defer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_callback&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_default_permission&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_defaults_to_ephemeral&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_description&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_is_global&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_name&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_parent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_tracked_command&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_type&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_wrapped_command&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">_MenuCommandCallbackSigT</span><span class="p">,</span>
        <span class="n">type_</span><span class="p">:</span> <span class="n">_MenuTypeT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">always_defer</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">32</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command name must be between 1-32 characters in length&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">type_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_VALID_TYPES</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command type must be message or user&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">_MenuCommandCallbackSigT</span><span class="p">,</span> <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="o">=</span> <span class="n">always_defer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span> <span class="o">=</span> <span class="n">default_permission</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">default_to_ephemeral</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_global</span> <span class="o">=</span> <span class="n">is_global</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">ContextMenuCommand</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="n">type_</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="o">=</span> <span class="n">_wrapped_command</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandCallbackSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;_MenuCommandCallbackSigT&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">defaults_to_ephemeral</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_global</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_global</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tracked_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">ContextMenuCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_command</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tracked_command_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_command</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_command</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuTypeT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">ContextMenuCommandBuilder</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">impl</span><span class="o">.</span><span class="n">ContextMenuCommandBuilder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_default_permission</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_tracked_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MenuCommandT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">ContextMenuCommand</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Command must be a ContextMenuCommand&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_command</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MenuCommandT</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether this command&#39;s responses should default to ephemeral.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bool | None</span>
<span class="sd">            Whether this command&#39;s responses should default to ephemeral.</span>
<span class="sd">            This will be overridden by any response calls which specify flags.</span>

<span class="sd">            Setting this to `None` will let the default set on the parent</span>
<span class="sd">            command(s), component or client propagate and decide the ephemeral</span>
<span class="sd">            default for contexts used by this command.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SelfT</span>
<span class="sd">            This command to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">state</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">utilities</span><span class="o">.</span><span class="n">gather_checks</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MenuCommandT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_been_deferred</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_responded</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">defer</span><span class="p">()</span>

        <span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">own_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">or</span> <span class="n">_EMPTY_HOOKS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">resolve_to_user</span><span class="p">()</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">resolve_to_message</span><span class="p">()</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="c1"># Unlike a message command, this won&#39;t necessarily reach the client level try except</span>
            <span class="c1"># block so we have to handle this here.</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.components.load_into_component&gt;&gt;.</span>
        <span class="n">component</span><span class="o">.</span><span class="n">add_menu_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">AbstractComponentLoader</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Base class used for the standard slash command implementations.</p>
</div>


                            <div id="MenuCommand.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MenuCommand</span><span class="signature">(
    callback: ~_MenuCommandCallbackSigT,
    type_: ~_MenuTypeT,
    name: str,
    /,
    *,
    always_defer: bool = False,
    default_permission: bool = True,
    default_to_ephemeral: Optional[bool] = None,
    is_global: bool = True,
    _wrapped_command: Optional[<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[Any]] = None
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">_MenuCommandCallbackSigT</span><span class="p">,</span>
        <span class="n">type_</span><span class="p">:</span> <span class="n">_MenuTypeT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">always_defer</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">32</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command name must be between 1-32 characters in length&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">type_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_VALID_TYPES</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command type must be message or user&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">_MenuCommandCallbackSigT</span><span class="p">,</span> <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="o">=</span> <span class="n">always_defer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span> <span class="o">=</span> <span class="n">default_permission</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">default_to_ephemeral</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_global</span> <span class="o">=</span> <span class="n">is_global</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">ContextMenuCommand</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="n">type_</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="o">=</span> <span class="n">_wrapped_command</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MenuCommand.callback" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MenuCommand.callback">#&nbsp;&nbsp</a>

        <span class="name">callback</span><span class="annotation">: ~_MenuCommandCallbackSigT</span>
    </div>

    
            <div class="docstring"><p>Callback which is called during execution.</p>
</div>


                            </div>
                            <div id="MenuCommand.defaults_to_ephemeral" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MenuCommand.defaults_to_ephemeral">#&nbsp;&nbsp</a>

        <span class="name">defaults_to_ephemeral</span><span class="annotation">: Optional[bool]</span>
    </div>

    
            <div class="docstring"><p>Whether contexts executed by this command should default to ephemeral responses.</p>

<p>This effects calls to <code>SlashContext.create_followup</code>,
<code>SlashContext.create_initial_response</code>, <code>SlashContext.defer</code> and
<code>SlashContext.respond</code> unless the <code>flags</code> field is provided for the
methods which support it.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bool</strong>: Whether calls to this command should default to ephemeral mode.</li>
</ul>

<p>If this is <code>None</code> then the default from the parent command(s),
component or client is used.</p>
</div>


                            </div>
                            <div id="MenuCommand.is_global" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MenuCommand.is_global">#&nbsp;&nbsp</a>

        <span class="name">is_global</span><span class="annotation">: bool</span>
    </div>

    
            <div class="docstring"><p>Whether the command should be declared globally or not.</p>

<p><em>Warning:</em>
For commands within command groups the state of this flag
is inherited regardless of what it's set as on the child command.</p>
</div>


                            </div>
                            <div id="MenuCommand.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MenuCommand.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>Name of the command.</p>
</div>


                            </div>
                            <div id="MenuCommand.tracked_command" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MenuCommand.tracked_command">#&nbsp;&nbsp</a>

        <span class="name">tracked_command</span><span class="annotation">: Optional[hikari.commands.ContextMenuCommand]</span>
    </div>

    
            <div class="docstring"><p>Object of the actual command this object tracks if set.</p>
</div>


                            </div>
                            <div id="MenuCommand.tracked_command_id" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MenuCommand.tracked_command_id">#&nbsp;&nbsp</a>

        <span class="name">tracked_command_id</span><span class="annotation">: Optional[hikari.snowflakes.Snowflake]</span>
    </div>

    
            <div class="docstring"><p>ID of the actual command this object tracks if set.</p>
</div>


                            </div>
                            <div id="MenuCommand.type" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MenuCommand.type">#&nbsp;&nbsp</a>

        <span class="name">type</span><span class="annotation">: ~_MenuTypeT</span>
    </div>

    
            <div class="docstring"><p>The menu type(s) this is for.</p>
</div>


                            </div>
                            <div id="MenuCommand.build" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.build">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">build</span><span class="signature">(self) -&gt; hikari.api.special_endpoints.ContextMenuCommandBuilder</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">ContextMenuCommandBuilder</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">impl</span><span class="o">.</span><span class="n">ContextMenuCommandBuilder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_default_permission</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a builder object for this command.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.api.ContextMenuCommandBuilder</strong>: A builder object for this command. Use to declare this command on
globally or for a specific guild.</li>
</ul>
</div>


                            </div>
                            <div id="MenuCommand.set_tracked_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.set_tracked_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_tracked_command</span><span class="signature">(
    self: ~_MenuCommandT,
    command: hikari.commands.PartialCommand,
    /
) -&gt; ~_MenuCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_tracked_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MenuCommandT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">ContextMenuCommand</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Command must be a ContextMenuCommand&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_command</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the global command this tracks.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (hikari.PartialCommand):
Object of the global command this tracks.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="MenuCommand.set_ephemeral_default" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.set_ephemeral_default">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_ephemeral_default</span><span class="signature">(self: ~_MenuCommandT, state: Optional[bool], /) -&gt; ~_MenuCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_ephemeral_default</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MenuCommandT</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set whether this command&#39;s responses should default to ephemeral.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bool | None</span>
<span class="sd">            Whether this command&#39;s responses should default to ephemeral.</span>
<span class="sd">            This will be overridden by any response calls which specify flags.</span>

<span class="sd">            Setting this to `None` will let the default set on the parent</span>
<span class="sd">            command(s), component or client propagate and decide the ephemeral</span>
<span class="sd">            default for contexts used by this command.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SelfT</span>
<span class="sd">            This command to allow for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults_to_ephemeral</span> <span class="o">=</span> <span class="n">state</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set whether this command's responses should default to ephemeral.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bool | None</strong>: Whether this command's responses should default to ephemeral.
This will be overridden by any response calls which specify flags.</li>
</ul>

<p>Setting this to <code>None</code> will let the default set on the parent
command(s), component or client propagate and decide the ephemeral
default for contexts used by this command.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>SelfT</strong>: This command to allow for chaining.</li>
</ul>
</div>


                            </div>
                            <div id="MenuCommand.check_context" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.check_context">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">check_context</span><span class="signature">(self, ctx: <a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>, /) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">utilities</span><span class="o">.</span><span class="n">gather_checks</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MenuCommand.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(
    self: ~_MenuCommandT,
    *,
    _new: bool = True,
    parent: Optional[<a href="tanjun/abc.html#SlashCommandGroup">tanjun.abc.SlashCommandGroup</a>] = None
) -&gt; ~_MenuCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MenuCommandT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MenuCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a copy of this command.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: A copy of this command.</li>
</ul>
</div>


                            </div>
                            <div id="MenuCommand.execute" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.execute">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>,
    /,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MenuContext">tanjun.abc.MenuContext</a>]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MenuContext</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MenuCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_been_deferred</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_responded</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">defer</span><span class="p">()</span>

        <span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">own_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">or</span> <span class="n">_EMPTY_HOOKS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">resolve_to_user</span><span class="p">()</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">resolve_to_message</span><span class="p">()</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="c1"># Unlike a message command, this won&#39;t necessarily reach the client level try except</span>
            <span class="c1"># block so we have to handle this here.</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MenuCommand.load_into_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MenuCommand.load_into_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">load_into_component</span><span class="signature">(self, component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>, /) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.components.load_into_component&gt;&gt;.</span>
        <span class="n">component</span><span class="o">.</span><span class="n">add_menu_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">AbstractComponentLoader</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Load the object into the component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>component</strong> (<a href="tanjun/abc.html#Component">tanjun.abc.Component</a>):
The component this object should be loaded into.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>tanjun.commands.base.PartialCommand</dt>
                                <dd id="MenuCommand.checks" class="variable">checks</dd>
                <dd id="MenuCommand.component" class="variable">component</dd>
                <dd id="MenuCommand.hooks" class="variable">hooks</dd>
                <dd id="MenuCommand.metadata" class="variable">metadata</dd>
                <dd id="MenuCommand.needs_injector" class="variable">needs_injector</dd>
                <dd id="MenuCommand.set_hooks" class="function">set_hooks</dd>
                <dd id="MenuCommand.set_metadata" class="function">set_metadata</dd>
                <dd id="MenuCommand.add_check" class="function">add_check</dd>
                <dd id="MenuCommand.remove_check" class="function">remove_check</dd>
                <dd id="MenuCommand.with_check" class="function">with_check</dd>
                <dd id="MenuCommand.bind_client" class="function">bind_client</dd>
                <dd id="MenuCommand.bind_component" class="function">bind_component</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MessageAcceptsEnum">
                                <div class="attr class">
        <a class="headerlink" href="#MessageAcceptsEnum">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MessageAcceptsEnum</span><wbr>(<span class="base">builtins.str</span>, <span class="base">enum.Enum</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MessageAcceptsEnum</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The possible configurations for which events `Client` should execute commands based on.&quot;&quot;&quot;</span>

    <span class="n">ALL</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>
    <span class="sd">&quot;&quot;&quot;Set the client to execute commands based on both DM and guild message create events.&quot;&quot;&quot;</span>

    <span class="n">DM_ONLY</span> <span class="o">=</span> <span class="s2">&quot;DM_ONLY&quot;</span>
    <span class="sd">&quot;&quot;&quot;Set the client to execute commands based only DM message create events.&quot;&quot;&quot;</span>

    <span class="n">GUILD_ONLY</span> <span class="o">=</span> <span class="s2">&quot;GUILD_ONLY&quot;</span>
    <span class="sd">&quot;&quot;&quot;Set the client to execute commands based only guild message create events.&quot;&quot;&quot;</span>

    <span class="n">NONE</span> <span class="o">=</span> <span class="s2">&quot;NONE&quot;</span>
    <span class="sd">&quot;&quot;&quot;Set the client to not execute commands based on message create events.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">MessageCreateEvent</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Get the base event type this mode listens to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        type[hikari.message_events.MessageCreateEvent] | None</span>
<span class="sd">            The type object of the MessageCreateEvent class this mode will</span>
<span class="sd">            register a listener for.</span>

<span class="sd">            This will be `None` if this mode disables listening to</span>
<span class="sd">            message create events.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_ACCEPTS_EVENT_TYPE_MAPPING</span><span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>The possible configurations for which events <code><a href="#Client">Client</a></code> should execute commands based on.</p>
</div>


                            <div id="MessageAcceptsEnum.ALL" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageAcceptsEnum.ALL">#&nbsp;&nbsp</a>

        <span class="name">ALL</span><span class="default_value"> = &lt;<a href="#MessageAcceptsEnum.ALL">MessageAcceptsEnum.ALL</a>: &#39;ALL&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Set the client to execute commands based on both DM and guild message create events.</p>
</div>


                            </div>
                            <div id="MessageAcceptsEnum.DM_ONLY" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageAcceptsEnum.DM_ONLY">#&nbsp;&nbsp</a>

        <span class="name">DM_ONLY</span><span class="default_value"> = &lt;<a href="#MessageAcceptsEnum.DM_ONLY">MessageAcceptsEnum.DM_ONLY</a>: &#39;DM_ONLY&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Set the client to execute commands based only DM message create events.</p>
</div>


                            </div>
                            <div id="MessageAcceptsEnum.GUILD_ONLY" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageAcceptsEnum.GUILD_ONLY">#&nbsp;&nbsp</a>

        <span class="name">GUILD_ONLY</span><span class="default_value"> = &lt;<a href="#MessageAcceptsEnum.GUILD_ONLY">MessageAcceptsEnum.GUILD_ONLY</a>: &#39;GUILD_ONLY&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Set the client to execute commands based only guild message create events.</p>
</div>


                            </div>
                            <div id="MessageAcceptsEnum.NONE" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageAcceptsEnum.NONE">#&nbsp;&nbsp</a>

        <span class="name">NONE</span><span class="default_value"> = &lt;<a href="#MessageAcceptsEnum.NONE">MessageAcceptsEnum.NONE</a>: &#39;NONE&#39;&gt;</span>
    </div>

    
            <div class="docstring"><p>Set the client to not execute commands based on message create events.</p>
</div>


                            </div>
                            <div id="MessageAcceptsEnum.get_event_type" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageAcceptsEnum.get_event_type">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_event_type</span><span class="signature">(
    self
) -&gt; Optional[type[hikari.events.message_events.MessageCreateEvent]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">MessageCreateEvent</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Get the base event type this mode listens to.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        type[hikari.message_events.MessageCreateEvent] | None</span>
<span class="sd">            The type object of the MessageCreateEvent class this mode will</span>
<span class="sd">            register a listener for.</span>

<span class="sd">            This will be `None` if this mode disables listening to</span>
<span class="sd">            message create events.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_ACCEPTS_EVENT_TYPE_MAPPING</span><span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get the base event type this mode listens to.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>type[hikari.message_events.MessageCreateEvent] | None</strong>: The type object of the MessageCreateEvent class this mode will
register a listener for.</li>
</ul>

<p>This will be <code>None</code> if this mode disables listening to
message create events.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="MessageAcceptsEnum.name" class="variable">name</dd>
                <dd id="MessageAcceptsEnum.value" class="variable">value</dd>

            </div>
            <div><dt>builtins.str</dt>
                                <dd id="MessageAcceptsEnum.encode" class="function">encode</dd>
                <dd id="MessageAcceptsEnum.replace" class="function">replace</dd>
                <dd id="MessageAcceptsEnum.split" class="function">split</dd>
                <dd id="MessageAcceptsEnum.rsplit" class="function">rsplit</dd>
                <dd id="MessageAcceptsEnum.join" class="function">join</dd>
                <dd id="MessageAcceptsEnum.capitalize" class="function">capitalize</dd>
                <dd id="MessageAcceptsEnum.casefold" class="function">casefold</dd>
                <dd id="MessageAcceptsEnum.title" class="function">title</dd>
                <dd id="MessageAcceptsEnum.center" class="function">center</dd>
                <dd id="MessageAcceptsEnum.count" class="function">count</dd>
                <dd id="MessageAcceptsEnum.expandtabs" class="function">expandtabs</dd>
                <dd id="MessageAcceptsEnum.find" class="function">find</dd>
                <dd id="MessageAcceptsEnum.partition" class="function">partition</dd>
                <dd id="MessageAcceptsEnum.index" class="function">index</dd>
                <dd id="MessageAcceptsEnum.ljust" class="function">ljust</dd>
                <dd id="MessageAcceptsEnum.lower" class="function">lower</dd>
                <dd id="MessageAcceptsEnum.lstrip" class="function">lstrip</dd>
                <dd id="MessageAcceptsEnum.rfind" class="function">rfind</dd>
                <dd id="MessageAcceptsEnum.rindex" class="function">rindex</dd>
                <dd id="MessageAcceptsEnum.rjust" class="function">rjust</dd>
                <dd id="MessageAcceptsEnum.rstrip" class="function">rstrip</dd>
                <dd id="MessageAcceptsEnum.rpartition" class="function">rpartition</dd>
                <dd id="MessageAcceptsEnum.splitlines" class="function">splitlines</dd>
                <dd id="MessageAcceptsEnum.strip" class="function">strip</dd>
                <dd id="MessageAcceptsEnum.swapcase" class="function">swapcase</dd>
                <dd id="MessageAcceptsEnum.translate" class="function">translate</dd>
                <dd id="MessageAcceptsEnum.upper" class="function">upper</dd>
                <dd id="MessageAcceptsEnum.startswith" class="function">startswith</dd>
                <dd id="MessageAcceptsEnum.endswith" class="function">endswith</dd>
                <dd id="MessageAcceptsEnum.removeprefix" class="function">removeprefix</dd>
                <dd id="MessageAcceptsEnum.removesuffix" class="function">removesuffix</dd>
                <dd id="MessageAcceptsEnum.isascii" class="function">isascii</dd>
                <dd id="MessageAcceptsEnum.islower" class="function">islower</dd>
                <dd id="MessageAcceptsEnum.isupper" class="function">isupper</dd>
                <dd id="MessageAcceptsEnum.istitle" class="function">istitle</dd>
                <dd id="MessageAcceptsEnum.isspace" class="function">isspace</dd>
                <dd id="MessageAcceptsEnum.isdecimal" class="function">isdecimal</dd>
                <dd id="MessageAcceptsEnum.isdigit" class="function">isdigit</dd>
                <dd id="MessageAcceptsEnum.isnumeric" class="function">isnumeric</dd>
                <dd id="MessageAcceptsEnum.isalpha" class="function">isalpha</dd>
                <dd id="MessageAcceptsEnum.isalnum" class="function">isalnum</dd>
                <dd id="MessageAcceptsEnum.isidentifier" class="function">isidentifier</dd>
                <dd id="MessageAcceptsEnum.isprintable" class="function">isprintable</dd>
                <dd id="MessageAcceptsEnum.zfill" class="function">zfill</dd>
                <dd id="MessageAcceptsEnum.format" class="function">format</dd>
                <dd id="MessageAcceptsEnum.format_map" class="function">format_map</dd>
                <dd id="MessageAcceptsEnum.maketrans" class="function">maketrans</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MessageCommand">
                                <div class="attr class">
        <a class="headerlink" href="#MessageCommand">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MessageCommand</span><wbr>(<span class="base">tanjun.commands.base.PartialCommand[tanjun.abc.MessageContext]</span>, <span class="base"><a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand[~CommandCallbackSigT]</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MessageCommand</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="n">PartialCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">],</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Standard implementation of a message command.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_callback&quot;</span><span class="p">,</span> <span class="s2">&quot;_names&quot;</span><span class="p">,</span> <span class="s2">&quot;_parent&quot;</span><span class="p">,</span> <span class="s2">&quot;_parser&quot;</span><span class="p">,</span> <span class="s2">&quot;_wrapped_command&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a message command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : collections.abc.Callable[[tanjun.abc.MessageContext, ...], collections.abc.Awaitable[None]]</span>
<span class="sd">            Callback to execute when the command is invoked.</span>

<span class="sd">            This should be an asynchronous callback which takes one positional</span>
<span class="sd">            argument of type `tanjun.abc.MessageContext`, returns `None` and may use</span>
<span class="sd">            dependency injection to access other services.</span>
<span class="sd">        name : str</span>
<span class="sd">            The command name.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        *names : str</span>
<span class="sd">            Variable positional arguments of other names for the command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span> <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">](</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageParser</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="o">=</span> <span class="n">_wrapped_command</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Command &lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_names</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">if</span> <span class="n">typing</span><span class="o">.</span><span class="n">TYPE_CHECKING</span><span class="p">:</span>
        <span class="fm">__call__</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span>

    <span class="k">else</span><span class="p">:</span>

        <span class="k">async</span> <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
    <span class="k">def</span> <span class="nf">names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">needs_injector</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">needs_injector</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parser</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageParser</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span>

    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_parent</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_parser</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageParser</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="o">=</span> <span class="n">parser</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">utilities</span><span class="o">.</span><span class="n">gather_checks</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">own_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">or</span> <span class="n">_EMPTY_HOOKS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="n">_EMPTY_DICT</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">message</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2000</span> <span class="k">else</span> <span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">[:</span><span class="mi">1997</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">response</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">raise</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># TODO: how should this be handled around CommandError?</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.components.load_into_component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">:</span>
            <span class="n">component</span><span class="o">.</span><span class="n">add_message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">AbstractComponentLoader</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Standard implementation of a message command.</p>
</div>


                            <div id="MessageCommand.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MessageCommand</span><span class="signature">(
    callback: ~CommandCallbackSigT,
    name: str,
    /,
    *names: str,
    _wrapped_command: Optional[<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[Any]] = None
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a message command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : collections.abc.Callable[[tanjun.abc.MessageContext, ...], collections.abc.Awaitable[None]]</span>
<span class="sd">            Callback to execute when the command is invoked.</span>

<span class="sd">            This should be an asynchronous callback which takes one positional</span>
<span class="sd">            argument of type `tanjun.abc.MessageContext`, returns `None` and may use</span>
<span class="sd">            dependency injection to access other services.</span>
<span class="sd">        name : str</span>
<span class="sd">            The command name.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        *names : str</span>
<span class="sd">            Variable positional arguments of other names for the command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span> <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">](</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageParser</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="o">=</span> <span class="n">_wrapped_command</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a message command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (collections.abc.Callable[[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>, ...], collections.abc.Awaitable[None]]):
Callback to execute when the command is invoked.</p>

<p>This should be an asynchronous callback which takes one positional
argument of type <code><a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a></code>, returns <code>None</code> and may use
dependency injection to access other services.</p></li>
<li><strong>name</strong> (str):
The command name.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*names</strong> (str):
Variable positional arguments of other names for the command.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommand.callback" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageCommand.callback">#&nbsp;&nbsp</a>

        <span class="name">callback</span><span class="annotation">: ~CommandCallbackSigT</span>
    </div>

    
            <div class="docstring"><p>Callback which is called during execution.</p>

<p><em>Note:</em>
For command groups, this is called when none of the inner-commands
matches the message.</p>
</div>


                            </div>
                            <div id="MessageCommand.names" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageCommand.names">#&nbsp;&nbsp</a>

        <span class="name">names</span><span class="annotation">: collections.abc.Collection[str]</span>
    </div>

    
            <div class="docstring"><p>Collection of this command's names.</p>
</div>


                            </div>
                            <div id="MessageCommand.needs_injector" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageCommand.needs_injector">#&nbsp;&nbsp</a>

        <span class="name">needs_injector</span><span class="annotation">: bool</span>
    </div>

    
    

                            </div>
                            <div id="MessageCommand.parent" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageCommand.parent">#&nbsp;&nbsp</a>

        <span class="name">parent</span><span class="annotation">: Optional[<a href="tanjun/abc.html#MessageCommandGroup">tanjun.abc.MessageCommandGroup</a>[Any]]</span>
    </div>

    
            <div class="docstring"><p>Parent group of this command if applicable.</p>
</div>


                            </div>
                            <div id="MessageCommand.parser" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageCommand.parser">#&nbsp;&nbsp</a>

        <span class="name">parser</span><span class="annotation">: Optional[<a href="tanjun/abc.html#MessageParser">tanjun.abc.MessageParser</a>]</span>
    </div>

    
            <div class="docstring"><p>Parser for this command.</p>
</div>


                            </div>
                            <div id="MessageCommand.bind_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.bind_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_client</span><span class="signature">(
    self: ~_MessageCommandT,
    client: <a href="tanjun/abc.html#Client">tanjun.abc.Client</a>,
    /
) -&gt; ~_MessageCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MessageCommand.bind_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.bind_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_component</span><span class="signature">(
    self: ~_MessageCommandT,
    component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>,
    /
) -&gt; ~_MessageCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MessageCommand.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(
    self: ~_MessageCommandT,
    *,
    parent: Optional[<a href="tanjun/abc.html#MessageCommandGroup">tanjun.abc.MessageCommandGroup</a>[Any]] = None,
    _new: bool = True
) -&gt; ~_MessageCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a copy of this command.</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>parent</strong> (MessageCommandGroup[tping.Any] | None):
The parent of the copy.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The copy.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommand.set_parent" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.set_parent">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_parent</span><span class="signature">(
    self: ~_MessageCommandT,
    parent: Optional[<a href="tanjun/abc.html#MessageCommandGroup">tanjun.abc.MessageCommandGroup</a>[Any]],
    /
) -&gt; ~_MessageCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_parent</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the parent of this command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>parent</strong> (MessageCommandGroup[typing.Any] | None):
The parent of this command.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommand.set_parser" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.set_parser">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_parser</span><span class="signature">(
    self: ~_MessageCommandT,
    parser: Optional[<a href="tanjun/abc.html#MessageParser">tanjun.abc.MessageParser</a>],
    /
) -&gt; ~_MessageCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_parser</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandT</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageParser</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="o">=</span> <span class="n">parser</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the for this message command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>parser</strong> (MessageParser):
The parser to set.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommand.check_context" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.check_context">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">check_context</span><span class="signature">(self, ctx: <a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>, /) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">utilities</span><span class="o">.</span><span class="n">gather_checks</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">)</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MessageCommand.execute" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.execute">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>,
    /,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">own_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">or</span> <span class="n">_EMPTY_HOOKS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="n">_EMPTY_DICT</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">message</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2000</span> <span class="k">else</span> <span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">[:</span><span class="mi">1997</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">response</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="k">raise</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># TODO: how should this be handled around CommandError?</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MessageCommand.load_into_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommand.load_into_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">load_into_component</span><span class="signature">(self, component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>, /) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.components.load_into_component&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">:</span>
            <span class="n">component</span><span class="o">.</span><span class="n">add_message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">AbstractComponentLoader</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Load the object into the component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>component</strong> (<a href="tanjun/abc.html#Component">tanjun.abc.Component</a>):
The component this object should be loaded into.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>tanjun.commands.base.PartialCommand</dt>
                                <dd id="MessageCommand.checks" class="variable">checks</dd>
                <dd id="MessageCommand.component" class="variable">component</dd>
                <dd id="MessageCommand.hooks" class="variable">hooks</dd>
                <dd id="MessageCommand.metadata" class="variable">metadata</dd>
                <dd id="MessageCommand.set_hooks" class="function">set_hooks</dd>
                <dd id="MessageCommand.set_metadata" class="function">set_metadata</dd>
                <dd id="MessageCommand.add_check" class="function">add_check</dd>
                <dd id="MessageCommand.remove_check" class="function">remove_check</dd>
                <dd id="MessageCommand.with_check" class="function">with_check</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MessageCommandGroup">
                                <div class="attr class">
        <a class="headerlink" href="#MessageCommandGroup">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MessageCommandGroup</span><wbr>(<span class="base"><a href="#MessageCommand">tanjun.MessageCommand[~CommandCallbackSigT]</a></span>, <span class="base"><a href="tanjun/abc.html#MessageCommandGroup">tanjun.abc.MessageCommandGroup[~CommandCallbackSigT]</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MessageCommandGroup</span><span class="p">(</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">],</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Standard implementation of a message command group.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_commands&quot;</span><span class="p">,</span> <span class="s2">&quot;_is_strict&quot;</span><span class="p">,</span> <span class="s2">&quot;_names_to_commands&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a message command group.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The command name.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        *names : str</span>
<span class="sd">            Variable positional arguments of other names for the command.</span>
<span class="sd">        strict : bool</span>
<span class="sd">            Whether this command group should only allow commands without spaces in their names.</span>

<span class="sd">            This allows for a more optimised command search pattern to be used and</span>
<span class="sd">            enforces that command names are unique to a single command within the group.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">,</span> <span class="n">_wrapped_command</span><span class="o">=</span><span class="n">_wrapped_command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span> <span class="o">=</span> <span class="n">strict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;CommandGroup &lt;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_names</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommandGroup&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_strict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="n">commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">command</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span> <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">commands</span><span class="p">[</span><span class="n">command</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a command to this group.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : MessageCommand</span>
<span class="sd">            The command to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The group instance to enable chained calls.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If one of the command&#39;s names is already registered in a strict</span>
<span class="sd">            command group.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Sub-command names may not contain spaces in a strict message command group&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">name_conflicts</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Sub-command names must be unique in a strict message command group. &quot;</span>
                    <span class="s2">&quot;The following conflicts were found &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">name_conflicts</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">update</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommandGroup&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="n">command</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">_AnyMessageCommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AnyMessageCommandT</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">find_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">name_</span> <span class="o">:=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">match_prefix_names</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">name_</span><span class="p">,</span> <span class="n">command</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot execute a command with a content-less message&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

            <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_command</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="p">):</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">:]</span>
                <span class="n">lstripped_content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
                <span class="n">space_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">lstripped_content</span><span class="p">)</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_triggering_name</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">triggering_name</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">space_len</span><span class="p">)</span> <span class="o">+</span> <span class="n">name</span><span class="p">)</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_content</span><span class="p">(</span><span class="n">lstripped_content</span><span class="p">)</span>
                <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
                <span class="k">return</span>

        <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Standard implementation of a message command group.</p>
</div>


                            <div id="MessageCommandGroup.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MessageCommandGroup</span><span class="signature">(
    callback: ~CommandCallbackSigT,
    name: str,
    /,
    *names: str,
    strict: bool = False,
    _wrapped_command: Optional[<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[Any]] = None
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a message command group.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The command name.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        *names : str</span>
<span class="sd">            Variable positional arguments of other names for the command.</span>
<span class="sd">        strict : bool</span>
<span class="sd">            Whether this command group should only allow commands without spaces in their names.</span>

<span class="sd">            This allows for a more optimised command search pattern to be used and</span>
<span class="sd">            enforces that command names are unique to a single command within the group.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">,</span> <span class="n">_wrapped_command</span><span class="o">=</span><span class="n">_wrapped_command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span> <span class="o">=</span> <span class="n">strict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a message command group.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The command name.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*names</strong> (str):
Variable positional arguments of other names for the command.</li>
<li><p><strong>strict</strong> (bool):
Whether this command group should only allow commands without spaces in their names.</p>

<p>This allows for a more optimised command search pattern to be used and
enforces that command names are unique to a single command within the group.</p></li>
</ul>
</div>


                            </div>
                            <div id="MessageCommandGroup.commands" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageCommandGroup.commands">#&nbsp;&nbsp</a>

        <span class="name">commands</span><span class="annotation">: collections.abc.Collection[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the commands in this group.</p>

<p><em>Note:</em>
This may include command groups.</p>
</div>


                            </div>
                            <div id="MessageCommandGroup.is_strict" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MessageCommandGroup.is_strict">#&nbsp;&nbsp</a>

        <span class="name">is_strict</span><span class="annotation">: bool</span>
    </div>

    
    

                            </div>
                            <div id="MessageCommandGroup.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(
    self: ~_MessageCommandGroupT,
    *,
    parent: Optional[<a href="tanjun/abc.html#MessageCommandGroup">tanjun.abc.MessageCommandGroup</a>[Any]] = None,
    _new: bool = True
) -&gt; ~_MessageCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="n">commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">command</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span> <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">commands</span><span class="p">[</span><span class="n">command</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a copy of this command.</p>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>parent</strong> (MessageCommandGroup[tping.Any] | None):
The parent of the copy.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The copy.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommandGroup.add_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.add_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_command</span><span class="signature">(
    self: ~_MessageCommandGroupT,
    command: <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any],
    /
) -&gt; ~_MessageCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a command to this group.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : MessageCommand</span>
<span class="sd">            The command to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The group instance to enable chained calls.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If one of the command&#39;s names is already registered in a strict</span>
<span class="sd">            command group.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Sub-command names may not contain spaces in a strict message command group&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">name_conflicts</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Sub-command names must be unique in a strict message command group. &quot;</span>
                    <span class="s2">&quot;The following conflicts were found &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">name_conflicts</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">update</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a command to this group.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MessageCommand):
The command to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The group instance to enable chained calls.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If one of the command's names is already registered in a strict
command group.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommandGroup.remove_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.remove_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_command</span><span class="signature">(
    self: ~_MessageCommandGroupT,
    command: <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any],
    /
) -&gt; ~_MessageCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_command</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommandGroup&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="n">command</span><span class="p">:</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="n">command</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a command from this group.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MessageCommand):
The command to remove.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the provided command isn't found.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The group instance to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommandGroup.with_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.with_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_command</span><span class="signature">(self, command: ~_AnyMessageCommandT, /) -&gt; ~_AnyMessageCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">_AnyMessageCommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AnyMessageCommandT</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a command to this group through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (MessageCommand):
The command to add.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>MessageCommand</strong>: The added command.</li>
</ul>
</div>


                            </div>
                            <div id="MessageCommandGroup.bind_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.bind_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_client</span><span class="signature">(
    self: ~_MessageCommandGroupT,
    client: <a href="tanjun/abc.html#Client">tanjun.abc.Client</a>,
    /
) -&gt; ~_MessageCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MessageCommandGroup.bind_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.bind_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_component</span><span class="signature">(
    self: ~_MessageCommandGroupT,
    component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>,
    /
) -&gt; ~_MessageCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_MessageCommandGroupT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_MessageCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MessageCommandGroup.find_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.find_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">find_command</span><span class="signature">(
    self,
    content: str,
    /
) -&gt; collections.abc.Iterable[tuple[str, <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[typing.Any]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">find_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_strict</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_names_to_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">name_</span> <span class="o">:=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">match_prefix_names</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">command</span><span class="o">.</span><span class="n">names</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">name_</span><span class="p">,</span> <span class="n">command</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MessageCommandGroup.execute" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MessageCommandGroup.execute">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>,
    /,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.MessageCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot execute a command with a content-less message&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">hooks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

            <span class="n">hooks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_command</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="p">):</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">content</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">:]</span>
                <span class="n">lstripped_content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
                <span class="n">space_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">lstripped_content</span><span class="p">)</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_triggering_name</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">triggering_name</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">space_len</span><span class="p">)</span> <span class="o">+</span> <span class="n">name</span><span class="p">)</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_content</span><span class="p">(</span><span class="n">lstripped_content</span><span class="p">)</span>
                <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
                <span class="k">return</span>

        <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#MessageCommand">MessageCommand</a></dt>
                                <dd id="MessageCommandGroup.callback" class="variable"><a href="#MessageCommand.callback">callback</a></dd>
                <dd id="MessageCommandGroup.names" class="variable"><a href="#MessageCommand.names">names</a></dd>
                <dd id="MessageCommandGroup.needs_injector" class="variable"><a href="#MessageCommand.needs_injector">needs_injector</a></dd>
                <dd id="MessageCommandGroup.parent" class="variable"><a href="#MessageCommand.parent">parent</a></dd>
                <dd id="MessageCommandGroup.parser" class="variable"><a href="#MessageCommand.parser">parser</a></dd>
                <dd id="MessageCommandGroup.set_parent" class="function"><a href="#MessageCommand.set_parent">set_parent</a></dd>
                <dd id="MessageCommandGroup.set_parser" class="function"><a href="#MessageCommand.set_parser">set_parser</a></dd>
                <dd id="MessageCommandGroup.check_context" class="function"><a href="#MessageCommand.check_context">check_context</a></dd>
                <dd id="MessageCommandGroup.load_into_component" class="function"><a href="#MessageCommand.load_into_component">load_into_component</a></dd>

            </div>
            <div><dt>tanjun.commands.base.PartialCommand</dt>
                                <dd id="MessageCommandGroup.checks" class="variable">checks</dd>
                <dd id="MessageCommandGroup.component" class="variable">component</dd>
                <dd id="MessageCommandGroup.hooks" class="variable">hooks</dd>
                <dd id="MessageCommandGroup.metadata" class="variable">metadata</dd>
                <dd id="MessageCommandGroup.set_hooks" class="function">set_hooks</dd>
                <dd id="MessageCommandGroup.set_metadata" class="function">set_metadata</dd>
                <dd id="MessageCommandGroup.add_check" class="function">add_check</dd>
                <dd id="MessageCommandGroup.remove_check" class="function">remove_check</dd>
                <dd id="MessageCommandGroup.with_check" class="function">with_check</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MessageHooks">
                                <div class="attr variable"><a class="headerlink" href="#MessageHooks">#&nbsp;&nbsp</a>

        <span class="name">MessageHooks</span><span class="default_value"> = <a href="tanjun/hooks.html#Hooks">tanjun.hooks.Hooks</a>[<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>]</span>
    </div>

    
    

                </section>
                <section id="MissingDependencyError">
                                <div class="attr class">
        <a class="headerlink" href="#MissingDependencyError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MissingDependencyError</span><wbr>(<span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MissingDependencyError</span><span class="p">(</span><span class="n">TanjunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised when a dependency couldn&#39;t be found.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,)</span>

    <span class="n">message</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;The error&#39;s message.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a missing dependency error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            The error message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised when a dependency couldn't be found.</p>
</div>


                            <div id="MissingDependencyError.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MissingDependencyError.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MissingDependencyError</span><span class="signature">(message: str)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a missing dependency error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            The error message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a missing dependency error.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str):
The error message.</li>
</ul>
</div>


                            </div>
                            <div id="MissingDependencyError.message" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#MissingDependencyError.message">#&nbsp;&nbsp</a>

        <span class="name">message</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>The error's message.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="MissingDependencyError.with_traceback" class="function">with_traceback</dd>
                <dd id="MissingDependencyError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ModuleMissingLoaders">
                                <div class="attr class">
        <a class="headerlink" href="#ModuleMissingLoaders">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ModuleMissingLoaders</span><wbr>(<span class="base">builtins.RuntimeError</span>, <span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ModuleMissingLoaders</span><span class="p">(</span><span class="ne">RuntimeError</span><span class="p">,</span> <span class="n">TanjunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised when a module is missing loaders or unloaders.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_message&quot;</span><span class="p">,</span> <span class="s2">&quot;_path&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The error message.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The path of the module which is missing loaders or unloaders.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised when a module is missing loaders or unloaders.</p>
</div>


                            <div id="ModuleMissingLoaders.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ModuleMissingLoaders.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ModuleMissingLoaders</span><span class="signature">(message: str, path: Union[str, pathlib.Path], /)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ModuleMissingLoaders.message" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ModuleMissingLoaders.message">#&nbsp;&nbsp</a>

        <span class="name">message</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>The error message.</p>
</div>


                            </div>
                            <div id="ModuleMissingLoaders.path" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ModuleMissingLoaders.path">#&nbsp;&nbsp</a>

        <span class="name">path</span><span class="annotation">: Union[str, pathlib.Path]</span>
    </div>

    
            <div class="docstring"><p>The path of the module which is missing loaders or unloaders.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="ModuleMissingLoaders.with_traceback" class="function">with_traceback</dd>
                <dd id="ModuleMissingLoaders.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ModuleStateConflict">
                                <div class="attr class">
        <a class="headerlink" href="#ModuleStateConflict">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ModuleStateConflict</span><wbr>(<span class="base">builtins.ValueError</span>, <span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ModuleStateConflict</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">TanjunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised when a module cannot be (un)loaded due to a state conflict.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_message&quot;</span><span class="p">,</span> <span class="s2">&quot;_path&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The error message.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_message</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The path of the module which caused the error.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised when a module cannot be (un)loaded due to a state conflict.</p>
</div>


                            <div id="ModuleStateConflict.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ModuleStateConflict.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ModuleStateConflict</span><span class="signature">(message: str, path: Union[str, pathlib.Path], /)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ModuleStateConflict.message" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ModuleStateConflict.message">#&nbsp;&nbsp</a>

        <span class="name">message</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>The error message.</p>
</div>


                            </div>
                            <div id="ModuleStateConflict.path" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ModuleStateConflict.path">#&nbsp;&nbsp</a>

        <span class="name">path</span><span class="annotation">: Union[str, pathlib.Path]</span>
    </div>

    
            <div class="docstring"><p>The path of the module which caused the error.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="ModuleStateConflict.with_traceback" class="function">with_traceback</dd>
                <dd id="ModuleStateConflict.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="NotEnoughArgumentsError">
                                <div class="attr class">
        <a class="headerlink" href="#NotEnoughArgumentsError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">NotEnoughArgumentsError</span><wbr>(<span class="base"><a href="#ParserError">tanjun.ParserError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">NotEnoughArgumentsError</span><span class="p">(</span><span class="n">ParserError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised by the parser when not enough arguments are found for a parameter.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;Name of the parameter this error was raised for.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a not enough arguments error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            The error message.</span>
<span class="sd">        parameter : tanjun.abc.Parameter</span>
<span class="sd">            The parameter this error was raised for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised by the parser when not enough arguments are found for a parameter.</p>
</div>


                            <div id="NotEnoughArgumentsError.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#NotEnoughArgumentsError.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">NotEnoughArgumentsError</span><span class="signature">(message: str, parameter: str, /)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a not enough arguments error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            The error message.</span>
<span class="sd">        parameter : tanjun.abc.Parameter</span>
<span class="sd">            The parameter this error was raised for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a not enough arguments error.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str):
The error message.</li>
<li><strong>parameter</strong> (<a href="tanjun/abc.html#Parameter">tanjun.abc.Parameter</a>):
The parameter this error was raised for.</li>
</ul>
</div>


                            </div>
                            <div id="NotEnoughArgumentsError.parameter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#NotEnoughArgumentsError.parameter">#&nbsp;&nbsp</a>

        <span class="name">parameter</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>Name of the parameter this error was raised for.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ParserError">ParserError</a></dt>
                                <dd id="NotEnoughArgumentsError.message" class="variable"><a href="#ParserError.message">message</a></dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="NotEnoughArgumentsError.with_traceback" class="function">with_traceback</dd>
                <dd id="NotEnoughArgumentsError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ParserError">
                                <div class="attr class">
        <a class="headerlink" href="#ParserError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ParserError</span><wbr>(<span class="base"><a href="#TanjunError">tanjun.TanjunError</a></span>, <span class="base">builtins.ValueError</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ParserError</span><span class="p">(</span><span class="n">TanjunError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base error raised by a parser or parameter during parsing.</span>

<span class="sd">    .. note::</span>
<span class="sd">        Expected errors raised by the parser will subclass this error.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;parameter&quot;</span><span class="p">)</span>

    <span class="n">message</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;String message for this error.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This may be used as a command response message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">parameter</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="sd">&quot;&quot;&quot;Name of the this was raised for.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This will be `builtin.None` if it was raised while parsing the provided</span>
<span class="sd">        message content.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a parser error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            String message for this error.</span>
<span class="sd">        parameter : str | None</span>
<span class="sd">            Name of the parameter which caused this error, should be `None` if not</span>
<span class="sd">            applicable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter</span> <span class="o">=</span> <span class="n">parameter</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span>
</pre></div>

        </details>

            <div class="docstring"><p>Base error raised by a parser or parameter during parsing.</p>

<p><em>Note:</em>
Expected errors raised by the parser will subclass this error.</p>
</div>


                            <div id="ParserError.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ParserError.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ParserError</span><span class="signature">(message: str, parameter: Optional[str], /)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a parser error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            String message for this error.</span>
<span class="sd">        parameter : str | None</span>
<span class="sd">            Name of the parameter which caused this error, should be `None` if not</span>
<span class="sd">            applicable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter</span> <span class="o">=</span> <span class="n">parameter</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a parser error.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str):
String message for this error.</li>
<li><strong>parameter</strong> (str | None):
Name of the parameter which caused this error, should be <code>None</code> if not
applicable.</li>
</ul>
</div>


                            </div>
                            <div id="ParserError.message" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ParserError.message">#&nbsp;&nbsp</a>

        <span class="name">message</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>String message for this error.</p>

<p><em>Note:</em>
This may be used as a command response message.</p>
</div>


                            </div>
                            <div id="ParserError.parameter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ParserError.parameter">#&nbsp;&nbsp</a>

        <span class="name">parameter</span><span class="annotation">: Optional[str]</span>
    </div>

    
            <div class="docstring"><p>Name of the this was raised for.</p>

<p><em>Note:</em>
This will be <code>builtin.None</code> if it was raised while parsing the provided
message content.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="ParserError.with_traceback" class="function">with_traceback</dd>
                <dd id="ParserError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ShlexParser">
                                <div class="attr class">
        <a class="headerlink" href="#ShlexParser">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ShlexParser</span><wbr>(<span class="base"><a href="tanjun/parsing.html#AbstractOptionParser">tanjun.parsing.AbstractOptionParser</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ShlexParser</span><span class="p">(</span><span class="n">AbstractOptionParser</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A shlex based `AbstractOptionParser` implementation.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_arguments&quot;</span><span class="p">,</span> <span class="s2">&quot;_client&quot;</span><span class="p">,</span> <span class="s2">&quot;_component&quot;</span><span class="p">,</span> <span class="s2">&quot;_options&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a shlex parser.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Argument</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Option</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># TODO: maybe switch to dict[str, Option] and assert doesn&#39;t already exist</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">needs_injector</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Whether this parser needs an injector to be used.&quot;&quot;&quot;</span>
        <span class="c1"># TODO: cache this value?</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">parameter</span><span class="o">.</span><span class="n">needs_injector</span> <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Argument</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">Option</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">argument</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">argument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_options</span> <span class="o">=</span> <span class="p">[</span><span class="n">option</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">]</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_argument</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">greedy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_argument</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">greedy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_argument</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">_CmpProtoT</span><span class="p">]],</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">greedy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProtoT</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProtoT</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_argument</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">_T</span><span class="p">]],</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">greedy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">add_argument</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">greedy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span>
            <span class="n">key</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">greedy</span><span class="o">=</span><span class="n">greedy</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">multi</span><span class="o">=</span><span class="n">multi</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">argument</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">:</span>
            <span class="n">argument</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">argument_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">argument_</span><span class="o">.</span><span class="n">is_multi</span> <span class="ow">or</span> <span class="n">argument_</span><span class="o">.</span><span class="n">is_greedy</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Multi or greedy argument must be the last argument&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
        <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
        <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">_CmpProtoT</span><span class="p">]],</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
        <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProtoT</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProtoT</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@typing</span><span class="o">.</span><span class="n">overload</span>
    <span class="k">def</span> <span class="nf">add_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">_T</span><span class="p">]],</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
        <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="c1"># TODO: add default getter</span>
    <span class="k">def</span> <span class="nf">add_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
        <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="n">option</span> <span class="o">=</span> <span class="n">Option</span><span class="p">(</span>
            <span class="n">key</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="o">*</span><span class="n">names</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">empty_value</span><span class="o">=</span><span class="n">empty_value</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">multi</span><span class="o">=</span><span class="n">multi</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">):</span>
            <span class="n">parameter</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_component</span> <span class="o">=</span> <span class="n">component</span>
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">):</span>
            <span class="n">parameter</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_SemanticShlex</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>A shlex based <code>AbstractOptionParser</code> implementation.</p>
</div>


                            <div id="ShlexParser.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ShlexParser.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ShlexParser</span><span class="signature">()</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a shlex parser.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Argument</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Option</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># TODO: maybe switch to dict[str, Option] and assert doesn&#39;t already exist</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a shlex parser.</p>
</div>


                            </div>
                            <div id="ShlexParser.needs_injector" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ShlexParser.needs_injector">#&nbsp;&nbsp</a>

        <span class="name">needs_injector</span><span class="annotation">: bool</span>
    </div>

    
            <div class="docstring"><p>Whether this parser needs an injector to be used.</p>
</div>


                            </div>
                            <div id="ShlexParser.arguments" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ShlexParser.arguments">#&nbsp;&nbsp</a>

        <span class="name">arguments</span><span class="annotation">: collections.abc.Sequence[<a href="tanjun/parsing.html#Argument">tanjun.parsing.Argument</a>]</span>
    </div>

    
            <div class="docstring"><p>Sequence of the positional arguments registered with this parser.</p>
</div>


                            </div>
                            <div id="ShlexParser.options" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#ShlexParser.options">#&nbsp;&nbsp</a>

        <span class="name">options</span><span class="annotation">: collections.abc.Sequence[<a href="tanjun/parsing.html#Option">tanjun.parsing.Option</a>]</span>
    </div>

    
            <div class="docstring"><p>Sequence of the named options registered with this parser.</p>
</div>


                            </div>
                            <div id="ShlexParser.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ShlexParser.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(self: ~_ShlexParserT, *, _new: bool = True) -&gt; ~_ShlexParserT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">argument</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">argument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_options</span> <span class="o">=</span> <span class="p">[</span><span class="n">option</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">]</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Copy the parser.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: A copy of the parser.</li>
</ul>
</div>


                            </div>
                            <div id="ShlexParser.add_argument" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ShlexParser.add_argument">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_argument</span><span class="signature">(
    self: ~_ShlexParserT,
    key: str,
    /,
    converters: Union[collections.abc.Iterable[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    *,
    default: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, Any] = UNDEFINED,
    greedy: bool = False,
    max_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    min_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    multi: bool = False
) -&gt; ~_ShlexParserT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_argument</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">greedy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span>
            <span class="n">key</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">greedy</span><span class="o">=</span><span class="n">greedy</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">multi</span><span class="o">=</span><span class="n">multi</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">argument</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">:</span>
            <span class="n">argument</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">argument_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">argument_</span><span class="o">.</span><span class="n">is_multi</span> <span class="ow">or</span> <span class="n">argument_</span><span class="o">.</span><span class="n">is_greedy</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Multi or greedy argument must be the last argument&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a positional argument type to the parser..</p>

<p><em>Note:</em>
Order matters for positional arguments.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (str):
The string identifier of this argument (may be used to pass the result
of this argument to the command's callback during execution).</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>converters</strong> (ConverterSig | collections.abc.Iterable[ConverterSig]):
The converter(s) this argument should use to handle values passed to it
during parsing.</p>

<p>If no converters are provided then the raw string value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>default</strong> (typing.Any):
The default value of this argument, if left as
<code>UNDEFINED</code> then this will have no default.</li>
<li><strong>greedy</strong> (bool):
Whether or not this argument should be greedy (meaning that it
takes in the remaining argument values).</li>
<li><strong>max_value</strong>: Assert that the parsed value(s) for this argument are less than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>min_value</strong>: Assert that the parsed value(s) for this argument are greater than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>multi</strong> (bool):
Whether this argument can be passed multiple times.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This parser to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="ShlexParser.add_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ShlexParser.add_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_option</span><span class="signature">(
    self: ~_ShlexParserT,
    key: str,
    name: str,
    /,
    *names: str,
    converters: Union[collections.abc.Iterable[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any,
    empty_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, Any] = UNDEFINED,
    max_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    min_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    multi: bool = False
) -&gt; ~_ShlexParserT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
        <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="n">option</span> <span class="o">=</span> <span class="n">Option</span><span class="p">(</span>
            <span class="n">key</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="o">*</span><span class="n">names</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">empty_value</span><span class="o">=</span><span class="n">empty_value</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">multi</span><span class="o">=</span><span class="n">multi</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_component</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an named option to this parser.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (str):
The string identifier of this option which will be used to pass the
result of this option to the command's callback during execution as
a keyword argument.</li>
<li><strong>name</strong> (str):
The name of this option used for identifying it in the parsed content.</li>
<li><strong>default</strong> (typing.Any):
The default value of this option, unlike arguments this is required
for options.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*names</strong> (str):
Other names of this option used for identifying it in the parsed content.</li>
<li><p><strong>converters</strong> (ConverterSig | collections.abc.Iterable[ConverterSig]):
The converter(s) this option should use to handle values passed to it
during parsing.</p>

<p>If no converters are provided then the raw string value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>empty_value</strong> (typing.Any):
The value to use if this option is provided without a value.
If left as <code>UNDEFINED</code> then this option will error if it's
provided without a value.</li>
<li><strong>max_value</strong>: Assert that the parsed value(s) for this option are less than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>min_value</strong>: Assert that the parsed value(s) for this option are greater than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>multi</strong> (bool):
If this option can be provided multiple times.
Defaults to <code>False</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: This parser to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="ShlexParser.bind_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ShlexParser.bind_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_client</span><span class="signature">(self: ~_ShlexParserT, client: <a href="tanjun/abc.html#Client">tanjun.abc.Client</a>, /) -&gt; ~_ShlexParserT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">):</span>
            <span class="n">parameter</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ShlexParser.bind_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ShlexParser.bind_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_component</span><span class="signature">(
    self: ~_ShlexParserT,
    component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>,
    /
) -&gt; ~_ShlexParserT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_component</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_ShlexParserT</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ShlexParserT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_component</span> <span class="o">=</span> <span class="n">component</span>
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">):</span>
            <span class="n">parameter</span><span class="o">.</span><span class="n">bind_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="ShlexParser.parse" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ShlexParser.parse">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">parse</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>,
    /
) -&gt; collections.abc.Coroutine[typing.Any, typing.Any, dict[str, typing.Any]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Coroutine</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from AbstractOptionParser&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">_SemanticShlex</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arguments</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Parse a message context.</p>

<p><em>Warning:</em>
This relies on the prefix and command name(s) having been removed
from <code><a href="tanjun/abc.html#MessageContext.content">tanjun.abc.MessageContext.content</a></code></p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ctx</strong> (<a href="tanjun/abc.html#MessageContext">tanjun.abc.MessageContext</a>):
The message context to parse.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>dict[str, typing.Any]</strong>: Dictionary of argument names to the parsed values for them.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong><a href="tanjun/errors.html#ParserError">tanjun.errors.ParserError</a></strong>: If the message could not be parsed.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="SlashCommand">
                                <div class="attr class">
        <a class="headerlink" href="#SlashCommand">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SlashCommand</span><wbr>(<span class="base">tanjun.commands.slash.BaseSlashCommand</span>, <span class="base"><a href="tanjun/abc.html#SlashCommand">tanjun.abc.SlashCommand[~CommandCallbackSigT]</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SlashCommand</span><span class="p">(</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Standard implementation of a slash command.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;_always_defer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_builder&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_callback&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_client&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_float_autocompletes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_int_autocompletes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_str_autocompletes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_tracked_options&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_wrapped_command&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">always_defer</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">sort_options</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Initialise a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Under the standard implementation, `is_global` is used to determine whether</span>
<span class="sd">            the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">            or when `declare_global_commands` is True</span>

<span class="sd">        .. warning::</span>
<span class="sd">            `default_permission` and `is_global` are ignored for commands within</span>
<span class="sd">            slash command groups.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : collections.abc.Callable[[tanjun.abc.SlashContext, ...], collections.abc.Awaitable[None]]</span>
<span class="sd">            Callback to execute when the command is invoked.</span>

<span class="sd">            This should be an asynchronous callback which takes one positional</span>
<span class="sd">            argument of type `tanjun.abc.SlashContext`, returns `None` and may use</span>
<span class="sd">            dependency injection to access other services.</span>
<span class="sd">        name : str</span>
<span class="sd">            The command&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The command&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        always_defer : bool</span>
<span class="sd">            Whether the contexts this command is executed with should always be deferred</span>
<span class="sd">            before being passed to the command&#39;s callback.</span>

<span class="sd">            Defaults to `False`.</span>

<span class="sd">            .. note::</span>
<span class="sd">                The ephemeral state of the first response is decided by whether the</span>
<span class="sd">                deferral is ephemeral.</span>
<span class="sd">        default_permission : bool</span>
<span class="sd">            Whether this command can be accessed without set permissions.</span>

<span class="sd">            Defaults to `True`, meaning that users can access the command by default.</span>
<span class="sd">        default_to_ephemeral : bool | None</span>
<span class="sd">            Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">            are set to override this.</span>

<span class="sd">            If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">            component or client will be in effect.</span>
<span class="sd">        is_global : bool</span>
<span class="sd">            Whether this command is a global command. Defaults to `True`.</span>
<span class="sd">        sort_options : bool</span>
<span class="sd">            Whether this command should sort its set options based on whether</span>
<span class="sd">            they&#39;re required.</span>

<span class="sd">            If this is `True` then the options are re-sorted to meet the requirement</span>
<span class="sd">            from Discord that required command options be listed before optional</span>
<span class="sd">            ones.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the command name has uppercase characters.</span>
<span class="sd">            * If the description is over 100 characters long.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="n">default_to_ephemeral</span><span class="p">,</span> <span class="n">is_global</span><span class="o">=</span><span class="n">is_global</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span> <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="o">=</span> <span class="n">always_defer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span> <span class="o">=</span> <span class="n">_SlashCommandBuilder</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">sort_options</span><span class="p">)</span><span class="o">.</span><span class="n">set_default_permission</span><span class="p">(</span><span class="n">default_permission</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">](</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_TrackedOption</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="o">=</span> <span class="n">_wrapped_command</span>

    <span class="k">if</span> <span class="n">typing</span><span class="o">.</span><span class="n">TYPE_CHECKING</span><span class="p">:</span>
        <span class="fm">__call__</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span>

    <span class="k">else</span><span class="p">:</span>

        <span class="k">async</span> <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.SlashCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">float_autocompletes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.SlashCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">int_autocompletes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">str_autocompletes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.SlashCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">needs_injector</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">needs_injector</span>
            <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">needs_injector</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="ow">or</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">needs_injector</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">option</span><span class="o">.</span><span class="n">check_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">special_endpoints_api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">AbstractComponentLoader</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">type_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">STRING</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">always_float</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">channel_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="kc">None</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">only_member</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="n">_validate_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">description</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The option description cannot be over 100 characters in length&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">options</span><span class="p">)</span> <span class="o">==</span> <span class="mi">25</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Slash commands cannot have more than 25 options&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">min_value</span> <span class="ow">and</span> <span class="n">max_value</span> <span class="ow">and</span> <span class="n">min_value</span> <span class="o">&gt;</span> <span class="n">max_value</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The min value cannot be greater than the max value&quot;</span><span class="p">)</span>

        <span class="n">type_</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">converters</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">):</span>
            <span class="n">converters_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_convert_to_injectable</span><span class="p">,</span> <span class="n">converters</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">converters_</span> <span class="o">=</span> <span class="p">[</span><span class="n">_convert_to_injectable</span><span class="p">(</span><span class="n">converters</span><span class="p">)]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">converter</span> <span class="ow">in</span> <span class="n">converters_</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">callback</span><span class="p">,</span> <span class="n">conversion</span><span class="o">.</span><span class="n">BaseConverter</span><span class="p">):</span>
                    <span class="n">converter</span><span class="o">.</span><span class="n">callback</span><span class="o">.</span><span class="n">check_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="si">}</span><span class="s2">&#39;s slash option &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choices</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">actual_choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandChoice</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">choices</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandChoice</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">choices</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Passing a sequence of tuples to `choices` is deprecated since 2.1.2a1, &quot;</span>
                <span class="s2">&quot;please pass a mapping instead.&quot;</span><span class="p">,</span>
                <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span> <span class="o">+</span> <span class="n">_stack_level</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandChoice</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">actual_choices</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">actual_choices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Slash command options cannot have more than 25 choices&quot;</span><span class="p">)</span>

        <span class="n">required</span> <span class="o">=</span> <span class="n">default</span> <span class="ow">is</span> <span class="n">UNDEFINED_DEFAULT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">CommandOption</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">type_</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">is_required</span><span class="o">=</span><span class="n">required</span><span class="p">,</span>
                <span class="n">choices</span><span class="o">=</span><span class="n">actual_choices</span><span class="p">,</span>
                <span class="n">channel_types</span><span class="o">=</span><span class="n">channel_types</span><span class="p">,</span>
                <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
                <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
                <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">pass_as_kwarg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">_TrackedOption</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">option_type</span><span class="o">=</span><span class="n">type_</span><span class="p">,</span>
                <span class="n">always_float</span><span class="o">=</span><span class="n">always_float</span><span class="p">,</span>
                <span class="n">converters</span><span class="o">=</span><span class="n">converters_</span><span class="p">,</span>
                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                <span class="n">only_member</span><span class="o">=</span><span class="n">only_member</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_str_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a string option to the slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            As a shorthand, `choices` also supports passing a list of strings</span>
<span class="sd">            rather than a dict of names to values (each string will used as</span>
<span class="sd">            both the choice&#39;s name and value with the names being capitalised).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>
<span class="sd">        choices : collections.abc.Mapping[str, str] | collections.abc.Sequence[str] | None</span>
<span class="sd">            The option&#39;s choices.</span>

<span class="sd">            This either a mapping of [option_name, option_value] where both option_name</span>
<span class="sd">            and option_value should be strings of up to 100 characters or a sequence</span>
<span class="sd">            of strings where the string will be used for both the choice&#39;s name and</span>
<span class="sd">            value.</span>
<span class="sd">        converters : collections.abc.Sequence[ConverterSig] | ConverterSig</span>
<span class="sd">            The option&#39;s converters.</span>

<span class="sd">            This may be either one or multiple `ConverterSig` callbacks used to</span>
<span class="sd">            convert the option&#39;s value to the final form.</span>
<span class="sd">            If no converters are provided then the raw value will be passed.</span>

<span class="sd">            Only the first converter to pass will be used.</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used and the `coverters` field will be ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">choices</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">choices</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="n">choices</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">warned</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">choice</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>  <span class="c1"># type: ignore[unreachable]  # the point of this is for deprecation</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">warned</span><span class="p">:</span>  <span class="c1"># type: ignore[unreachable]  # mypy sees `warned = True` and messes up.</span>
                        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                            <span class="s2">&quot;Passing a sequence of tuples for &#39;choices&#39; is deprecated since 2.1.2a1, &quot;</span>
                            <span class="s2">&quot;please pass a mapping instead.&quot;</span><span class="p">,</span>
                            <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
                            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span> <span class="o">+</span> <span class="n">_stack_level</span><span class="p">,</span>
                        <span class="p">)</span>
                        <span class="n">warned</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="n">actual_choices</span><span class="p">[</span><span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">actual_choices</span><span class="p">[</span><span class="n">choice</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()]</span> <span class="o">=</span> <span class="n">choice</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">STRING</span><span class="p">,</span>
            <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="n">actual_choices</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">autocomplete</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_int_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add an integer option to the slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `int`.</span>
<span class="sd">        choices : collections.abc.Mapping[str, int] | None</span>
<span class="sd">            The option&#39;s choices.</span>

<span class="sd">            This is a mapping of [option_name, option_value] where option_name</span>
<span class="sd">            should be a string of up to 100 characters and option_value should</span>
<span class="sd">            be an integer.</span>
<span class="sd">        converters : collections.abc.Sequence[ConverterSig] | ConverterSig | None</span>
<span class="sd">            The option&#39;s converters.</span>

<span class="sd">            This may be either one or multiple `ConverterSig` callbacks used to</span>
<span class="sd">            convert the option&#39;s value to the final form.</span>
<span class="sd">            If no converters are provided then the raw value will be passed.</span>

<span class="sd">            Only the first converter to pass will be used.</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        min_value : int | None</span>
<span class="sd">            The option&#39;s (inclusive) minimum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        max_value : int | None</span>
<span class="sd">            The option&#39;s (inclusive) maximum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used and the `coverters` field will be ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">            * If `min_value` is greater than `max_value`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
            <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="n">_stack_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">autocomplete</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_float_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">always_float</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a float option to a slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        always_float : bool</span>
<span class="sd">            If this is set to `True` then the value will always be converted to a</span>
<span class="sd">            float (this will happen before it&#39;s passed to converters).</span>

<span class="sd">            This masks behaviour from Discord where we will either be provided a `float`</span>
<span class="sd">            or `int` dependent on what the user provided and defaults to `True`.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `float`.</span>
<span class="sd">        choices : collections.abc.Mapping[str, float] | None</span>
<span class="sd">            The option&#39;s choices.</span>

<span class="sd">            This is a mapping of [option_name, option_value] where option_name</span>
<span class="sd">            should be a string of up to 100 characters and option_value should</span>
<span class="sd">            be a float.</span>
<span class="sd">        converters : collections.abc.Sequence[ConverterSig] | ConverterSig | None</span>
<span class="sd">            The option&#39;s converters.</span>

<span class="sd">            This may be either one or multiple `ConverterSig` callbacks used to</span>
<span class="sd">            convert the option&#39;s value to the final form.</span>
<span class="sd">            If no converters are provided then the raw value will be passed.</span>

<span class="sd">            Only the first converter to pass will be used.</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        min_value : float | None</span>
<span class="sd">            The option&#39;s (inclusive) minimum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        max_value : float | None</span>
<span class="sd">            The option&#39;s (inclusive) maximum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used and the fields `coverters`, and `always_float` will be</span>
<span class="sd">            ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">            * If `min_value` is greater than `max_value`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">,</span>
            <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">min_value</span><span class="p">)</span> <span class="k">if</span> <span class="n">min_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">max_value</span><span class="p">)</span> <span class="k">if</span> <span class="n">max_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
            <span class="n">always_float</span><span class="o">=</span><span class="n">always_float</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="n">_stack_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">autocomplete</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_bool_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a boolean option to a slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">BOOLEAN</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_user_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a user option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This may result in `hikari.InteractionMember` or</span>
<span class="sd">            `hikari.users.User` if the user isn&#39;t in the current guild or if this</span>
<span class="sd">            command was executed in a DM channel.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_member_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a member option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will always result in `hikari.InteractionMember`.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Unlike the other options, this is an artificial option which adds</span>
<span class="sd">            a restraint to the USER option type and therefore cannot have</span>
<span class="sd">            `pass_as_kwarg` set to `False` as this artificial constaint isn&#39;t</span>
<span class="sd">            present when its not being passed as a keyword argument.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">only_member</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_channel_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialChannel</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a channel option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will always result in `hikari.InteractionChannel`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        types : collections.abc.Collection[type[hikari.PartialChannel]] | None</span>
<span class="sd">            A collection of the channel classes this option should accept.</span>

<span class="sd">            If left as `None` or empty then the option will allow all channel types.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">            * If an invalid type is passed in `types`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">itertools</span>

        <span class="k">if</span> <span class="n">types</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">channel_types</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_channel_types</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">,</span> <span class="n">types</span><span class="p">))))</span>

            <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown channel type </span><span class="si">{</span><span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">channel_types</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">CHANNEL</span><span class="p">,</span>
            <span class="n">channel_types</span><span class="o">=</span><span class="n">channel_types</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_role_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a role option to a slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">ROLE</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_mentionable_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a mentionable option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This may target roles, guild members or users and results in</span>
<span class="sd">            `Union[hikari.User, hikari.InteractionMember, hikari.Role]`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">MENTIONABLE</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_float_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a float option.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `float`.</span>

<span class="sd">            Passing `None` here will remove the autocomplete callback for the</span>
<span class="sd">            option.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `float`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Option not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Option is not a float option&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_float_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_AutocompleteCallbackSigT</span><span class="p">],</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a float option through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Collections.abc.Callable[[tanjun.abc.AutocompleteCallbackSig], tanjun.abc.AutocompleteCallbackSig]</span>
<span class="sd">            Decorator callback used to capture the autocomplete callback.</span>

<span class="sd">            More information on the autocomplete signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `float`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `float`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_float_autocomplete</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>

    <span class="k">def</span> <span class="nf">set_int_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a string option.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>

<span class="sd">            Passing `None` here will remove the autocomplete callback for the</span>
<span class="sd">            option.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `str`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Option not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Option is not a int option&quot;</span><span class="p">)</span>

        <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_int_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_AutocompleteCallbackSigT</span><span class="p">],</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a integer option through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Collections.abc.Callable[[tanjun.abc.AutocompleteCallbackSig], tanjun.abc.AutocompleteCallbackSig]</span>
<span class="sd">            Decorator callback used to capture the autocomplete callback.</span>

<span class="sd">            More information on the autocomplete signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `int`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `int`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_int_autocomplete</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>

    <span class="k">def</span> <span class="nf">set_str_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a str option.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>

<span class="sd">            Passing `None` here will remove the autocomplete callback for the</span>
<span class="sd">            option.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `str`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Option not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">STRING</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Option is not a str option&quot;</span><span class="p">)</span>

        <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_str_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_AutocompleteCallbackSigT</span><span class="p">],</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a string option through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Collections.abc.Callable[[tanjun.abc.AutocompleteCallbackSig], tanjun.abc.AutocompleteCallbackSig]</span>
<span class="sd">            Decorator callback used to capture the autocomplete callback.</span>

<span class="sd">            More information on the autocomplete signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `str`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_str_autocomplete</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_process_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
        <span class="n">keyword_args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">User</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Role</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionChannel</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">tracked_option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">option</span> <span class="o">:=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tracked_option</span><span class="o">.</span><span class="n">name</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>  <span class="c1"># TODO: ConversionError?</span>
                        <span class="sa">f</span><span class="s2">&quot;Required option </span><span class="si">{</span><span class="n">tracked_option</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is missing data, are you sure your commands&quot;</span>
                        <span class="s2">&quot; are up to date?&quot;</span>
                    <span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">keyword_args</span><span class="p">[</span><span class="n">tracked_option</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">default</span>

            <span class="k">elif</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
                <span class="n">member</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">InteractionMember</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">is_only_member</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">member</span> <span class="o">:=</span> <span class="n">option</span><span class="o">.</span><span class="n">resolve_to_member</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)):</span>
                    <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ConversionError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Couldn&#39;t find member for provided user: </span><span class="si">{</span><span class="n">option</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">name</span>
                    <span class="p">)</span>

                <span class="n">keyword_args</span><span class="p">[</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">member</span> <span class="ow">or</span> <span class="n">option</span><span class="o">.</span><span class="n">resolve_to_user</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">CHANNEL</span><span class="p">:</span>
                <span class="n">keyword_args</span><span class="p">[</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">resolve_to_channel</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">ROLE</span><span class="p">:</span>
                <span class="n">keyword_args</span><span class="p">[</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">resolve_to_role</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">MENTIONABLE</span><span class="p">:</span>
                <span class="n">keyword_args</span><span class="p">[</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">resolve_to_mentionable</span><span class="p">()</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">value</span>
                <span class="c1"># To be type safe we obfuscate the fact that discord&#39;s double type will provide an int or float</span>
                <span class="c1"># depending on the value Discord inputs by always casting to float.</span>
                <span class="k">if</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">FLOAT</span> <span class="ow">and</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">is_always_float</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">converters</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="n">tracked_option</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

                <span class="n">keyword_args</span><span class="p">[</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">return</span> <span class="n">keyword_args</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_been_deferred</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_responded</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">defer</span><span class="p">()</span>

        <span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">own_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">or</span> <span class="n">_EMPTY_HOOKS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_args</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="n">_EMPTY_DICT</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="c1"># Unlike a message command, this won&#39;t necessarily reach the client level try except</span>
            <span class="c1"># block so we have to handle this here.</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">STRING</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Autocomplete isn&#39;t implemented for &#39;</span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&#39; option yet.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No autocomplete callback found for &#39;</span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; option&quot;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">AbstractInjectionContext</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">callback</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Standard implementation of a slash command.</p>
</div>


                            <div id="SlashCommand.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SlashCommand</span><span class="signature">(
    callback: ~CommandCallbackSigT,
    name: str,
    description: str,
    /,
    *,
    always_defer: bool = False,
    default_permission: bool = True,
    default_to_ephemeral: Optional[bool] = None,
    is_global: bool = True,
    sort_options: bool = True,
    _wrapped_command: Optional[<a href="tanjun/abc.html#ExecutableCommand">tanjun.abc.ExecutableCommand</a>[Any]] = None
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">always_defer</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">sort_options</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_wrapped_command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">ExecutableCommand</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Initialise a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Under the standard implementation, `is_global` is used to determine whether</span>
<span class="sd">            the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">            or when `declare_global_commands` is True</span>

<span class="sd">        .. warning::</span>
<span class="sd">            `default_permission` and `is_global` are ignored for commands within</span>
<span class="sd">            slash command groups.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        callback : collections.abc.Callable[[tanjun.abc.SlashContext, ...], collections.abc.Awaitable[None]]</span>
<span class="sd">            Callback to execute when the command is invoked.</span>

<span class="sd">            This should be an asynchronous callback which takes one positional</span>
<span class="sd">            argument of type `tanjun.abc.SlashContext`, returns `None` and may use</span>
<span class="sd">            dependency injection to access other services.</span>
<span class="sd">        name : str</span>
<span class="sd">            The command&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The command&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        always_defer : bool</span>
<span class="sd">            Whether the contexts this command is executed with should always be deferred</span>
<span class="sd">            before being passed to the command&#39;s callback.</span>

<span class="sd">            Defaults to `False`.</span>

<span class="sd">            .. note::</span>
<span class="sd">                The ephemeral state of the first response is decided by whether the</span>
<span class="sd">                deferral is ephemeral.</span>
<span class="sd">        default_permission : bool</span>
<span class="sd">            Whether this command can be accessed without set permissions.</span>

<span class="sd">            Defaults to `True`, meaning that users can access the command by default.</span>
<span class="sd">        default_to_ephemeral : bool | None</span>
<span class="sd">            Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">            are set to override this.</span>

<span class="sd">            If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">            component or client will be in effect.</span>
<span class="sd">        is_global : bool</span>
<span class="sd">            Whether this command is a global command. Defaults to `True`.</span>
<span class="sd">        sort_options : bool</span>
<span class="sd">            Whether this command should sort its set options based on whether</span>
<span class="sd">            they&#39;re required.</span>

<span class="sd">            If this is `True` then the options are re-sorted to meet the requirement</span>
<span class="sd">            from Discord that required command options be listed before optional</span>
<span class="sd">            ones.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the command name has uppercase characters.</span>
<span class="sd">            * If the description is over 100 characters long.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="n">default_to_ephemeral</span><span class="p">,</span> <span class="n">is_global</span><span class="o">=</span><span class="n">is_global</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">,</span> <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="o">=</span> <span class="n">always_defer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span> <span class="o">=</span> <span class="n">_SlashCommandBuilder</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">sort_options</span><span class="p">)</span><span class="o">.</span><span class="n">set_default_permission</span><span class="p">(</span><span class="n">default_permission</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">](</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_TrackedOption</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="o">=</span> <span class="n">_wrapped_command</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a slash command.</p>

<p><em>Note:</em>
Under the standard implementation, <code><a href="#SlashCommand.is_global">is_global</a></code> is used to determine whether
the command should be bulk set by <code><a href="#Client.declare_global_commands">tanjun.Client.declare_global_commands</a></code>
or when <code>declare_global_commands</code> is True</p>

<p><em>Warning:</em>
<code>default_permission</code> and <code><a href="#SlashCommand.is_global">is_global</a></code> are ignored for commands within
slash command groups.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (collections.abc.Callable[[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>, ...], collections.abc.Awaitable[None]]):
Callback to execute when the command is invoked.</p>

<p>This should be an asynchronous callback which takes one positional
argument of type <code><a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a></code>, returns <code>None</code> and may use
dependency injection to access other services.</p></li>
<li><p><strong>name</strong> (str):
The command's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The command's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>always_defer</strong> (bool):
Whether the contexts this command is executed with should always be deferred
before being passed to the command's callback.</p>

<p>Defaults to <code>False</code>.</p>

<p><em>Note:</em>
The ephemeral state of the first response is decided by whether the
deferral is ephemeral.</p></li>
<li><p><strong>default_permission</strong> (bool):
Whether this command can be accessed without set permissions.</p>

<p>Defaults to <code>True</code>, meaning that users can access the command by default.</p></li>
<li><p><strong>default_to_ephemeral</strong> (bool | None):
Whether this command's responses should default to ephemeral unless flags
are set to override this.</p>

<p>If this is left as <code>None</code> then the default set on the parent command(s),
component or client will be in effect.</p></li>
<li><strong>is_global</strong> (bool):
Whether this command is a global command. Defaults to <code>True</code>.</li>
<li><p><strong>sort_options</strong> (bool):
Whether this command should sort its set options based on whether
they're required.</p>

<p>If this is <code>True</code> then the options are re-sorted to meet the requirement
from Discord that required command options be listed before optional
ones.</p></li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the command name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the command name has uppercase characters.</li>
<li>If the description is over 100 characters long.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.callback" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SlashCommand.callback">#&nbsp;&nbsp</a>

        <span class="name">callback</span><span class="annotation">: ~CommandCallbackSigT</span>
    </div>

    
            <div class="docstring"><p>Callback which is called during execution.</p>
</div>


                            </div>
                            <div id="SlashCommand.float_autocompletes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SlashCommand.float_autocompletes">#&nbsp;&nbsp</a>

        <span class="name">float_autocompletes</span><span class="annotation">: collections.abc.Mapping[str, collections.abc.Callable[..., collections.abc.Awaitable[None]]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the float option autocompletes.</p>
</div>


                            </div>
                            <div id="SlashCommand.int_autocompletes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SlashCommand.int_autocompletes">#&nbsp;&nbsp</a>

        <span class="name">int_autocompletes</span><span class="annotation">: collections.abc.Mapping[str, collections.abc.Callable[..., collections.abc.Awaitable[None]]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the integer option autocompletes.</p>
</div>


                            </div>
                            <div id="SlashCommand.str_autocompletes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SlashCommand.str_autocompletes">#&nbsp;&nbsp</a>

        <span class="name">str_autocompletes</span><span class="annotation">: collections.abc.Mapping[str, collections.abc.Callable[..., collections.abc.Awaitable[None]]]</span>
    </div>

    
            <div class="docstring"><p>Collection of the string option autocompletes.</p>
</div>


                            </div>
                            <div id="SlashCommand.needs_injector" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SlashCommand.needs_injector">#&nbsp;&nbsp</a>

        <span class="name">needs_injector</span><span class="annotation">: bool</span>
    </div>

    
    

                            </div>
                            <div id="SlashCommand.bind_client" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.bind_client">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">bind_client</span><span class="signature">(
    self: ~_SlashCommandT,
    client: <a href="tanjun/abc.html#Client">tanjun.abc.Client</a>,
    /
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">bind_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">option</span><span class="o">.</span><span class="n">check_client</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SlashCommand.build" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.build">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">build</span><span class="signature">(self) -&gt; hikari.api.special_endpoints.SlashCommandBuilder</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">special_endpoints_api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a builder object for this command.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.api.SlashCommandBuilder</strong>: A builder object for this command. Use to declare this command on
globally or for a specific guild.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.load_into_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.load_into_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">load_into_component</span><span class="signature">(self, component: <a href="tanjun/abc.html#Component">tanjun.abc.Component</a>, /) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">load_into_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">AbstractComponentLoader</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped_command</span><span class="o">.</span><span class="n">load_into_component</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Load the object into the component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>component</strong> (<a href="tanjun/abc.html#Component">tanjun.abc.Component</a>):
The component this object should be loaded into.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_str_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_str_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_str_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    autocomplete: Optional[collections.abc.Callable[..., collections.abc.Awaitable[None]]] = None,
    choices: Union[collections.abc.Mapping[str, str], collections.abc.Sequence[str], NoneType] = None,
    converters: Union[collections.abc.Sequence[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True,
    _stack_level: int = 0
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_str_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a string option to the slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            As a shorthand, `choices` also supports passing a list of strings</span>
<span class="sd">            rather than a dict of names to values (each string will used as</span>
<span class="sd">            both the choice&#39;s name and value with the names being capitalised).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>
<span class="sd">        choices : collections.abc.Mapping[str, str] | collections.abc.Sequence[str] | None</span>
<span class="sd">            The option&#39;s choices.</span>

<span class="sd">            This either a mapping of [option_name, option_value] where both option_name</span>
<span class="sd">            and option_value should be strings of up to 100 characters or a sequence</span>
<span class="sd">            of strings where the string will be used for both the choice&#39;s name and</span>
<span class="sd">            value.</span>
<span class="sd">        converters : collections.abc.Sequence[ConverterSig] | ConverterSig</span>
<span class="sd">            The option&#39;s converters.</span>

<span class="sd">            This may be either one or multiple `ConverterSig` callbacks used to</span>
<span class="sd">            convert the option&#39;s value to the final form.</span>
<span class="sd">            If no converters are provided then the raw value will be passed.</span>

<span class="sd">            Only the first converter to pass will be used.</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used and the `coverters` field will be ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">choices</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">choices</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="n">choices</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">actual_choices</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">warned</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">choice</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>  <span class="c1"># type: ignore[unreachable]  # the point of this is for deprecation</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">warned</span><span class="p">:</span>  <span class="c1"># type: ignore[unreachable]  # mypy sees `warned = True` and messes up.</span>
                        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                            <span class="s2">&quot;Passing a sequence of tuples for &#39;choices&#39; is deprecated since 2.1.2a1, &quot;</span>
                            <span class="s2">&quot;please pass a mapping instead.&quot;</span><span class="p">,</span>
                            <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
                            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span> <span class="o">+</span> <span class="n">_stack_level</span><span class="p">,</span>
                        <span class="p">)</span>
                        <span class="n">warned</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="n">actual_choices</span><span class="p">[</span><span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">actual_choices</span><span class="p">[</span><span class="n">choice</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()]</span> <span class="o">=</span> <span class="n">choice</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">STRING</span><span class="p">,</span>
            <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="n">actual_choices</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">autocomplete</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a string option to the slash command.</p>

<p><em>Note:</em>
As a shorthand, <code>choices</code> also supports passing a list of strings
rather than a dict of names to values (each string will used as
both the choice's name and value with the names being capitalised).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>autocomplete</strong> (<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> | None):
The autocomplete callback for the option.</p>

<p>More information on this callback's signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>str</code>.</p></li>
<li><p><strong>choices</strong> (collections.abc.Mapping[str, str] | collections.abc.Sequence[str] | None):
The option's choices.</p>

<p>This either a mapping of [option_name, option_value] where both option_name
and option_value should be strings of up to 100 characters or a sequence
of strings where the string will be used for both the choice's name and
value.</p></li>
<li><p><strong>converters</strong> (collections.abc.Sequence[ConverterSig] | ConverterSig):
The option's converters.</p>

<p>This may be either one or multiple <code>ConverterSig</code> callbacks used to
convert the option's value to the final form.
If no converters are provided then the raw value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used and the <code>coverters</code> field will be ignored.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the option has more than 25 choices.</li>
<li>If the command already has 25 options.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_int_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_int_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_int_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    autocomplete: Optional[collections.abc.Callable[..., collections.abc.Awaitable[None]]] = None,
    choices: Optional[collections.abc.Mapping[str, int]] = None,
    converters: Union[collections.abc.Collection[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any = &lt;object object&gt;,
    min_value: Optional[int] = None,
    max_value: Optional[int] = None,
    pass_as_kwarg: bool = True,
    _stack_level: int = 0
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_int_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add an integer option to the slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `int`.</span>
<span class="sd">        choices : collections.abc.Mapping[str, int] | None</span>
<span class="sd">            The option&#39;s choices.</span>

<span class="sd">            This is a mapping of [option_name, option_value] where option_name</span>
<span class="sd">            should be a string of up to 100 characters and option_value should</span>
<span class="sd">            be an integer.</span>
<span class="sd">        converters : collections.abc.Sequence[ConverterSig] | ConverterSig | None</span>
<span class="sd">            The option&#39;s converters.</span>

<span class="sd">            This may be either one or multiple `ConverterSig` callbacks used to</span>
<span class="sd">            convert the option&#39;s value to the final form.</span>
<span class="sd">            If no converters are provided then the raw value will be passed.</span>

<span class="sd">            Only the first converter to pass will be used.</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        min_value : int | None</span>
<span class="sd">            The option&#39;s (inclusive) minimum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        max_value : int | None</span>
<span class="sd">            The option&#39;s (inclusive) maximum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used and the `coverters` field will be ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">            * If `min_value` is greater than `max_value`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
            <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="n">_stack_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">autocomplete</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an integer option to the slash command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>autocomplete</strong> (<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> | None):
The autocomplete callback for the option.</p>

<p>More information on this callback's signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>int</code>.</p></li>
<li><p><strong>choices</strong> (collections.abc.Mapping[str, int] | None):
The option's choices.</p>

<p>This is a mapping of [option_name, option_value] where option_name
should be a string of up to 100 characters and option_value should
be an integer.</p></li>
<li><p><strong>converters</strong> (collections.abc.Sequence[ConverterSig] | ConverterSig | None):
The option's converters.</p>

<p>This may be either one or multiple <code>ConverterSig</code> callbacks used to
convert the option's value to the final form.
If no converters are provided then the raw value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>min_value</strong> (int | None):
The option's (inclusive) minimum value.</p>

<p>Defaults to no minimum value.</p></li>
<li><p><strong>max_value</strong> (int | None):
The option's (inclusive) maximum value.</p>

<p>Defaults to no minimum value.</p></li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used and the <code>coverters</code> field will be ignored.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the option has more than 25 choices.</li>
<li>If the command already has 25 options.</li>
<li>If <code>min_value</code> is greater than <code>max_value</code>.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_float_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_float_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_float_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    always_float: bool = True,
    autocomplete: Optional[collections.abc.Callable[..., collections.abc.Awaitable[None]]] = None,
    choices: Optional[collections.abc.Mapping[str, float]] = None,
    converters: Union[collections.abc.Collection[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any = &lt;object object&gt;,
    min_value: Optional[float] = None,
    max_value: Optional[float] = None,
    pass_as_kwarg: bool = True,
    _stack_level: int = 0
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_float_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">always_float</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">min_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a float option to a slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        always_float : bool</span>
<span class="sd">            If this is set to `True` then the value will always be converted to a</span>
<span class="sd">            float (this will happen before it&#39;s passed to converters).</span>

<span class="sd">            This masks behaviour from Discord where we will either be provided a `float`</span>
<span class="sd">            or `int` dependent on what the user provided and defaults to `True`.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `float`.</span>
<span class="sd">        choices : collections.abc.Mapping[str, float] | None</span>
<span class="sd">            The option&#39;s choices.</span>

<span class="sd">            This is a mapping of [option_name, option_value] where option_name</span>
<span class="sd">            should be a string of up to 100 characters and option_value should</span>
<span class="sd">            be a float.</span>
<span class="sd">        converters : collections.abc.Sequence[ConverterSig] | ConverterSig | None</span>
<span class="sd">            The option&#39;s converters.</span>

<span class="sd">            This may be either one or multiple `ConverterSig` callbacks used to</span>
<span class="sd">            convert the option&#39;s value to the final form.</span>
<span class="sd">            If no converters are provided then the raw value will be passed.</span>

<span class="sd">            Only the first converter to pass will be used.</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        min_value : float | None</span>
<span class="sd">            The option&#39;s (inclusive) minimum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        max_value : float | None</span>
<span class="sd">            The option&#39;s (inclusive) maximum value.</span>

<span class="sd">            Defaults to no minimum value.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used and the fields `coverters`, and `always_float` will be</span>
<span class="sd">            ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">            * If `min_value` is greater than `max_value`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">,</span>
            <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">min_value</span><span class="p">)</span> <span class="k">if</span> <span class="n">min_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">max_value</span><span class="p">)</span> <span class="k">if</span> <span class="n">max_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
            <span class="n">always_float</span><span class="o">=</span><span class="n">always_float</span><span class="p">,</span>
            <span class="n">_stack_level</span><span class="o">=</span><span class="n">_stack_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">autocomplete</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a float option to a slash command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>always_float</strong> (bool):
If this is set to <code>True</code> then the value will always be converted to a
float (this will happen before it's passed to converters).</p>

<p>This masks behaviour from Discord where we will either be provided a <code>float</code>
or <code>int</code> dependent on what the user provided and defaults to <code>True</code>.</p></li>
<li><p><strong>autocomplete</strong> (<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> | None):
The autocomplete callback for the option.</p>

<p>More information on this callback's signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>float</code>.</p></li>
<li><p><strong>choices</strong> (collections.abc.Mapping[str, float] | None):
The option's choices.</p>

<p>This is a mapping of [option_name, option_value] where option_name
should be a string of up to 100 characters and option_value should
be a float.</p></li>
<li><p><strong>converters</strong> (collections.abc.Sequence[ConverterSig] | ConverterSig | None):
The option's converters.</p>

<p>This may be either one or multiple <code>ConverterSig</code> callbacks used to
convert the option's value to the final form.
If no converters are provided then the raw value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>min_value</strong> (float | None):
The option's (inclusive) minimum value.</p>

<p>Defaults to no minimum value.</p></li>
<li><p><strong>max_value</strong> (float | None):
The option's (inclusive) maximum value.</p>

<p>Defaults to no minimum value.</p></li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used and the fields <code>coverters</code>, and <code>always_float</code> will be
ignored.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the option has more than 25 choices.</li>
<li>If the command already has 25 options.</li>
<li>If <code>min_value</code> is greater than <code>max_value</code>.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_bool_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_bool_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_bool_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_bool_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a boolean option to a slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">BOOLEAN</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a boolean option to a slash command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the command already has 25 options.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_user_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_user_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_user_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_user_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a user option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This may result in `hikari.InteractionMember` or</span>
<span class="sd">            `hikari.users.User` if the user isn&#39;t in the current guild or if this</span>
<span class="sd">            command was executed in a DM channel.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the option has more than 25 choices.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a user option to a slash command.</p>

<p><em>Note:</em>
This may result in <code>hikari.InteractionMember</code> or
<code>hikari.users.User</code> if the user isn't in the current guild or if this
command was executed in a DM channel.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the option has more than 25 choices.</li>
<li>If the command already has 25 options.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_member_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_member_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_member_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_member_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a member option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will always result in `hikari.InteractionMember`.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Unlike the other options, this is an artificial option which adds</span>
<span class="sd">            a restraint to the USER option type and therefore cannot have</span>
<span class="sd">            `pass_as_kwarg` set to `False` as this artificial constaint isn&#39;t</span>
<span class="sd">            present when its not being passed as a keyword argument.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">only_member</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a member option to a slash command.</p>

<p><em>Note:</em>
This will always result in <code>hikari.InteractionMember</code>.</p>

<p><em>Warning:</em>
Unlike the other options, this is an artificial option which adds
a restraint to the USER option type and therefore cannot have
<code>pass_as_kwarg</code> set to <code>False</code> as this artificial constaint isn't
present when its not being passed as a keyword argument.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the command already has 25 options.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_channel_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_channel_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_channel_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    types: Optional[collections.abc.Collection[type[hikari.channels.PartialChannel]]] = None,
    pass_as_kwarg: bool = True
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_channel_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialChannel</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a channel option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This will always result in `hikari.InteractionChannel`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        types : collections.abc.Collection[type[hikari.PartialChannel]] | None</span>
<span class="sd">            A collection of the channel classes this option should accept.</span>

<span class="sd">            If left as `None` or empty then the option will allow all channel types.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">            * If an invalid type is passed in `types`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">itertools</span>

        <span class="k">if</span> <span class="n">types</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">channel_types</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_channel_types</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">,</span> <span class="n">types</span><span class="p">))))</span>

            <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown channel type </span><span class="si">{</span><span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">channel_types</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">CHANNEL</span><span class="p">,</span>
            <span class="n">channel_types</span><span class="o">=</span><span class="n">channel_types</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a channel option to a slash command.</p>

<p><em>Note:</em>
This will always result in <code>hikari.InteractionChannel</code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="parameters-2">Parameters</h6>

<ul>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>types</strong> (collections.abc.Collection[type[hikari.PartialChannel]] | None):
A collection of the channel classes this option should accept.</p>

<p>If left as <code>None</code> or empty then the option will allow all channel types.</p></li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the command already has 25 options.</li>
<li>If an invalid type is passed in <code>types</code>.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_role_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_role_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_role_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_role_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a role option to a slash command.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">ROLE</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a role option to a slash command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the command already has 25 options.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.add_mentionable_option" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.add_mentionable_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_mentionable_option</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_mentionable_option</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add a mentionable option to a slash command.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This may target roles, guild members or users and results in</span>
<span class="sd">            `Union[hikari.User, hikari.InteractionMember, hikari.Role]`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The option&#39;s description.</span>
<span class="sd">            This should be inclusively between 1-100 characters in length.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default : typing.Any</span>
<span class="sd">            The option&#39;s default value.</span>
<span class="sd">            If this is left as undefined then this option will be required.</span>
<span class="sd">        pass_as_kwarg : bool</span>
<span class="sd">            Whether or not to pass this option as a keyword argument to the</span>
<span class="sd">            command callback.</span>

<span class="sd">            Defaults to `True`. If `False` is passed here then `default` will</span>
<span class="sd">            only decide whether the option is required without the actual value</span>
<span class="sd">            being used.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the option name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the option name has uppercase characters.</span>
<span class="sd">            * If the option description is over 100 characters in length.</span>
<span class="sd">            * If the command already has 25 options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_option</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">MENTIONABLE</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a mentionable option to a slash command.</p>

<p><em>Note:</em>
This may target roles, guild members or users and results in
<code>Union[hikari.User, hikari.InteractionMember, hikari.Role]</code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The option's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The option's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>default</strong> (typing.Any):
The option's default value.
If this is left as undefined then this option will be required.</li>
<li><p><strong>pass_as_kwarg</strong> (bool):
Whether or not to pass this option as a keyword argument to the
command callback.</p>

<p>Defaults to <code>True</code>. If <code>False</code> is passed here then <code>default</code> will
only decide whether the option is required without the actual value
being used.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the option name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the option name has uppercase characters.</li>
<li>If the option description is over 100 characters in length.</li>
<li>If the command already has 25 options.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.set_float_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.set_float_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_float_autocomplete</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    callback: Optional[collections.abc.Callable[..., collections.abc.Awaitable[None]]],
    /
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_float_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">],</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a float option.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `float`.</span>

<span class="sd">            Passing `None` here will remove the autocomplete callback for the</span>
<span class="sd">            option.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `float`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Option not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Option is not a float option&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">:</span>
            <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete callback for a float option.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The option's name.</li>
<li><p><strong>autocomplete</strong> (<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> | None):
The autocomplete callback for the option.</p>

<p>More information on this callback's signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>float</code>.</p>

<p>Passing <code>None</code> here will remove the autocomplete callback for the
option.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: Raises a key error if the option doesn't exist.</li>
<li><strong>TypeError</strong>: Raises a type error if the option isn't of type <code>float</code>.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.with_float_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.with_float_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_float_autocomplete</span><span class="signature">(
    self,
    name: str,
    /
) -&gt; collections.abc.Callable[[~_AutocompleteCallbackSigT], ~_AutocompleteCallbackSigT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_float_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_AutocompleteCallbackSigT</span><span class="p">],</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a float option through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Collections.abc.Callable[[tanjun.abc.AutocompleteCallbackSig], tanjun.abc.AutocompleteCallbackSig]</span>
<span class="sd">            Decorator callback used to capture the autocomplete callback.</span>

<span class="sd">            More information on the autocomplete signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `float`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `float`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_float_autocomplete</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete callback for a float option through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The option's name.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Collections.abc.Callable[[<a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a>], <a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a>]</strong>: Decorator callback used to capture the autocomplete callback.</li>
</ul>

<p>More information on the autocomplete signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>float</code>.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: Raises a key error if the option doesn't exist.</li>
<li><strong>TypeError</strong>: Raises a type error if the option isn't of type <code>float</code>.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.set_int_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.set_int_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_int_autocomplete</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    callback: collections.abc.Callable[..., collections.abc.Awaitable[None]],
    /
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_int_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a string option.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>

<span class="sd">            Passing `None` here will remove the autocomplete callback for the</span>
<span class="sd">            option.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `str`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Option not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Option is not a int option&quot;</span><span class="p">)</span>

        <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete callback for a string option.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The option's name.</li>
<li><p><strong>autocomplete</strong> (<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> | None):
The autocomplete callback for the option.</p>

<p>More information on this callback's signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>str</code>.</p>

<p>Passing <code>None</code> here will remove the autocomplete callback for the
option.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: Raises a key error if the option doesn't exist.</li>
<li><strong>TypeError</strong>: Raises a type error if the option isn't of type <code>str</code>.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.with_int_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.with_int_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_int_autocomplete</span><span class="signature">(
    self,
    name: str,
    /
) -&gt; collections.abc.Callable[[~_AutocompleteCallbackSigT], ~_AutocompleteCallbackSigT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_int_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_AutocompleteCallbackSigT</span><span class="p">],</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a integer option through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Collections.abc.Callable[[tanjun.abc.AutocompleteCallbackSig], tanjun.abc.AutocompleteCallbackSig]</span>
<span class="sd">            Decorator callback used to capture the autocomplete callback.</span>

<span class="sd">            More information on the autocomplete signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `int`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `int`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_int_autocomplete</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete callback for a integer option through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The option's name.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Collections.abc.Callable[[<a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a>], <a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a>]</strong>: Decorator callback used to capture the autocomplete callback.</li>
</ul>

<p>More information on the autocomplete signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>int</code>.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: Raises a key error if the option doesn't exist.</li>
<li><strong>TypeError</strong>: Raises a type error if the option isn't of type <code>int</code>.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.set_str_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.set_str_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_str_autocomplete</span><span class="signature">(
    self: ~_SlashCommandT,
    name: str,
    callback: collections.abc.Callable[..., collections.abc.Awaitable[None]],
    /
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_str_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a str option.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>
<span class="sd">        autocomplete : `tanjun.abc.AutocompleteCallbackSig` | None</span>
<span class="sd">            The autocomplete callback for the option.</span>

<span class="sd">            More information on this callback&#39;s signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>

<span class="sd">            Passing `None` here will remove the autocomplete callback for the</span>
<span class="sd">            option.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            The command object for chaining.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `str`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_builder</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Option not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">STRING</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Option is not a str option&quot;</span><span class="p">)</span>

        <span class="n">option</span><span class="o">.</span><span class="n">autocomplete</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete callback for a str option.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The option's name.</li>
<li><p><strong>autocomplete</strong> (<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> | None):
The autocomplete callback for the option.</p>

<p>More information on this callback's signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>str</code>.</p>

<p>Passing <code>None</code> here will remove the autocomplete callback for the
option.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: The command object for chaining.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: Raises a key error if the option doesn't exist.</li>
<li><strong>TypeError</strong>: Raises a type error if the option isn't of type <code>str</code>.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.with_str_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.with_str_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_str_autocomplete</span><span class="signature">(
    self,
    name: str,
    /
) -&gt; collections.abc.Callable[[~_AutocompleteCallbackSigT], ~_AutocompleteCallbackSigT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_str_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_AutocompleteCallbackSigT</span><span class="p">],</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set the autocomplete callback for a string option through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The option&#39;s name.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Collections.abc.Callable[[tanjun.abc.AutocompleteCallbackSig], tanjun.abc.AutocompleteCallbackSig]</span>
<span class="sd">            Decorator callback used to capture the autocomplete callback.</span>

<span class="sd">            More information on the autocomplete signature can be found at</span>
<span class="sd">            `tanjun.abc.AutocompleteCallbackSig` and the 2nd positional</span>
<span class="sd">            argument should be of type `str`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            Raises a key error if the option doesn&#39;t exist.</span>
<span class="sd">        TypeError</span>
<span class="sd">            Raises a type error if the option isn&#39;t of type `str`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_AutocompleteCallbackSigT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_str_autocomplete</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">callback</span>

        <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the autocomplete callback for a string option through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The option's name.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Collections.abc.Callable[[<a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a>], <a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a>]</strong>: Decorator callback used to capture the autocomplete callback.</li>
</ul>

<p>More information on the autocomplete signature can be found at
<code><a href="tanjun/abc.html#AutocompleteCallbackSig">tanjun.abc.AutocompleteCallbackSig</a></code> and the 2nd positional
argument should be of type <code>str</code>.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>KeyError</strong>: Raises a key error if the option doesn't exist.</li>
<li><strong>TypeError</strong>: Raises a type error if the option isn't of type <code>str</code>.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommand.execute" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.execute">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>,
    /,
    option: Optional[hikari.interactions.command_interactions.CommandInteractionOption] = None,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_always_defer</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_been_deferred</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ctx</span><span class="o">.</span><span class="n">has_responded</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">defer</span><span class="p">()</span>

        <span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">set_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">own_hooks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hooks</span> <span class="ow">or</span> <span class="n">_EMPTY_HOOKS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_pre_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracked_options</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_args</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="n">_EMPTY_DICT</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="o">.</span><span class="n">resolve_with_command_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">:</span>
            <span class="c1"># Unlike a message command, this won&#39;t necessarily reach the client level try except</span>
            <span class="c1"># block so we have to handle this here.</span>
            <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_success</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">own_hooks</span><span class="o">.</span><span class="n">trigger_post_execution</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SlashCommand.execute_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.execute_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute_autocomplete</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#AutocompleteContext">tanjun.abc.AutocompleteContext</a>,
    /,
    option: Optional[hikari.interactions.command_interactions.AutocompleteInteractionOption] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">STRING</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_str_autocompletes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_autocompletes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_autocompletes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Autocomplete isn&#39;t implemented for &#39;</span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&#39; option yet.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No autocomplete callback found for &#39;</span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; option&quot;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">injecting</span><span class="o">.</span><span class="n">AbstractInjectionContext</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">callback</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">ctx</span><span class="o">.</span><span class="n">focused</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SlashCommand.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommand.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(
    self: ~_SlashCommandT,
    *,
    _new: bool = True,
    parent: Optional[<a href="tanjun/abc.html#SlashCommandGroup">tanjun.abc.SlashCommandGroup</a>] = None
) -&gt; ~_SlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a copy of this command.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: A copy of this command.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>tanjun.commands.slash.BaseSlashCommand</dt>
                                <dd id="SlashCommand.defaults_to_ephemeral" class="variable">defaults_to_ephemeral</dd>
                <dd id="SlashCommand.description" class="variable">description</dd>
                <dd id="SlashCommand.is_global" class="variable">is_global</dd>
                <dd id="SlashCommand.name" class="variable">name</dd>
                <dd id="SlashCommand.parent" class="variable">parent</dd>
                <dd id="SlashCommand.tracked_command" class="variable">tracked_command</dd>
                <dd id="SlashCommand.tracked_command_id" class="variable">tracked_command_id</dd>
                <dd id="SlashCommand.type" class="variable">type</dd>
                <dd id="SlashCommand.set_tracked_command" class="function">set_tracked_command</dd>
                <dd id="SlashCommand.set_ephemeral_default" class="function">set_ephemeral_default</dd>
                <dd id="SlashCommand.set_parent" class="function">set_parent</dd>
                <dd id="SlashCommand.check_context" class="function">check_context</dd>

            </div>
            <div><dt>tanjun.commands.base.PartialCommand</dt>
                                <dd id="SlashCommand.checks" class="variable">checks</dd>
                <dd id="SlashCommand.component" class="variable">component</dd>
                <dd id="SlashCommand.hooks" class="variable">hooks</dd>
                <dd id="SlashCommand.metadata" class="variable">metadata</dd>
                <dd id="SlashCommand.set_hooks" class="function">set_hooks</dd>
                <dd id="SlashCommand.set_metadata" class="function">set_metadata</dd>
                <dd id="SlashCommand.add_check" class="function">add_check</dd>
                <dd id="SlashCommand.remove_check" class="function">remove_check</dd>
                <dd id="SlashCommand.with_check" class="function">with_check</dd>
                <dd id="SlashCommand.bind_component" class="function">bind_component</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SlashCommandGroup">
                                <div class="attr class">
        <a class="headerlink" href="#SlashCommandGroup">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SlashCommandGroup</span><wbr>(<span class="base">tanjun.commands.base.PartialCommand[tanjun.abc.SlashContext]</span>, <span class="base"><a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SlashCommandGroup</span><span class="p">(</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Standard implementation of a slash command group.</span>

<span class="sd">    .. note::</span>
<span class="sd">        Unlike message command grups, slash command groups cannot</span>
<span class="sd">        be callable functions themselves.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_commands&quot;</span><span class="p">,</span> <span class="s2">&quot;_default_permission&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Initialise a slash command group.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Under the standard implementation, `is_global` is used to determine</span>
<span class="sd">            whether the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">            or when `declare_global_commands` is True</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The name of the command group.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}$` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The description of the command group.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default_permission : bool</span>
<span class="sd">            Whether this command can be accessed without set permissions.</span>

<span class="sd">            Defaults to `True`, meaning that users can access the command by default.</span>
<span class="sd">        default_to_ephemeral : bool | None</span>
<span class="sd">            Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">            are set to override this.</span>

<span class="sd">            If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">            component or client will be in effect.</span>
<span class="sd">        is_global : bool</span>
<span class="sd">            Whether this command is a global command. Defaults to `True`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the command name has uppercase characters.</span>
<span class="sd">            * If the description is over 100 characters long.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="n">default_to_ephemeral</span><span class="p">,</span> <span class="n">is_global</span><span class="o">=</span><span class="n">is_global</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span> <span class="o">=</span> <span class="n">default_permission</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">commands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.SlashCommandGroup&gt;&gt;.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">special_endpoints_api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">_SlashCommandBuilder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">set_default_permission</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">option_type</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">SUB_COMMAND_GROUP</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">)</span>
                <span class="k">else</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">SUB_COMMAND</span>
            <span class="p">)</span>
            <span class="n">command_builder</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
            <span class="n">builder</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
                <span class="n">hikari</span><span class="o">.</span><span class="n">CommandOption</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">option_type</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">command_builder</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                    <span class="n">is_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">options</span><span class="o">=</span><span class="n">command_builder</span><span class="o">.</span><span class="n">options</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">builder</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandGroupT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandGroupT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a slash command to this group.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Command groups are only supported within top-level groups.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command to add to this group.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            Object of this group to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot add a slash command group to a nested slash command group&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">)</span> <span class="o">==</span> <span class="mi">25</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot add more than 25 commands to a slash command group&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Command with name </span><span class="si">{</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> already exists in this group&quot;</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">[</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandGroupT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a command from this group.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command to remove from this group.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            Object of this group to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">[</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a slash command to this group through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command to add to this group.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command which was added to this group.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing sub-command option&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span><span class="p">)</span>

            <span class="k">if</span> <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
                <span class="k">return</span>

        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;hikari.AutocompleteInteractionOption&quot;</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing sub-command option&quot;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sub-command &#39;</span><span class="si">{</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; no found&quot;</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Standard implementation of a slash command group.</p>

<p><em>Note:</em>
Unlike message command grups, slash command groups cannot
be callable functions themselves.</p>
</div>


                            <div id="SlashCommandGroup.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SlashCommandGroup</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    default_to_ephemeral: Optional[bool] = None,
    default_permission: bool = True,
    is_global: bool = True
)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Initialise a slash command group.</span>

<span class="sd">        .. note::</span>
<span class="sd">            Under the standard implementation, `is_global` is used to determine</span>
<span class="sd">            whether the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">            or when `declare_global_commands` is True</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The name of the command group.</span>

<span class="sd">            This must match the regex `^[\w-]{1,32}$` in Unicode mode and be lowercase.</span>
<span class="sd">        description : str</span>
<span class="sd">            The description of the command group.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        default_permission : bool</span>
<span class="sd">            Whether this command can be accessed without set permissions.</span>

<span class="sd">            Defaults to `True`, meaning that users can access the command by default.</span>
<span class="sd">        default_to_ephemeral : bool | None</span>
<span class="sd">            Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">            are set to override this.</span>

<span class="sd">            If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">            component or client will be in effect.</span>
<span class="sd">        is_global : bool</span>
<span class="sd">            Whether this command is a global command. Defaults to `True`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            Raises a value error for any of the following reasons:</span>
<span class="sd">            * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">            * If the command name has uppercase characters.</span>
<span class="sd">            * If the description is over 100 characters long.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="n">default_to_ephemeral</span><span class="p">,</span> <span class="n">is_global</span><span class="o">=</span><span class="n">is_global</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span> <span class="o">=</span> <span class="n">default_permission</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a slash command group.</p>

<p><em>Note:</em>
Under the standard implementation, <code><a href="#SlashCommandGroup.is_global">is_global</a></code> is used to determine
whether the command should be bulk set by <code><a href="#Client.declare_global_commands">tanjun.Client.declare_global_commands</a></code>
or when <code>declare_global_commands</code> is True</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The name of the command group.</p>

<p>This must match the regex <code>^[\w-]{1,32}$</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The description of the command group.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>default_permission</strong> (bool):
Whether this command can be accessed without set permissions.</p>

<p>Defaults to <code>True</code>, meaning that users can access the command by default.</p></li>
<li><p><strong>default_to_ephemeral</strong> (bool | None):
Whether this command's responses should default to ephemeral unless flags
are set to override this.</p>

<p>If this is left as <code>None</code> then the default set on the parent command(s),
component or client will be in effect.</p></li>
<li><strong>is_global</strong> (bool):
Whether this command is a global command. Defaults to <code>True</code>.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the command name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the command name has uppercase characters.</li>
<li>If the description is over 100 characters long.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="SlashCommandGroup.commands" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SlashCommandGroup.commands">#&nbsp;&nbsp</a>

        <span class="name">commands</span><span class="annotation">: collections.abc.Collection[<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>]</span>
    </div>

    
            <div class="docstring"><p>Collection of the commands in this group.</p>
</div>


                            </div>
                            <div id="SlashCommandGroup.build" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.build">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">build</span><span class="signature">(self) -&gt; hikari.api.special_endpoints.SlashCommandBuilder</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">special_endpoints_api</span><span class="o">.</span><span class="n">SlashCommandBuilder</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">_SlashCommandBuilder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">set_default_permission</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_default_permission</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">option_type</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">SUB_COMMAND_GROUP</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">)</span>
                <span class="k">else</span> <span class="n">hikari</span><span class="o">.</span><span class="n">OptionType</span><span class="o">.</span><span class="n">SUB_COMMAND</span>
            <span class="p">)</span>
            <span class="n">command_builder</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
            <span class="n">builder</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
                <span class="n">hikari</span><span class="o">.</span><span class="n">CommandOption</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">option_type</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">command_builder</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                    <span class="n">is_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">options</span><span class="o">=</span><span class="n">command_builder</span><span class="o">.</span><span class="n">options</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">builder</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a builder object for this command.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.api.SlashCommandBuilder</strong>: A builder object for this command. Use to declare this command on
globally or for a specific guild.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommandGroup.copy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.copy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">copy</span><span class="signature">(
    self: ~_SlashCommandGroupT,
    *,
    _new: bool = True,
    parent: Optional[<a href="tanjun/abc.html#SlashCommandGroup">tanjun.abc.SlashCommandGroup</a>] = None
) -&gt; ~_SlashCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandGroupT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">_new</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandGroupT</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.ExecutableCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">_new</span><span class="o">=</span><span class="n">_new</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a copy of this command.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: A copy of this command.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommandGroup.add_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.add_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">add_command</span><span class="signature">(
    self: ~_SlashCommandGroupT,
    command: <a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>,
    /
) -&gt; ~_SlashCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">add_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandGroupT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a slash command to this group.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Command groups are only supported within top-level groups.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command to add to this group.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            Object of this group to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommandGroup</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot add a slash command group to a nested slash command group&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">)</span> <span class="o">==</span> <span class="mi">25</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot add more than 25 commands to a slash command group&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Command with name </span><span class="si">{</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> already exists in this group&quot;</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">[</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a slash command to this group.</p>

<p><em>Warning:</em>
Command groups are only supported within top-level groups.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>):
Command to add to this group.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: Object of this group to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommandGroup.remove_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.remove_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_command</span><span class="signature">(
    self: ~_SlashCommandGroupT,
    command: <a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>,
    /
) -&gt; ~_SlashCommandGroupT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_command</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">_SlashCommandGroupT</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommand</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_SlashCommandGroupT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove a command from this group.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command to remove from this group.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Self</span>
<span class="sd">            Object of this group to enable chained calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">[</span><span class="n">command</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove a command from this group.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>):
Command to remove from this group.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>Self</strong>: Object of this group to enable chained calls.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommandGroup.with_command" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.with_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_command</span><span class="signature">(self, command: ~BaseSlashCommandT, /) -&gt; ~BaseSlashCommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">with_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abc</span><span class="o">.</span><span class="n">BaseSlashCommandT</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add a slash command to this group through a decorator call.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        command : tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command to add to this group.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tanjun.abc.BaseSlashCommand</span>
<span class="sd">            Command which was added to this group.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a slash command to this group through a decorator call.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a>):
Command to add to this group.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/abc.html#BaseSlashCommand">tanjun.abc.BaseSlashCommand</a></strong>: Command which was added to this group.</li>
</ul>
</div>


                            </div>
                            <div id="SlashCommandGroup.execute" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.execute">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>,
    /,
    option: Optional[hikari.interactions.command_interactions.CommandInteractionOption] = None,
    *,
    hooks: Optional[collections.abc.MutableSet[<a href="tanjun/abc.html#Hooks">tanjun.abc.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]]] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableSet</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashHooks</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># &lt;&lt;inherited docstring from tanjun.abc.BaseSlashCommand&gt;&gt;.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing sub-command option&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">command</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">set_ephemeral_default</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">defaults_to_ephemeral</span><span class="p">)</span>

            <span class="k">if</span> <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">check_context</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
                <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">)</span>
                <span class="k">return</span>

        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">mark_not_found</span><span class="p">()</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SlashCommandGroup.execute_autocomplete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SlashCommandGroup.execute_autocomplete">#&nbsp;&nbsp</a>

        
            <span class="def">async def</span>
            <span class="name">execute_autocomplete</span><span class="signature">(
    self,
    ctx: <a href="tanjun/abc.html#AutocompleteContext">tanjun.abc.AutocompleteContext</a>,
    /,
    option: Optional[hikari.interactions.command_interactions.AutocompleteInteractionOption] = None
) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">execute_autocomplete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ctx</span><span class="p">:</span> <span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">AutocompleteInteractionOption</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">interaction</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">option</span> <span class="ow">and</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;hikari.AutocompleteInteractionOption&quot;</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing sub-command option&quot;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sub-command &#39;</span><span class="si">{</span><span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; no found&quot;</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">command</span><span class="o">.</span><span class="n">execute_autocomplete</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>tanjun.commands.slash.BaseSlashCommand</dt>
                                <dd id="SlashCommandGroup.defaults_to_ephemeral" class="variable">defaults_to_ephemeral</dd>
                <dd id="SlashCommandGroup.description" class="variable">description</dd>
                <dd id="SlashCommandGroup.is_global" class="variable">is_global</dd>
                <dd id="SlashCommandGroup.name" class="variable">name</dd>
                <dd id="SlashCommandGroup.parent" class="variable">parent</dd>
                <dd id="SlashCommandGroup.tracked_command" class="variable">tracked_command</dd>
                <dd id="SlashCommandGroup.tracked_command_id" class="variable">tracked_command_id</dd>
                <dd id="SlashCommandGroup.type" class="variable">type</dd>
                <dd id="SlashCommandGroup.set_tracked_command" class="function">set_tracked_command</dd>
                <dd id="SlashCommandGroup.set_ephemeral_default" class="function">set_ephemeral_default</dd>
                <dd id="SlashCommandGroup.set_parent" class="function">set_parent</dd>
                <dd id="SlashCommandGroup.check_context" class="function">check_context</dd>
                <dd id="SlashCommandGroup.load_into_component" class="function">load_into_component</dd>

            </div>
            <div><dt>tanjun.commands.base.PartialCommand</dt>
                                <dd id="SlashCommandGroup.checks" class="variable">checks</dd>
                <dd id="SlashCommandGroup.component" class="variable">component</dd>
                <dd id="SlashCommandGroup.hooks" class="variable">hooks</dd>
                <dd id="SlashCommandGroup.metadata" class="variable">metadata</dd>
                <dd id="SlashCommandGroup.needs_injector" class="variable">needs_injector</dd>
                <dd id="SlashCommandGroup.set_hooks" class="function">set_hooks</dd>
                <dd id="SlashCommandGroup.set_metadata" class="function">set_metadata</dd>
                <dd id="SlashCommandGroup.add_check" class="function">add_check</dd>
                <dd id="SlashCommandGroup.remove_check" class="function">remove_check</dd>
                <dd id="SlashCommandGroup.with_check" class="function">with_check</dd>
                <dd id="SlashCommandGroup.bind_client" class="function">bind_client</dd>
                <dd id="SlashCommandGroup.bind_component" class="function">bind_component</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SlashHooks">
                                <div class="attr variable"><a class="headerlink" href="#SlashHooks">#&nbsp;&nbsp</a>

        <span class="name">SlashHooks</span><span class="default_value"> = <a href="tanjun/hooks.html#Hooks">tanjun.hooks.Hooks</a>[<a href="tanjun/abc.html#SlashContext">tanjun.abc.SlashContext</a>]</span>
    </div>

    
    

                </section>
                <section id="TanjunError">
                                <div class="attr class">
        <a class="headerlink" href="#TanjunError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">TanjunError</span><wbr>(<span class="base">builtins.Exception</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">TanjunError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The base class for all errors raised by Tanjun.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>The base class for all errors raised by Tanjun.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="TanjunError.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="TanjunError.with_traceback" class="function">with_traceback</dd>
                <dd id="TanjunError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="TooManyArgumentsError">
                                <div class="attr class">
        <a class="headerlink" href="#TooManyArgumentsError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">TooManyArgumentsError</span><wbr>(<span class="base"><a href="#ParserError">tanjun.ParserError</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">TooManyArgumentsError</span><span class="p">(</span><span class="n">ParserError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Error raised by the parser when too many arguments are found for a parameter.&quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;Name of the parameter this error was raised for.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a too many arguments error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            The error message.</span>
<span class="sd">        parameter : tanjun.abc.Parameter</span>
<span class="sd">            The parameter this error was raised for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error raised by the parser when too many arguments are found for a parameter.</p>
</div>


                            <div id="TooManyArgumentsError.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#TooManyArgumentsError.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">TooManyArgumentsError</span><span class="signature">(message: str, parameter: str, /)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise a too many arguments error.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        message : str</span>
<span class="sd">            The error message.</span>
<span class="sd">        parameter : tanjun.abc.Parameter</span>
<span class="sd">            The parameter this error was raised for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialise a too many arguments error.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>message</strong> (str):
The error message.</li>
<li><strong>parameter</strong> (<a href="tanjun/abc.html#Parameter">tanjun.abc.Parameter</a>):
The parameter this error was raised for.</li>
</ul>
</div>


                            </div>
                            <div id="TooManyArgumentsError.parameter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#TooManyArgumentsError.parameter">#&nbsp;&nbsp</a>

        <span class="name">parameter</span><span class="annotation">: str</span>
    </div>

    
            <div class="docstring"><p>Name of the parameter this error was raised for.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ParserError">ParserError</a></dt>
                                <dd id="TooManyArgumentsError.message" class="variable"><a href="#ParserError.message">message</a></dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="TooManyArgumentsError.with_traceback" class="function">with_traceback</dd>
                <dd id="TooManyArgumentsError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="__author__">
                                <div class="attr variable"><a class="headerlink" href="#__author__">#&nbsp;&nbsp</a>

        <span class="name">__author__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;Faster Speeding&#39;</span>
    </div>

    
    

                </section>
                <section id="__ci__">
                                <div class="attr variable"><a class="headerlink" href="#__ci__">#&nbsp;&nbsp</a>

        <span class="name">__ci__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;https://github.com/FasterSpeeding/Tanjun/actions&#39;</span>
    </div>

    
    

                </section>
                <section id="__copyright__">
                                <div class="attr variable"><a class="headerlink" href="#__copyright__">#&nbsp;&nbsp</a>

        <span class="name">__copyright__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39; 2020-2022 Faster Speeding&#39;</span>
    </div>

    
    

                </section>
                <section id="__coverage__">
                                <div class="attr variable"><a class="headerlink" href="#__coverage__">#&nbsp;&nbsp</a>

        <span class="name">__coverage__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;https://codeclimate.com/github/FasterSpeeding/Tanjun&#39;</span>
    </div>

    
    

                </section>
                <section id="__docs__">
                                <div class="attr variable"><a class="headerlink" href="#__docs__">#&nbsp;&nbsp</a>

        <span class="name">__docs__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;https://tanjun.cursed.solutions/&#39;</span>
    </div>

    
    

                </section>
                <section id="__email__">
                                <div class="attr variable"><a class="headerlink" href="#__email__">#&nbsp;&nbsp</a>

        <span class="name">__email__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;lucina@lmbyrne.dev&#39;</span>
    </div>

    
    

                </section>
                <section id="__issue_tracker__">
                                <div class="attr variable"><a class="headerlink" href="#__issue_tracker__">#&nbsp;&nbsp</a>

        <span class="name">__issue_tracker__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;https://github.com/FasterSpeeding/Tanjun/issues&#39;</span>
    </div>

    
    

                </section>
                <section id="__license__">
                                <div class="attr variable"><a class="headerlink" href="#__license__">#&nbsp;&nbsp</a>

        <span class="name">__license__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;BSD&#39;</span>
    </div>

    
    

                </section>
                <section id="__url__">
                                <div class="attr variable"><a class="headerlink" href="#__url__">#&nbsp;&nbsp</a>

        <span class="name">__url__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;https://github.com/FasterSpeeding/Tanjun&#39;</span>
    </div>

    
    

                </section>
                <section id="__version__">
                                <div class="attr variable"><a class="headerlink" href="#__version__">#&nbsp;&nbsp</a>

        <span class="name">__version__</span><span class="annotation">: Final[str]</span><span class="default_value"> = &#39;2.4.1a1&#39;</span>
    </div>

    
    

                </section>
                <section id="as_interval">
                            <div class="attr function"><a class="headerlink" href="#as_interval">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_interval</span><span class="signature">(
    interval: Union[int, float, datetime.timedelta],
    /,
    *,
    fatal_exceptions: collections.abc.Sequence[type[Exception]] = (),
    ignored_exceptions: collections.abc.Sequence[type[Exception]] = (),
    max_runs: Optional[int] = None
) -&gt; collections.abc.Callable[[~_CallbackSigT], <a href="tanjun/schedules.html#IntervalSchedule">tanjun.schedules.IntervalSchedule</a>[~_CallbackSigT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_interval</span><span class="p">(</span>
    <span class="n">interval</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">],</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">fatal_exceptions</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">ignored_exceptions</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">max_runs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CallbackSigT</span><span class="p">],</span> <span class="n">IntervalSchedule</span><span class="p">[</span><span class="n">_CallbackSigT</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator to create an schedule.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    interval : int | float | datetime.timedelta</span>
<span class="sd">        The callback for the schedule.</span>

<span class="sd">        This should be an asynchronous function which takes no positional</span>
<span class="sd">        arguments, returns `None` and may use dependency injection.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    fatal_exceptions : collections.abc.Sequence[type[Exception]]</span>
<span class="sd">        A sequence of exceptions that will cause the schedule to stop if raised</span>
<span class="sd">        by the callback, start callback or stop callback.</span>

<span class="sd">        Defaults to no exceptions.</span>
<span class="sd">    ignored_exceptions : collections.abc.Sequence[type[Exception]]</span>
<span class="sd">        A sequence of exceptions that should be ignored if raised by the</span>
<span class="sd">        callback, start callback or stop callback.</span>

<span class="sd">        Defaults to no exceptions.</span>
<span class="sd">    max_runs : int | None</span>
<span class="sd">        The maximum amount of times the schedule runs. Defaults to no maximum.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.Callable[[_CallbackSigT], tanjun.scheduling.IntervalSchedule[_CallbackSigT]]</span>
<span class="sd">        The decorator used to create the schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">callback</span><span class="p">:</span> <span class="n">IntervalSchedule</span><span class="p">(</span>
        <span class="n">callback</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">,</span>
        <span class="n">fatal_exceptions</span><span class="o">=</span><span class="n">fatal_exceptions</span><span class="p">,</span>
        <span class="n">ignored_exceptions</span><span class="o">=</span><span class="n">ignored_exceptions</span><span class="p">,</span>
        <span class="n">max_runs</span><span class="o">=</span><span class="n">max_runs</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Decorator to create an schedule.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>interval</strong> (int | float | datetime.timedelta):
The callback for the schedule.</p>

<p>This should be an asynchronous function which takes no positional
arguments, returns <code>None</code> and may use dependency injection.</p></li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>fatal_exceptions</strong> (collections.abc.Sequence[type[Exception]]):
A sequence of exceptions that will cause the schedule to stop if raised
by the callback, start callback or stop callback.</p>

<p>Defaults to no exceptions.</p></li>
<li><p><strong>ignored_exceptions</strong> (collections.abc.Sequence[type[Exception]]):
A sequence of exceptions that should be ignored if raised by the
callback, start callback or stop callback.</p>

<p>Defaults to no exceptions.</p></li>
<li><strong>max_runs</strong> (int | None):
The maximum amount of times the schedule runs. Defaults to no maximum.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.Callable[[_CallbackSigT], <a href="#scheduling.IntervalSchedule">tanjun.scheduling.IntervalSchedule</a>[_CallbackSigT]]</strong>: The decorator used to create the schedule.</li>
</ul>
</div>


                </section>
                <section id="as_loader">
                            <div class="attr function"><a class="headerlink" href="#as_loader">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_loader</span><span class="signature">(
    callback: Union[collections.abc.Callable[[<a href="tanjun/clients.html#Client">tanjun.clients.Client</a>], None], collections.abc.Callable[[<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>], None]],
    /,
    *,
    standard_impl: bool = True
) -&gt; Union[collections.abc.Callable[[<a href="tanjun/clients.html#Client">tanjun.clients.Client</a>], None], collections.abc.Callable[[<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>], None]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_loader</span><span class="p">(</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">]],</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">standard_impl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Mark a callback as being used to load Tanjun components from a module.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This is only necessary if you wish to use `tanjun.Client.load_modules`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    callback : collections.abc.Callable[[tanjun.abc.Client], None]]</span>
<span class="sd">        The callback used to load Tanjun components from a module.</span>

<span class="sd">        This should take one argument of type `Client` (or `tanjun.abc.Client`</span>
<span class="sd">        if `standard_impl` is `False`), return nothing and will be expected</span>
<span class="sd">        to initiate and add utilities such as components to the provided client.</span>
<span class="sd">    standard_impl : bool</span>
<span class="sd">        Whether this loader should only allow instances of `Client` as opposed</span>
<span class="sd">        to `tanjun.abc.Client`.</span>

<span class="sd">        Defaults to `True`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.Client], None]]</span>
<span class="sd">        The decorated load callback.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_LoaderDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">standard_impl</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Mark a callback as being used to load Tanjun components from a module.</p>

<p><em>Note:</em>
This is only necessary if you wish to use <code><a href="#Client.load_modules">tanjun.Client.load_modules</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (collections.abc.Callable[[<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>], None]]):
The callback used to load Tanjun components from a module.</p>

<p>This should take one argument of type <code><a href="#Client">Client</a></code> (or <code><a href="tanjun/abc.html#Client">tanjun.abc.Client</a></code>
if <code>standard_impl</code> is <code>False</code>), return nothing and will be expected
to initiate and add utilities such as components to the provided client.</p></li>
<li><p><strong>standard_impl</strong> (bool):
Whether this loader should only allow instances of <code><a href="#Client">Client</a></code> as opposed
to <code><a href="tanjun/abc.html#Client">tanjun.abc.Client</a></code>.</p>

<p>Defaults to <code>True</code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>], None]]</strong>: The decorated load callback.</li>
</ul>
</div>


                </section>
                <section id="as_message_command">
                            <div class="attr function"><a class="headerlink" href="#as_message_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_message_command</span><span class="signature">(
    name: str,
    /,
    *names: str
) -&gt; collections.abc.Callable[[typing.Union[~CommandCallbackSigT, <a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand</a>[~CommandCallbackSigT, typing.Any], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[~CommandCallbackSigT], <a href="tanjun/abc.html#SlashCommand">tanjun.abc.SlashCommand</a>[~CommandCallbackSigT]]], <a href="tanjun/commands.html#message.MessageCommand">tanjun.commands.message.MessageCommand</a>[~CommandCallbackSigT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_message_command</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CallbackishT</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">],],</span> <span class="n">MessageCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Build a message command from a decorated callback.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The command name.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    *names : str</span>
<span class="sd">        Variable positional arguments of other names for the command.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.CommandCallbackSig], MessageCommand]</span>
<span class="sd">        The decorator callback used to make a `MessageCommand`.</span>

<span class="sd">        This can either wrap a raw command callback or another callable command instance</span>
<span class="sd">        (e.g. `MenuCommand`, `MessageCommand`, `MessageCommandGroup`, `SlashCommand`) and</span>
<span class="sd">        will manage loading the other command into a component when using</span>
<span class="sd">        `tanjun.Component.load_from_scope`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">_CallbackishT</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MessageCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">MessageCommand</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">,</span> <span class="n">_wrapped_command</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">MessageCommand</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Build a message command from a decorated callback.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The command name.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*names</strong> (str):
Variable positional arguments of other names for the command.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#CommandCallbackSig">tanjun.abc.CommandCallbackSig</a>], MessageCommand]</strong>: The decorator callback used to make a <code><a href="#MessageCommand">MessageCommand</a></code>.</li>
</ul>

<p>This can either wrap a raw command callback or another callable command instance
(e.g. <code><a href="#MenuCommand">MenuCommand</a></code>, <code><a href="#MessageCommand">MessageCommand</a></code>, <code><a href="#MessageCommandGroup">MessageCommandGroup</a></code>, <code><a href="#SlashCommand">SlashCommand</a></code>) and
will manage loading the other command into a component when using
<code><a href="#Component.load_from_scope">tanjun.Component.load_from_scope</a></code>.</p>
</div>


                </section>
                <section id="as_message_command_group">
                            <div class="attr function"><a class="headerlink" href="#as_message_command_group">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_message_command_group</span><span class="signature">(
    name: str,
    /,
    *names: str,
    strict: bool = False
) -&gt; collections.abc.Callable[[typing.Union[~CommandCallbackSigT, <a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand</a>[~CommandCallbackSigT, typing.Any], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[~CommandCallbackSigT], <a href="tanjun/abc.html#SlashCommand">tanjun.abc.SlashCommand</a>[~CommandCallbackSigT]]], <a href="tanjun/commands.html#message.MessageCommandGroup">tanjun.commands.message.MessageCommandGroup</a>[~CommandCallbackSigT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_message_command_group</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CallbackishT</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]],</span> <span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Build a message command group from a decorated callback.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The command name.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    *names : str</span>
<span class="sd">        Variable positional arguments of other names for the command.</span>
<span class="sd">    strict : bool</span>
<span class="sd">        Whether this command group should only allow commands without spaces in their names.</span>

<span class="sd">        This allows for a more optimised command search pattern to be used and</span>
<span class="sd">        enforces that command names are unique to a single command within the group.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.CommandCallbackSig], MessageCommand]</span>
<span class="sd">        The decorator callback used to make a `MessageCommandGroup`.</span>

<span class="sd">        This can either wrap a raw command callback or another callable command instance</span>
<span class="sd">        (e.g. `MenuCommand`, `MessageCommand`, `MessageCommandGroup`, `SlashCommand`) and</span>
<span class="sd">        will manage loading the other command into a component when using</span>
<span class="sd">        `tanjun.Component.load_from_scope`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_CallbackishT</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MessageCommandGroup</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">MessageCommandGroup</span><span class="p">(</span><span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="n">strict</span><span class="p">,</span> <span class="n">_wrapped_command</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">MessageCommandGroup</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="n">strict</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Build a message command group from a decorated callback.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
The command name.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*names</strong> (str):
Variable positional arguments of other names for the command.</li>
<li><p><strong>strict</strong> (bool):
Whether this command group should only allow commands without spaces in their names.</p>

<p>This allows for a more optimised command search pattern to be used and
enforces that command names are unique to a single command within the group.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#CommandCallbackSig">tanjun.abc.CommandCallbackSig</a>], MessageCommand]</strong>: The decorator callback used to make a <code><a href="#MessageCommandGroup">MessageCommandGroup</a></code>.</li>
</ul>

<p>This can either wrap a raw command callback or another callable command instance
(e.g. <code><a href="#MenuCommand">MenuCommand</a></code>, <code><a href="#MessageCommand">MessageCommand</a></code>, <code><a href="#MessageCommandGroup">MessageCommandGroup</a></code>, <code><a href="#SlashCommand">SlashCommand</a></code>) and
will manage loading the other command into a component when using
<code><a href="#Component.load_from_scope">tanjun.Component.load_from_scope</a></code>.</p>
</div>


                </section>
                <section id="as_message_menu">
                            <div class="attr function"><a class="headerlink" href="#as_message_menu">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_message_menu</span><span class="signature">(
    name: str,
    /,
    *,
    always_defer: bool = False,
    default_to_ephemeral: Optional[bool] = None,
    is_global: bool = True
) -&gt; collections.abc.Callable[[typing.Union[~_MenuCommandCallbackSigT, <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[~_MenuCommandCallbackSigT], <a href="tanjun/abc.html#SlashCommand">tanjun.abc.SlashCommand</a>[~_MenuCommandCallbackSigT]]], <a href="tanjun/commands.html#menu.MenuCommand">tanjun.commands.menu.MenuCommand</a>[~_MenuCommandCallbackSigT, typing.Literal[&lt;CommandType.MESSAGE: 3&gt;]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_message_menu</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">always_defer</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[</span>
    <span class="p">[</span><span class="n">_CallbackishT</span><span class="p">[</span><span class="n">_MenuCommandCallbackSigT</span><span class="p">]],</span>
    <span class="n">MenuCommand</span><span class="p">[</span><span class="n">_MenuCommandCallbackSigT</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">]],</span>
<span class="p">]:</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Build a message `MenuCommand` by decorating a function.</span>

<span class="sd">    .. note::</span>
<span class="sd">        Under the standard implementation, `is_global` is used to determine whether</span>
<span class="sd">        the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">        or when `declare_global_commands` is True</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @as_message_menu(&quot;message&quot;)</span>
<span class="sd">    async def message_command(self, ctx: tanjun.abc.AutocompleteContext, message: hikari.Message) -&gt; None:</span>
<span class="sd">        await ctx.respond(</span>
<span class="sd">            embed=hikari.Embed(title=&quot;Message content&quot;, description=message.content or &quot;N/A&quot;)</span>
<span class="sd">        )</span>
<span class="sd">    ```</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The command&#39;s name.</span>

<span class="sd">        This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">    description : str</span>
<span class="sd">        The command&#39;s description.</span>
<span class="sd">        This should be inclusively between 1-100 characters in length.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    always_defer : bool</span>
<span class="sd">        Whether the contexts this command is executed with should always be deferred</span>
<span class="sd">        before being passed to the command&#39;s callback.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">        .. note::</span>
<span class="sd">            The ephemeral state of the first response is decided by whether the</span>
<span class="sd">            deferral is ephemeral.</span>
<span class="sd">    default_to_ephemeral : bool | None</span>
<span class="sd">        Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">        are set to override this.</span>

<span class="sd">        If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">        component or client will be in effect.</span>
<span class="sd">    is_global : bool</span>
<span class="sd">        Whether this command is a global command. Defaults to `True`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.MenuCommandCallbackSig], MenuCommand]</span>
<span class="sd">        The decorator callback used to make a `MenuCommand`.</span>

<span class="sd">        This can either wrap a raw command callback or another callable command instance</span>
<span class="sd">        (e.g. `MenuCommand`, `MessageCommand`, `MessageCommandGroup`, `SlashCommand`) and</span>
<span class="sd">        will manage loading the other command into a component when using</span>
<span class="sd">        `tanjun.Component.load_from_scope`.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        Raises a value error for any of the following reasons:</span>
<span class="sd">        * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">        * If the command name has uppercase characters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_as_menu</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span> <span class="n">always_defer</span><span class="p">,</span> <span class="n">default_to_ephemeral</span><span class="p">,</span> <span class="n">is_global</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Build a message <code><a href="#MenuCommand">MenuCommand</a></code> by decorating a function.</p>

<p><em>Note:</em>
Under the standard implementation, <code>is_global</code> is used to determine whether
the command should be bulk set by <code><a href="#Client.declare_global_commands">tanjun.Client.declare_global_commands</a></code>
or when <code>declare_global_commands</code> is True</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@as_message_menu</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">message_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span>
        <span class="n">embed</span><span class="o">=</span><span class="n">hikari</span><span class="o">.</span><span class="n">Embed</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Message content&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">content</span> <span class="ow">or</span> <span class="s2">&quot;N/A&quot;</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The command's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The command's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>always_defer</strong> (bool):
Whether the contexts this command is executed with should always be deferred
before being passed to the command's callback.</p>

<p>Defaults to <code>False</code>.</p>

<p><em>Note:</em>
The ephemeral state of the first response is decided by whether the
deferral is ephemeral.</p></li>
<li><p><strong>default_to_ephemeral</strong> (bool | None):
Whether this command's responses should default to ephemeral unless flags
are set to override this.</p>

<p>If this is left as <code>None</code> then the default set on the parent command(s),
component or client will be in effect.</p></li>
<li><strong>is_global</strong> (bool):
Whether this command is a global command. Defaults to <code>True</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#MenuCommandCallbackSig">tanjun.abc.MenuCommandCallbackSig</a>], MenuCommand]</strong>: The decorator callback used to make a <code><a href="#MenuCommand">MenuCommand</a></code>.</li>
</ul>

<p>This can either wrap a raw command callback or another callable command instance
(e.g. <code><a href="#MenuCommand">MenuCommand</a></code>, <code><a href="#MessageCommand">MessageCommand</a></code>, <code><a href="#MessageCommandGroup">MessageCommandGroup</a></code>, <code><a href="#SlashCommand">SlashCommand</a></code>) and
will manage loading the other command into a component when using
<code><a href="#Component.load_from_scope">tanjun.Component.load_from_scope</a></code>.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the command name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the command name has uppercase characters.</li>
</ul></li>
</ul>
</div>


                </section>
                <section id="as_self_injecting">
                            <div class="attr function"><a class="headerlink" href="#as_self_injecting">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_self_injecting</span><span class="signature">(
    injector_client: <a href="tanjun/injecting.html#InjectorClient">tanjun.injecting.InjectorClient</a>,
    /
) -&gt; collections.abc.Callable[[collections.abc.Callable[..., typing.Union[~_T, collections.abc.Awaitable[~_T]]]], <a href="tanjun/injecting.html#SelfInjectingCallback">tanjun.injecting.SelfInjectingCallback</a>[~_T]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_self_injecting</span><span class="p">(</span>
    <span class="n">injector_client</span><span class="p">:</span> <span class="n">InjectorClient</span><span class="p">,</span> <span class="o">/</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CallbackSig</span><span class="p">[</span><span class="n">_T</span><span class="p">]],</span> <span class="n">SelfInjectingCallback</span><span class="p">[</span><span class="n">_T</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Make a callback self-inecting by linking it to a client through a decorator call.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    def make_callback(client: tanjun.Client) -&gt; collections.abc.Callable[[], int]:</span>
<span class="sd">        @tanjun.as_self_injected(client)</span>
<span class="sd">        async def get_int_value(</span>
<span class="sd">            redis: redis.Client = tanjun.inject(type=redis.Client)</span>
<span class="sd">        ) -&gt; int:</span>
<span class="sd">            return int(await redis.get(&#39;key&#39;))</span>

<span class="sd">        return get_int_value</span>
<span class="sd">    ```</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    injector_client : InjectorClient</span>
<span class="sd">        The injection client to use to resolve dependencies.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[CallbackSig[_T]], SelfInjectingCallback[_T]]</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">CallbackSig</span><span class="p">[</span><span class="n">_T</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SelfInjectingCallback</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">SelfInjectingCallback</span><span class="p">(</span><span class="n">injector_client</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Make a callback self-inecting by linking it to a client through a decorator call.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">make_callback</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_self_injected</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_int_value</span><span class="p">(</span>
        <span class="n">redis</span><span class="p">:</span> <span class="n">redis</span><span class="o">.</span><span class="n">Client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">redis</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="k">await</span> <span class="n">redis</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">get_int_value</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>injector_client</strong> (InjectorClient):
The injection client to use to resolve dependencies.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[CallbackSig[_T]], SelfInjectingCallback[_T]]</strong></li>
</ul>
</div>


                </section>
                <section id="as_slash_command">
                            <div class="attr function"><a class="headerlink" href="#as_slash_command">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_slash_command</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    always_defer: bool = False,
    default_permission: bool = True,
    default_to_ephemeral: Optional[bool] = None,
    is_global: bool = True,
    sort_options: bool = True
) -&gt; collections.abc.Callable[[typing.Union[~CommandCallbackSigT, <a href="tanjun/abc.html#MenuCommand">tanjun.abc.MenuCommand</a>[~CommandCallbackSigT, typing.Any], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[~CommandCallbackSigT], <a href="tanjun/abc.html#SlashCommand">tanjun.abc.SlashCommand</a>[~CommandCallbackSigT]]], <a href="tanjun/commands.html#slash.SlashCommand">tanjun.commands.slash.SlashCommand</a>[~CommandCallbackSigT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_slash_command</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">always_defer</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">sort_options</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CallbackishT</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]],</span> <span class="n">SlashCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]]:</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Build a `SlashCommand` by decorating a function.</span>

<span class="sd">    .. note::</span>
<span class="sd">        Under the standard implementation, `is_global` is used to determine whether</span>
<span class="sd">        the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">        or when `declare_global_commands` is True</span>

<span class="sd">    .. warning::</span>
<span class="sd">        `default_permission` and `is_global` are ignored for commands within</span>
<span class="sd">        slash command groups.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @as_slash_command(&quot;ping&quot;, &quot;Get the bot&#39;s latency&quot;)</span>
<span class="sd">    async def ping_command(self, ctx: tanjun.abc.SlashContext) -&gt; None:</span>
<span class="sd">        start_time = time.perf_counter()</span>
<span class="sd">        await ctx.rest.fetch_my_user()</span>
<span class="sd">        time_taken = (time.perf_counter() - start_time) * 1_000</span>
<span class="sd">        await ctx.respond(f&quot;PONG\n - REST: {time_taken:.0f}mss&quot;)</span>
<span class="sd">    ```</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The command&#39;s name.</span>

<span class="sd">        This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">    description : str</span>
<span class="sd">        The command&#39;s description.</span>
<span class="sd">        This should be inclusively between 1-100 characters in length.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    always_defer : bool</span>
<span class="sd">        Whether the contexts this command is executed with should always be deferred</span>
<span class="sd">        before being passed to the command&#39;s callback.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">        .. note::</span>
<span class="sd">            The ephemeral state of the first response is decided by whether the</span>
<span class="sd">            deferral is ephemeral.</span>
<span class="sd">    default_permission : bool</span>
<span class="sd">        Whether this command can be accessed without set permissions.</span>

<span class="sd">        Defaults to `True`, meaning that users can access the command by default.</span>
<span class="sd">    default_to_ephemeral : bool | None</span>
<span class="sd">        Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">        are set to override this.</span>

<span class="sd">        If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">        component or client will be in effect.</span>
<span class="sd">    is_global : bool</span>
<span class="sd">        Whether this command is a global command. Defaults to `True`.</span>
<span class="sd">    sort_options : bool</span>
<span class="sd">        Whether this command should sort its set options based on whether</span>
<span class="sd">        they&#39;re required.</span>

<span class="sd">        If this is `True` then the options are re-sorted to meet the requirement</span>
<span class="sd">        from Discord that required command options be listed before optional</span>
<span class="sd">        ones.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.CommandCallbackSig], SlashCommand]</span>
<span class="sd">        The decorator callback used to make a `SlashCommand`.</span>

<span class="sd">        This can either wrap a raw command callback or another callable command instance</span>
<span class="sd">        (e.g. `MenuCommand`, `MessageCommand`, `MessageCommandGroup`, `SlashCommand`) and</span>
<span class="sd">        will manage loading the other command into a component when using</span>
<span class="sd">        `tanjun.Component.load_from_scope`.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        Raises a value error for any of the following reasons:</span>
<span class="sd">        * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">        * If the command name has uppercase characters.</span>
<span class="sd">        * If the description is over 100 characters long.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">_CallbackishT</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SlashCommand</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">CommandCallbackSigT</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MenuCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">SlashCommand</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">SlashCommand</span><span class="p">(</span>
                <span class="n">callback</span><span class="o">.</span><span class="n">callback</span><span class="p">,</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="n">description</span><span class="p">,</span>
                <span class="n">always_defer</span><span class="o">=</span><span class="n">always_defer</span><span class="p">,</span>
                <span class="n">default_permission</span><span class="o">=</span><span class="n">default_permission</span><span class="p">,</span>
                <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="n">default_to_ephemeral</span><span class="p">,</span>
                <span class="n">is_global</span><span class="o">=</span><span class="n">is_global</span><span class="p">,</span>
                <span class="n">sort_options</span><span class="o">=</span><span class="n">sort_options</span><span class="p">,</span>
                <span class="n">_wrapped_command</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">SlashCommand</span><span class="p">(</span>
            <span class="n">callback</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="p">,</span>
            <span class="n">always_defer</span><span class="o">=</span><span class="n">always_defer</span><span class="p">,</span>
            <span class="n">default_permission</span><span class="o">=</span><span class="n">default_permission</span><span class="p">,</span>
            <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="n">default_to_ephemeral</span><span class="p">,</span>
            <span class="n">is_global</span><span class="o">=</span><span class="n">is_global</span><span class="p">,</span>
            <span class="n">sort_options</span><span class="o">=</span><span class="n">sort_options</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Build a <code><a href="#SlashCommand">SlashCommand</a></code> by decorating a function.</p>

<p><em>Note:</em>
Under the standard implementation, <code>is_global</code> is used to determine whether
the command should be bulk set by <code><a href="#Client.declare_global_commands">tanjun.Client.declare_global_commands</a></code>
or when <code>declare_global_commands</code> is True</p>

<p><em>Warning:</em>
<code>default_permission</code> and <code>is_global</code> are ignored for commands within
slash command groups.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;ping&quot;</span><span class="p">,</span> <span class="s2">&quot;Get the bot&#39;s latency&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">ping_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">fetch_my_user</span><span class="p">()</span>
    <span class="n">time_taken</span> <span class="o">=</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1_000</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PONG</span><span class="se">\n</span><span class="s2"> - REST: </span><span class="si">{</span><span class="n">time_taken</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">mss&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The command's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The command's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>always_defer</strong> (bool):
Whether the contexts this command is executed with should always be deferred
before being passed to the command's callback.</p>

<p>Defaults to <code>False</code>.</p>

<p><em>Note:</em>
The ephemeral state of the first response is decided by whether the
deferral is ephemeral.</p></li>
<li><p><strong>default_permission</strong> (bool):
Whether this command can be accessed without set permissions.</p>

<p>Defaults to <code>True</code>, meaning that users can access the command by default.</p></li>
<li><p><strong>default_to_ephemeral</strong> (bool | None):
Whether this command's responses should default to ephemeral unless flags
are set to override this.</p>

<p>If this is left as <code>None</code> then the default set on the parent command(s),
component or client will be in effect.</p></li>
<li><strong>is_global</strong> (bool):
Whether this command is a global command. Defaults to <code>True</code>.</li>
<li><p><strong>sort_options</strong> (bool):
Whether this command should sort its set options based on whether
they're required.</p>

<p>If this is <code>True</code> then the options are re-sorted to meet the requirement
from Discord that required command options be listed before optional
ones.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#CommandCallbackSig">tanjun.abc.CommandCallbackSig</a>], SlashCommand]</strong>: The decorator callback used to make a <code><a href="#SlashCommand">SlashCommand</a></code>.</li>
</ul>

<p>This can either wrap a raw command callback or another callable command instance
(e.g. <code><a href="#MenuCommand">MenuCommand</a></code>, <code><a href="#MessageCommand">MessageCommand</a></code>, <code><a href="#MessageCommandGroup">MessageCommandGroup</a></code>, <code><a href="#SlashCommand">SlashCommand</a></code>) and
will manage loading the other command into a component when using
<code><a href="#Component.load_from_scope">tanjun.Component.load_from_scope</a></code>.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the command name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the command name has uppercase characters.</li>
<li>If the description is over 100 characters long.</li>
</ul></li>
</ul>
</div>


                </section>
                <section id="as_unloader">
                            <div class="attr function"><a class="headerlink" href="#as_unloader">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_unloader</span><span class="signature">(
    callback: Union[collections.abc.Callable[[<a href="tanjun/clients.html#Client">tanjun.clients.Client</a>], None], collections.abc.Callable[[<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>], None]],
    /,
    *,
    standard_impl: bool = True
) -&gt; Union[collections.abc.Callable[[<a href="tanjun/clients.html#Client">tanjun.clients.Client</a>], None], collections.abc.Callable[[<a href="tanjun/abc.html#Client">tanjun.abc.Client</a>], None]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_unloader</span><span class="p">(</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">]],</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">standard_impl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">tanjun_abc</span><span class="o">.</span><span class="n">Client</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Mark a callback as being used to unload a module&#39;s utilities from a client.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This is the inverse of `as_loader` and is only necessary if you wish</span>
<span class="sd">        to use the `tanjun.Client.unload_module` or</span>
<span class="sd">        `tanjun.Client.reload_module`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    callback : collections.abc.Callable[[tanjun.Client], None]]</span>
<span class="sd">        The callback used to unload Tanjun components from a module.</span>

<span class="sd">        This should take one argument of type `Client` (or `tanjun.abc.Client`</span>
<span class="sd">        if `standard_impl` is `False`), return nothing and will be expected</span>
<span class="sd">        to remove utilities such as components from the provided client.</span>
<span class="sd">    standard_impl : bool</span>
<span class="sd">        Whether this unloader should only allow instances of `Client` as</span>
<span class="sd">        opposed to `tanjun.abc.Client`.</span>

<span class="sd">        Defaults to `True`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.Client], None]]</span>
<span class="sd">        The decorated unload callback.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_UnloaderDescriptor</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">standard_impl</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Mark a callback as being used to unload a module's utilities from a client.</p>

<p><em>Note:</em>
This is the inverse of <code><a href="#as_loader">as_loader</a></code> and is only necessary if you wish
to use the <code><a href="#Client.unload_module">tanjun.Client.unload_module</a></code> or
<code><a href="#Client.reload_module">tanjun.Client.reload_module</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (collections.abc.Callable[[<a href="#Client">tanjun.Client</a>], None]]):
The callback used to unload Tanjun components from a module.</p>

<p>This should take one argument of type <code><a href="#Client">Client</a></code> (or <code><a href="tanjun/abc.html#Client">tanjun.abc.Client</a></code>
if <code>standard_impl</code> is <code>False</code>), return nothing and will be expected
to remove utilities such as components from the provided client.</p></li>
<li><p><strong>standard_impl</strong> (bool):
Whether this unloader should only allow instances of <code><a href="#Client">Client</a></code> as
opposed to <code><a href="tanjun/abc.html#Client">tanjun.abc.Client</a></code>.</p>

<p>Defaults to <code>True</code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="#Client">tanjun.Client</a>], None]]</strong>: The decorated unload callback.</li>
</ul>
</div>


                </section>
                <section id="as_user_menu">
                            <div class="attr function"><a class="headerlink" href="#as_user_menu">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">as_user_menu</span><span class="signature">(
    name: str,
    /,
    *,
    always_defer: bool = False,
    default_to_ephemeral: Optional[bool] = None,
    is_global: bool = True
) -&gt; collections.abc.Callable[[typing.Union[~_MenuCommandCallbackSigT, <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>[~_MenuCommandCallbackSigT], <a href="tanjun/abc.html#SlashCommand">tanjun.abc.SlashCommand</a>[~_MenuCommandCallbackSigT]]], <a href="tanjun/commands.html#menu.MenuCommand">tanjun.commands.menu.MenuCommand</a>[~_MenuCommandCallbackSigT, typing.Literal[&lt;CommandType.USER: 2&gt;]]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">as_user_menu</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">always_defer</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[</span>
    <span class="p">[</span><span class="n">_CallbackishT</span><span class="p">[</span><span class="n">_MenuCommandCallbackSigT</span><span class="p">]],</span>
    <span class="n">MenuCommand</span><span class="p">[</span><span class="n">_MenuCommandCallbackSigT</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">]],</span>
<span class="p">]:</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Build a user `MenuCommand` by decorating a function.</span>

<span class="sd">    .. note::</span>
<span class="sd">        Under the standard implementation, `is_global` is used to determine whether</span>
<span class="sd">        the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">        or when `declare_global_commands` is True</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @as_user_menu(&quot;user&quot;)</span>
<span class="sd">    async def user_command(</span>
<span class="sd">        self,</span>
<span class="sd">        ctx: tanjun.abc.AutocompleteContext,</span>
<span class="sd">        user: hikari.User | hikari.InteractionMember,</span>
<span class="sd">    ) -&gt; None:</span>
<span class="sd">        await ctx.respond(f&quot;Hello {user}&quot;)</span>
<span class="sd">    ```</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The command&#39;s name.</span>

<span class="sd">        This must match the regex `^[\w-]{1,32}` in Unicode mode and be lowercase.</span>
<span class="sd">    description : str</span>
<span class="sd">        The command&#39;s description.</span>
<span class="sd">        This should be inclusively between 1-100 characters in length.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    always_defer : bool</span>
<span class="sd">        Whether the contexts this command is executed with should always be deferred</span>
<span class="sd">        before being passed to the command&#39;s callback.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">        .. note::</span>
<span class="sd">            The ephemeral state of the first response is decided by whether the</span>
<span class="sd">            deferral is ephemeral.</span>
<span class="sd">    default_to_ephemeral : bool | None</span>
<span class="sd">        Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">        are set to override this.</span>

<span class="sd">        If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">        component or client will be in effect.</span>
<span class="sd">    is_global : bool</span>
<span class="sd">        Whether this command is a global command. Defaults to `True`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.MenuCommandCallbackSig], MenuCommand]</span>
<span class="sd">        The decorator callback used to make a `MenuCommand`.</span>

<span class="sd">        This can either wrap a raw command callback or another callable command instance</span>
<span class="sd">        (e.g. `MenuCommand`, `MessageCommand`, `MessageCommandGroup`, `SlashCommand`) and</span>
<span class="sd">        will manage loading the other command into a component when using</span>
<span class="sd">        `tanjun.Component.load_from_scope`.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        Raises a value error for any of the following reasons:</span>
<span class="sd">        * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">        * If the command name has uppercase characters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_as_menu</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">hikari</span><span class="o">.</span><span class="n">CommandType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">always_defer</span><span class="p">,</span> <span class="n">default_to_ephemeral</span><span class="p">,</span> <span class="n">is_global</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Build a user <code><a href="#MenuCommand">MenuCommand</a></code> by decorating a function.</p>

<p><em>Note:</em>
Under the standard implementation, <code>is_global</code> is used to determine whether
the command should be bulk set by <code><a href="#Client.declare_global_commands">tanjun.Client.declare_global_commands</a></code>
or when <code>declare_global_commands</code> is True</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@as_user_menu</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">user_command</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteContext</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">User</span> <span class="o">|</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionMember</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The command's name.</p>

<p>This must match the regex <code>^[\w-]{1,32}</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The command's description.
This should be inclusively between 1-100 characters in length.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>always_defer</strong> (bool):
Whether the contexts this command is executed with should always be deferred
before being passed to the command's callback.</p>

<p>Defaults to <code>False</code>.</p>

<p><em>Note:</em>
The ephemeral state of the first response is decided by whether the
deferral is ephemeral.</p></li>
<li><p><strong>default_to_ephemeral</strong> (bool | None):
Whether this command's responses should default to ephemeral unless flags
are set to override this.</p>

<p>If this is left as <code>None</code> then the default set on the parent command(s),
component or client will be in effect.</p></li>
<li><strong>is_global</strong> (bool):
Whether this command is a global command. Defaults to <code>True</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#MenuCommandCallbackSig">tanjun.abc.MenuCommandCallbackSig</a>], MenuCommand]</strong>: The decorator callback used to make a <code><a href="#MenuCommand">MenuCommand</a></code>.</li>
</ul>

<p>This can either wrap a raw command callback or another callable command instance
(e.g. <code><a href="#MenuCommand">MenuCommand</a></code>, <code><a href="#MessageCommand">MessageCommand</a></code>, <code><a href="#MessageCommandGroup">MessageCommandGroup</a></code>, <code><a href="#SlashCommand">SlashCommand</a></code>) and
will manage loading the other command into a component when using
<code><a href="#Component.load_from_scope">tanjun.Component.load_from_scope</a></code>.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the command name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the command name has uppercase characters.</li>
</ul></li>
</ul>
</div>


                </section>
                <section id="cached_inject">
                            <div class="attr function"><a class="headerlink" href="#cached_inject">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">cached_inject</span><span class="signature">(
    callback: collections.abc.Callable[..., typing.Union[~_T, collections.abc.Awaitable[~_T]]],
    /,
    *,
    expire_after: Union[float, int, datetime.timedelta, NoneType] = None
) -&gt; ~_T</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">cached_inject</span><span class="p">(</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">injecting</span><span class="o">.</span><span class="n">CallbackSig</span><span class="p">[</span><span class="n">_T</span><span class="p">],</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">expire_after</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_T</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Inject a callback with caching.</span>

<span class="sd">    This acts like `tanjun.injecting.inject` and the result of it</span>
<span class="sd">    should also be assigned to a parameter&#39;s default to be used.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```py</span>
<span class="sd">    async def resolve_database(</span>
<span class="sd">        client: tanjun.abc.Client = tanjun.inject(type=tanjun.abc.Client)</span>
<span class="sd">    ) -&gt; Database:</span>
<span class="sd">        raise NotImplementedError</span>

<span class="sd">    @tanjun.as_message_command(&quot;command name&quot;)</span>
<span class="sd">    async def command(</span>
<span class="sd">        ctx: tanjun.abc.Context, db: Database = tanjun.cached_inject(resolve_database)</span>
<span class="sd">    ) -&gt; None:</span>
<span class="sd">        raise NotImplementedError</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    callback : CallbackSig[_T]</span>
<span class="sd">        The callback to inject.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    expire_after : int | float | datetime.timedelta | None</span>
<span class="sd">        The amount of time to cache the result for in seconds.</span>

<span class="sd">        Leave this as `None` to cache for the runtime of the application.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tanjun.injecting.Injected[_T]</span>
<span class="sd">        Injector used to resolve the cached callback.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If expire_after is not a valid value.</span>
<span class="sd">        If expire_after is not less than or equal to 0 seconds.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">injecting</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">cache_callback</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">expire_after</span><span class="o">=</span><span class="n">expire_after</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Inject a callback with caching.</p>

<p>This acts like <code><a href="tanjun/injecting.html#inject">tanjun.injecting.inject</a></code> and the result of it
should also be assigned to a parameter's default to be used.</p>

<h6 id="example">Example</h6>

<p>```py
async def resolve_database(
    client: <a href="tanjun/abc.html#Client">tanjun.abc.Client</a> = <a href="#inject">tanjun.inject</a>(type=tanjun.abc.Client)
) -> Database:
    raise NotImplementedError</p>

<p>@<a href="#as_message_command">tanjun.as_message_command</a>("command name")
async def command(
    ctx: <a href="tanjun/abc.html#Context">tanjun.abc.Context</a>, db: Database = <a href="#cached_inject">tanjun.cached_inject</a>(resolve_database)
) -> None:
    raise NotImplementedError</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>callback</strong> (CallbackSig[_T]):
The callback to inject.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>expire_after</strong> (int | float | datetime.timedelta | None):
The amount of time to cache the result for in seconds.</p>

<p>Leave this as <code>None</code> to cache for the runtime of the application.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/injecting.html#Injected">tanjun.injecting.Injected</a>[_T]</strong>: Injector used to resolve the cached callback.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If expire_after is not a valid value.
If expire_after is not less than or equal to 0 seconds.</li>
</ul>
</div>


                </section>
                <section id="inject">
                            <div class="attr function"><a class="headerlink" href="#inject">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">inject</span><span class="signature">(
    *,
    callback: Optional[collections.abc.Callable[..., Union[~_T, collections.abc.Awaitable[~_T]]]] = None,
    type: Optional[type[~_T]] = None
) -&gt; <a href="tanjun/injecting.html#Injected">tanjun.injecting.Injected</a>[~_T]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">inject</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CallbackSig</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_TypeT</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># noqa: A002</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Injected</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Decare a keyword-argument as requiring an injected dependency.</span>

<span class="sd">    This should be assigned to an arugment&#39;s default value.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @tanjun.as_slash_command(&quot;name&quot;, &quot;description&quot;)</span>
<span class="sd">    async def command_callback(</span>
<span class="sd">        ctx: tanjun.abc.Context,</span>
<span class="sd">        # Here we take advantage of scope based special casing which allows</span>
<span class="sd">        # us to inject the `Component` type.</span>
<span class="sd">        injected_type: tanjun.abc.Component = tanjun.inject(type=tanjun.abc.Component)</span>
<span class="sd">        # Here we inject an out-of-scope callback which itself is taking</span>
<span class="sd">        # advantage of type injection.</span>
<span class="sd">        callback_result: ResultT = tanjun.inject(callback=injected_callback)</span>
<span class="sd">    ) -&gt; None:</span>
<span class="sd">        raise NotImplementedError</span>
<span class="sd">    ```</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    callback : CallbackSig[_T] | None</span>
<span class="sd">        The callback to use to resolve the dependency.</span>

<span class="sd">        If this callback has no type dependencies then this will still work</span>
<span class="sd">        without an injection context but this can be overridden using</span>
<span class="sd">        `InjectionClient.set_callback_override`.</span>
<span class="sd">    type : type[_T] | None</span>
<span class="sd">        The type of the dependency to resolve.</span>

<span class="sd">        If a union (e.g. `typing.Union[A, B]`, `A | B`, `typing.Optional[A]`)</span>
<span class="sd">        is passed for `type` then each type in the union will be tried</span>
<span class="sd">        separately after the litarl union type is tried, allowing for resolving</span>
<span class="sd">        `A | B` to the value set by `set_type_dependency(B, ...)`.</span>

<span class="sd">        If a union has `None` as one of its types (including `Optional[T]`)</span>
<span class="sd">        then `None` will be passed for the parameter if none of the types could</span>
<span class="sd">        be resolved using the linked client.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If both `callback` and `type` are specified or if neither is specified.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Injected</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Decare a keyword-argument as requiring an injected dependency.</p>

<p>This should be assigned to an arugment's default value.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_slash_command</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command_callback</span><span class="p">(</span>
    <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span>
    <span class="c1"># Here we take advantage of scope based special casing which allows</span>
    <span class="c1"># us to inject the `Component` type.</span>
    <span class="n">injected_type</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Component</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Component</span><span class="p">)</span>
    <span class="c1"># Here we inject an out-of-scope callback which itself is taking</span>
    <span class="c1"># advantage of type injection.</span>
    <span class="n">callback_result</span><span class="p">:</span> <span class="n">ResultT</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">injected_callback</span><span class="p">)</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>callback</strong> (CallbackSig[_T] | None):
The callback to use to resolve the dependency.</p>

<p>If this callback has no type dependencies then this will still work
without an injection context but this can be overridden using
<code>InjectionClient.set_callback_override</code>.</p></li>
<li><p><strong>type</strong> (type[_T] | None):
The type of the dependency to resolve.</p>

<p>If a union (e.g. <code>typing.Union[A, B]</code>, <code>A | B</code>, <code>typing.Optional[A]</code>)
is passed for <code>type</code> then each type in the union will be tried
separately after the litarl union type is tried, allowing for resolving
<code>A | B</code> to the value set by <code>set_type_dependency(B, ...)</code>.</p>

<p>If a union has <code>None</code> as one of its types (including <code>Optional[T]</code>)
then <code>None</code> will be passed for the parameter if none of the types could
be resolved using the linked client.</p></li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If both <code>callback</code> and <code>type</code> are specified or if neither is specified.</li>
</ul>
</div>


                </section>
                <section id="inject_lc">
                            <div class="attr function"><a class="headerlink" href="#inject_lc">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">inject_lc</span><span class="signature">(type_: type[~_T], /) -&gt; ~_T</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">inject_lc</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">_T</span><span class="p">],</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_T</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Make a LazyConstant injector.</span>

<span class="sd">    This acts like `tanjun.injecting.inject` and the result of it</span>
<span class="sd">    should also be assigned to a parameter&#39;s default to be used.</span>

<span class="sd">    .. note::</span>
<span class="sd">        For this to work, a `LazyConstant` must&#39;ve been set as a type</span>
<span class="sd">        dependency for the passed `type_`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    type_ : type[_T]</span>
<span class="sd">        The type of the constant to resolve.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tanjun.injecting.Injected[_T]</span>
<span class="sd">        Injector used to resolve the LazyConstant.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```py</span>
<span class="sd">    @component.with_command</span>
<span class="sd">    @tanjun.as_message_command</span>
<span class="sd">    async def command(</span>
<span class="sd">        ctx: tanjun.abc.MessageCommand,</span>
<span class="sd">        application: hikari.Application = tanjun.inject_lc(hikari.Application)</span>
<span class="sd">    ) -&gt; None:</span>
<span class="sd">        raise NotImplementedError</span>

<span class="sd">    ...</span>

<span class="sd">    async def resolve_app(</span>
<span class="sd">        client: tanjun.abc.Client = tanjun.inject(type=tanjun.abc.Client)</span>
<span class="sd">    ) -&gt; hikari.Application:</span>
<span class="sd">        raise NotImplementedError</span>

<span class="sd">    tanjun.Client.from_gateway_bot(...).set_type_dependency(</span>
<span class="sd">        tanjun.LazyConstant[hikari.Application] = tanjun.LazyConstant(resolve_app)</span>
<span class="sd">    )</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">injecting</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">make_lc_resolver</span><span class="p">(</span><span class="n">type_</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Make a LazyConstant injector.</p>

<p>This acts like <code><a href="tanjun/injecting.html#inject">tanjun.injecting.inject</a></code> and the result of it
should also be assigned to a parameter's default to be used.</p>

<p><em>Note:</em>
For this to work, a <code><a href="#LazyConstant">LazyConstant</a></code> must've been set as a type
dependency for the passed <code>type_</code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>type_</strong> (type[_T]):
The type of the constant to resolve.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/injecting.html#Injected">tanjun.injecting.Injected</a>[_T]</strong>: Injector used to resolve the LazyConstant.</li>
</ul>

<h6 id="example">Example</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@component</span><span class="o">.</span><span class="n">with_command</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_message_command</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span>
    <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">MessageCommand</span><span class="p">,</span>
    <span class="n">application</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Application</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">inject_lc</span><span class="p">(</span><span class="n">hikari</span><span class="o">.</span><span class="n">Application</span><span class="p">)</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>

<span class="o">...</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">resolve_app</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Client</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Client</span><span class="p">)</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Application</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>

<span class="n">tanjun</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">from_gateway_bot</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">set_type_dependency</span><span class="p">(</span>
    <span class="n">tanjun</span><span class="o">.</span><span class="n">LazyConstant</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Application</span><span class="p">]</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">LazyConstant</span><span class="p">(</span><span class="n">resolve_app</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</div>


                </section>
                <section id="injected">
                            <div class="attr function"><a class="headerlink" href="#injected">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">injected</span><span class="signature">(
    *,
    callback: Optional[collections.abc.Callable[..., Union[~_T, collections.abc.Awaitable[~_T]]]] = None,
    type: Optional[type[~_T]] = None
) -&gt; <a href="tanjun/injecting.html#Injected">tanjun.injecting.Injected</a>[~_T]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">injected</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CallbackSig</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">_TypeT</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># noqa: A002</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Injected</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Alias of `inject`.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">inject</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Alias of <code><a href="#inject">inject</a></code>.</p>
</div>


                </section>
                <section id="slash_command_group">
                            <div class="attr function"><a class="headerlink" href="#slash_command_group">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">slash_command_group</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    default_permission: bool = True,
    default_to_ephemeral: Optional[bool] = None,
    is_global: bool = True
) -&gt; <a href="tanjun/commands.html#slash.SlashCommandGroup">tanjun.commands.slash.SlashCommandGroup</a></span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">slash_command_group</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">default_permission</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">default_to_ephemeral</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SlashCommandGroup</span><span class="p">:</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Create a slash command group.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Sub-commands can be added to the created slash command object through</span>
<span class="sd">    the following decorator based approach:</span>
<span class="sd">    ```python</span>
<span class="sd">    help_group = tanjun.slash_command_group(&quot;help&quot;, &quot;get help&quot;)</span>

<span class="sd">    @help_group.with_command</span>
<span class="sd">    @tanjun.with_str_slash_option(&quot;command_name&quot;, &quot;command name&quot;)</span>
<span class="sd">    @tanjun.as_slash_command(&quot;command&quot;, &quot;Get help with a command&quot;)</span>
<span class="sd">    async def help_command_command(ctx: tanjun.abc.SlashContext, command_name: str) -&gt; None:</span>
<span class="sd">        ...</span>

<span class="sd">    @help_group.with_command</span>
<span class="sd">    @tanjun.as_slash_command(&quot;me&quot;, &quot;help me&quot;)</span>
<span class="sd">    async def help_me_command(ctx: tanjun.abc.SlashContext) -&gt; None:</span>
<span class="sd">        ...</span>

<span class="sd">    component = tanjun.Component().add_slash_command(help_group)</span>
<span class="sd">    ```</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * Unlike message command grups, slash command groups cannot</span>
<span class="sd">      be callable functions themselves.</span>
<span class="sd">    * Under the standard implementation, `is_global` is used to determine whether</span>
<span class="sd">      the command should be bulk set by `tanjun.Client.declare_global_commands`</span>
<span class="sd">      or when `declare_global_commands` is True</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the command group.</span>

<span class="sd">        This must match the regex `^[\w-]{1,32}$` in Unicode mode and be lowercase.</span>
<span class="sd">    description : str</span>
<span class="sd">        The description of the command group.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    default_permission : bool</span>
<span class="sd">        Whether this command can be accessed without set permissions.</span>

<span class="sd">        Defaults to `True`, meaning that users can access the command by default.</span>
<span class="sd">    default_to_ephemeral : bool | None</span>
<span class="sd">        Whether this command&#39;s responses should default to ephemeral unless flags</span>
<span class="sd">        are set to override this.</span>

<span class="sd">        If this is left as `None` then the default set on the parent command(s),</span>
<span class="sd">        component or client will be in effect.</span>
<span class="sd">    is_global : bool</span>
<span class="sd">        Whether this command is a global command. Defaults to `True`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SlashCommandGroup</span>
<span class="sd">        The command group.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        Raises a value error for any of the following reasons:</span>
<span class="sd">        * If the command name doesn&#39;t match the regex `^[\w-]{1,32}$` (Unicode mode).</span>
<span class="sd">        * If the command name has uppercase characters.</span>
<span class="sd">        * If the description is over 100 characters long.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SlashCommandGroup</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="p">,</span>
        <span class="n">default_permission</span><span class="o">=</span><span class="n">default_permission</span><span class="p">,</span>
        <span class="n">default_to_ephemeral</span><span class="o">=</span><span class="n">default_to_ephemeral</span><span class="p">,</span>
        <span class="n">is_global</span><span class="o">=</span><span class="n">is_global</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a slash command group.</p>

<h6 id="examples">Examples</h6>

<p>Sub-commands can be added to the created slash command object through
the following decorator based approach:</p>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="n">help_group</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">slash_command_group</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;get help&quot;</span><span class="p">)</span>

<span class="nd">@help_group</span><span class="o">.</span><span class="n">with_command</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">with_str_slash_option</span><span class="p">(</span><span class="s2">&quot;command_name&quot;</span><span class="p">,</span> <span class="s2">&quot;command name&quot;</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;Get help with a command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">help_command_command</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">command_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>

<span class="nd">@help_group</span><span class="o">.</span><span class="n">with_command</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_slash_command</span><span class="p">(</span><span class="s2">&quot;me&quot;</span><span class="p">,</span> <span class="s2">&quot;help me&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">help_me_command</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>

<span class="n">component</span> <span class="o">=</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span><span class="o">.</span><span class="n">add_slash_command</span><span class="p">(</span><span class="n">help_group</span><span class="p">)</span>
</code></pre></div>

<h6 id="notes">Notes</h6>

<ul>
<li>Unlike message command grups, slash command groups cannot
be callable functions themselves.</li>
<li>Under the standard implementation, <code>is_global</code> is used to determine whether
the command should be bulk set by <code><a href="#Client.declare_global_commands">tanjun.Client.declare_global_commands</a></code>
or when <code>declare_global_commands</code> is True</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>name</strong> (str):
The name of the command group.</p>

<p>This must match the regex <code>^[\w-]{1,32}$</code> in Unicode mode and be lowercase.</p></li>
<li><strong>description</strong> (str):
The description of the command group.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>default_permission</strong> (bool):
Whether this command can be accessed without set permissions.</p>

<p>Defaults to <code>True</code>, meaning that users can access the command by default.</p></li>
<li><p><strong>default_to_ephemeral</strong> (bool | None):
Whether this command's responses should default to ephemeral unless flags
are set to override this.</p>

<p>If this is left as <code>None</code> then the default set on the parent command(s),
component or client will be in effect.</p></li>
<li><strong>is_global</strong> (bool):
Whether this command is a global command. Defaults to <code>True</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>SlashCommandGroup</strong>: The command group.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: Raises a value error for any of the following reasons:
<ul>
<li>If the command name doesn't match the regex <code>^[\w-]{1,32}$</code> (Unicode mode).</li>
<li>If the command name has uppercase characters.</li>
<li>If the description is over 100 characters long.</li>
</ul></li>
</ul>
</div>


                </section>
                <section id="to_bool">
                            <div class="attr function"><a class="headerlink" href="#to_bool">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_bool</span><span class="signature">(value: str, /) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_bool</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Convert user string input into a boolean value.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value: str</span>
<span class="sd">        The value to convert.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        The converted value.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the value cannot be converted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">_YES_VALUES</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">_NO_VALUES</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid bool value `</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">`&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Convert user string input into a boolean value.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>value</strong> (str):
The value to convert.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bool</strong>: The converted value.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the value cannot be converted.</li>
</ul>
</div>


                </section>
                <section id="to_channel">
                                <div class="attr variable"><a class="headerlink" href="#to_channel">#&nbsp;&nbsp</a>

        <span class="name">to_channel</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToChannel">tanjun.conversion.ToChannel</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_color">
                            <div class="attr function"><a class="headerlink" href="#to_color">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_color</span><span class="signature">(argument: Union[str, int, float], /) -&gt; hikari.colors.Color</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_color</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span> <span class="n">_ArgumentT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Convert user input to a `hikari.colors.Color` object.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

            <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">values</span><span class="p">)))</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a valid color representation&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Convert user input to a <code>hikari.colors.Color</code> object.</p>
</div>


                </section>
                <section id="to_colour">
                            <div class="attr function"><a class="headerlink" href="#to_colour">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_colour</span><span class="signature">(argument: Union[str, int, float], /) -&gt; hikari.colors.Color</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_color</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span> <span class="n">_ArgumentT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Convert user input to a `hikari.colors.Color` object.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

            <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">values</span><span class="p">)))</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a valid color representation&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Convert user input to a <code>hikari.colors.Color</code> object.</p>
</div>


                </section>
                <section id="to_datetime">
                            <div class="attr function"><a class="headerlink" href="#to_datetime">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_datetime</span><span class="signature">(value: str, /) -&gt; datetime.datetime</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_datetime</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Parse a datetime from Discord&#39;s datetime format.</span>

<span class="sd">    More information on this format can be found at</span>
<span class="sd">    https://discord.com/developers/docs/reference#message-formatting-timestamp-styles</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value: str</span>
<span class="sd">        The value to parse.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    datetime.datetime</span>
<span class="sd">        The parsed datetime.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the value cannot be parsed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">_DATETIME_REGEX</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">value</span><span class="p">))</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a valid datetime&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>

    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Parse a datetime from Discord's datetime format.</p>

<p>More information on this format can be found at
https://discord.com/developers/docs/reference#message-formatting-timestamp-styles</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>value</strong> (str):
The value to parse.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>datetime.datetime</strong>: The parsed datetime.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the value cannot be parsed.</li>
</ul>
</div>


                </section>
                <section id="to_emoji">
                                <div class="attr variable"><a class="headerlink" href="#to_emoji">#&nbsp;&nbsp</a>

        <span class="name">to_emoji</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToEmoji">tanjun.conversion.ToEmoji</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_guild">
                                <div class="attr variable"><a class="headerlink" href="#to_guild">#&nbsp;&nbsp</a>

        <span class="name">to_guild</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToGuild">tanjun.conversion.ToGuild</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_invite">
                                <div class="attr variable"><a class="headerlink" href="#to_invite">#&nbsp;&nbsp</a>

        <span class="name">to_invite</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToInvite">tanjun.conversion.ToInvite</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_invite_with_metadata">
                                <div class="attr variable"><a class="headerlink" href="#to_invite_with_metadata">#&nbsp;&nbsp</a>

        <span class="name">to_invite_with_metadata</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToInviteWithMetadata">tanjun.conversion.ToInviteWithMetadata</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_member">
                                <div class="attr variable"><a class="headerlink" href="#to_member">#&nbsp;&nbsp</a>

        <span class="name">to_member</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToMember">tanjun.conversion.ToMember</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_presence">
                                <div class="attr variable"><a class="headerlink" href="#to_presence">#&nbsp;&nbsp</a>

        <span class="name">to_presence</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToPresence">tanjun.conversion.ToPresence</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_role">
                                <div class="attr variable"><a class="headerlink" href="#to_role">#&nbsp;&nbsp</a>

        <span class="name">to_role</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToRole">tanjun.conversion.ToRole</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_snowflake">
                            <div class="attr function"><a class="headerlink" href="#to_snowflake">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">to_snowflake</span><span class="signature">(
    value: Union[str, int, float],
    /,
    *,
    message: str = &#39;No valid mention or ID found&#39;
) -&gt; hikari.snowflakes.Snowflake</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">_ArgumentT</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;No valid mention or ID found&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Parse a snowflake from a string or int value.</span>

<span class="sd">        .. note::</span>
<span class="sd">            This only allows the relevant entity&#39;s mention format if applicable.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: str | int</span>
<span class="sd">            The value to parse (this argument can only be passed positionally).</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>
<span class="sd">        message: str</span>
<span class="sd">            The error message to raise if the value cannot be parsed.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        hikari.Snowflake</span>
<span class="sd">            The parsed snowflake.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the value cannot be parsed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">capture</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">regex</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="n">capture</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="k">if</span> <span class="n">capture</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Technically passing a float here is invalid (typing wise)</span>
                <span class="c1"># but we handle that by catching TypeError</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Snowflake</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">)))</span>

            <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                <span class="k">pass</span>

        <span class="c1"># We should also range check the provided ID.</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">_range_check</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">result</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Parse a snowflake from a string or int value.</p>

<p><em>Note:</em>
This only allows the relevant entity's mention format if applicable.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>value</strong> (str | int):
The value to parse (this argument can only be passed positionally).</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>message</strong> (str):
The error message to raise if the value cannot be parsed.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>hikari.Snowflake</strong>: The parsed snowflake.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the value cannot be parsed.</li>
</ul>
</div>


                </section>
                <section id="to_user">
                                <div class="attr variable"><a class="headerlink" href="#to_user">#&nbsp;&nbsp</a>

        <span class="name">to_user</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToUser">tanjun.conversion.ToUser</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="to_voice_state">
                                <div class="attr variable"><a class="headerlink" href="#to_voice_state">#&nbsp;&nbsp</a>

        <span class="name">to_voice_state</span><span class="default_value"> = &lt;<a href="tanjun/conversion.html#ToVoiceState">tanjun.conversion.ToVoiceState</a> object&gt;</span>
    </div>

    
    

                </section>
                <section id="with_all_checks">
                            <div class="attr function"><a class="headerlink" href="#with_all_checks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_all_checks</span><span class="signature">(
    check: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    /,
    *checks: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]]
) -&gt; collections.abc.Callable[[~CommandT], ~CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_all_checks</span><span class="p">(</span>
    <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="n">checks</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a check which will pass if all the provided checks pass through a decorator call.</span>

<span class="sd">    This ensures that the callbacks are run in the order they were supplied in</span>
<span class="sd">    rather than concurrently.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    check : typing_abc.CheckSig</span>
<span class="sd">        The first check callback to combine.</span>
<span class="sd">    *checks : typing_abc.CheckSig</span>
<span class="sd">        Additional check callbacks to combine.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun_abc.Context], collections.abc.Coroutine[typing.Any, typing.Any, bool]]</span>
<span class="sd">        A check which will pass if all of the provided check callbacks pass.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">all_checks</span><span class="p">(</span><span class="n">check</span><span class="p">,</span> <span class="o">*</span><span class="n">checks</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a check which will pass if all the provided checks pass through a decorator call.</p>

<p>This ensures that the callbacks are run in the order they were supplied in
rather than concurrently.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (typing_abc.CheckSig):
The first check callback to combine.</li>
<li><strong>*checks</strong> (typing_abc.CheckSig):
Additional check callbacks to combine.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[tanjun_abc.Context], collections.abc.Coroutine[typing.Any, typing.Any, bool]]</strong>: A check which will pass if all of the provided check callbacks pass.</li>
</ul>
</div>


                </section>
                <section id="with_any_checks">
                            <div class="attr function"><a class="headerlink" href="#with_any_checks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_any_checks</span><span class="signature">(
    check: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    /,
    *checks: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    suppress: tuple[type[Exception], ...] = (&lt;class &#39;<a href="tanjun/errors.html#CommandError">tanjun.errors.CommandError</a>&#39;&gt;, &lt;class &#39;<a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a>&#39;&gt;),
    error_message: Optional[str],
    halt_execution: bool = False
) -&gt; collections.abc.Callable[[~CommandT], ~CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_any_checks</span><span class="p">(</span>
    <span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="n">checks</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span>
    <span class="n">suppress</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">errors</span><span class="o">.</span><span class="n">CommandError</span><span class="p">,</span> <span class="n">errors</span><span class="o">.</span><span class="n">HaltExecution</span><span class="p">),</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a check which&#39;ll pass if any of the provided checks pass through a decorator call.</span>

<span class="sd">    This ensures that the callbacks are run in the order they were supplied in</span>
<span class="sd">    rather than concurrently.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    check : typing_abc.CheckSig</span>
<span class="sd">        The first check callback to combine.</span>
<span class="sd">    *checks : typing_abc.CheckSig</span>
<span class="sd">        Additional check callbacks to combine.</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        This takes priority over `halt_execution`.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    suppress : tuple[type[Exception], ...]</span>
<span class="sd">        Tuple of the exceptions to suppress when a check fails.</span>

<span class="sd">        Defaults to (`tanjun.errors.CommandError`, `tanjun.errors.HaltExecution`).</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.Callable[[CommandT], CommandT]</span>
<span class="sd">        A decorator which adds the generated check to a command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span>
        <span class="n">any_checks</span><span class="p">(</span><span class="n">check</span><span class="p">,</span> <span class="o">*</span><span class="n">checks</span><span class="p">,</span> <span class="n">suppress</span><span class="o">=</span><span class="n">suppress</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">,</span> <span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a check which'll pass if any of the provided checks pass through a decorator call.</p>

<p>This ensures that the callbacks are run in the order they were supplied in
rather than concurrently.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (typing_abc.CheckSig):
The first check callback to combine.</li>
<li><strong>*checks</strong> (typing_abc.CheckSig):
Additional check callbacks to combine.</li>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>This takes priority over <code>halt_execution</code>.</p></li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>suppress</strong> (tuple[type[Exception], ...]):
Tuple of the exceptions to suppress when a check fails.</p>

<p>Defaults to (<code><a href="tanjun/errors.html#CommandError">tanjun.errors.CommandError</a></code>, <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code>).</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.Callable[[CommandT], CommandT]</strong>: A decorator which adds the generated check to a command.</li>
</ul>
</div>


                </section>
                <section id="with_argument">
                            <div class="attr function"><a class="headerlink" href="#with_argument">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_argument</span><span class="signature">(
    key: str,
    /,
    converters: Union[collections.abc.Iterable[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    *,
    default: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, Any] = UNDEFINED,
    greedy: bool = False,
    max_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    min_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    multi: bool = False
) -&gt; collections.abc.Callable[[~_CommandT], ~_CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_argument</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">greedy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CommandT</span><span class="p">],</span> <span class="n">_CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add an argument to a message command through a decorator call.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * Order matters for positional arguments and since decorator execution</span>
<span class="sd">      starts at the decorator closest to the command and goes upwards this</span>
<span class="sd">      will decide where a positional argument is located in a command&#39;s</span>
<span class="sd">      signature.</span>
<span class="sd">    * If no parser is explicitly set on the command this is decorating before</span>
<span class="sd">      this decorator call then this will set `ShlexParser` as the parser.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">        The string identifier of this argument (may be used to pass the result</span>
<span class="sd">        of this argument to the command&#39;s callback during execution).</span>
<span class="sd">    converters : ConverterSig | collections.abc.Iterable[ConverterSig]</span>
<span class="sd">        The converter(s) this argument should use to handle values passed to it</span>
<span class="sd">        during parsing.</span>

<span class="sd">        If no converters are provided then the raw string value will be passed.</span>

<span class="sd">        Only the first converter to pass will be used.</span>
<span class="sd">    default : typing.Any</span>
<span class="sd">        The default value of this argument, if left as</span>
<span class="sd">        `UNDEFINED` then this will have no default.</span>
<span class="sd">    greedy : bool</span>
<span class="sd">        Whether or not this argument should be greedy (meaning that it</span>
<span class="sd">        takes in the remaining argument values).</span>
<span class="sd">    max_value</span>
<span class="sd">        Assert that the parsed value(s) for this argument are less than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>
<span class="sd">    min_value</span>
<span class="sd">        Assert that the parsed value(s) for this argument are greater than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>
<span class="sd">    multi : bool</span>
<span class="sd">        Whether this argument can be passed multiple times.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.MessageCommand], tanjun.abc.MessageCommand]:</span>
<span class="sd">        Decorator function for the message command this argument is being added to.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    import tanjun</span>

<span class="sd">    @tanjun.parsing.with_argument(&quot;command&quot;, converters=int, default=42)</span>
<span class="sd">    @tanjun.parsing.with_parser</span>
<span class="sd">    @tanjun.component.as_message_command(&quot;command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.Context, /, argument: int):</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">command</span><span class="p">:</span> <span class="n">_CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_CommandT</span><span class="p">:</span>
        <span class="n">_get_or_set_parser</span><span class="p">(</span><span class="n">command</span><span class="p">)</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="n">key</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">greedy</span><span class="o">=</span><span class="n">greedy</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">multi</span><span class="o">=</span><span class="n">multi</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an argument to a message command through a decorator call.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>Order matters for positional arguments and since decorator execution
starts at the decorator closest to the command and goes upwards this
will decide where a positional argument is located in a command's
signature.</li>
<li>If no parser is explicitly set on the command this is decorating before
this decorator call then this will set <code><a href="#ShlexParser">ShlexParser</a></code> as the parser.</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (str):
The string identifier of this argument (may be used to pass the result
of this argument to the command's callback during execution).</li>
<li><p><strong>converters</strong> (ConverterSig | collections.abc.Iterable[ConverterSig]):
The converter(s) this argument should use to handle values passed to it
during parsing.</p>

<p>If no converters are provided then the raw string value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>default</strong> (typing.Any):
The default value of this argument, if left as
<code>UNDEFINED</code> then this will have no default.</li>
<li><strong>greedy</strong> (bool):
Whether or not this argument should be greedy (meaning that it
takes in the remaining argument values).</li>
<li><strong>max_value</strong>: Assert that the parsed value(s) for this argument are less than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>min_value</strong>: Assert that the parsed value(s) for this argument are greater than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>multi</strong> (bool):
Whether this argument can be passed multiple times.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>]:</strong>: Decorator function for the message command this argument is being added to.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">tanjun</span>

<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_argument</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_parser</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
</div>


                </section>
                <section id="with_author_permission_check">
                            <div class="attr function"><a class="headerlink" href="#with_author_permission_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_author_permission_check</span><span class="signature">(
    permissions: Union[hikari.permissions.Permissions, int],
    *,
    error_message: Optional[str] = &#34;You don&#39;t have the permissions required to use this command&#34;,
    halt_execution: bool = False
) -&gt; collections.abc.Callable[[~CommandT], ~CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_author_permission_check</span><span class="p">(</span>
    <span class="n">permissions</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Permissions</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;You don&#39;t have the permissions required to use this command&quot;</span><span class="p">,</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Only let a command run if the author has certain permissions in the current channel.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    permissions: hikari.Permissions | int</span>
<span class="sd">        The permission(s) required for this command to run.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to &quot;You don&#39;t have the permissions required to use this command&quot; and setting this to `None`</span>
<span class="sd">        will disable the error message allowing the command search to continue.</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * error_message takes priority over halt_execution.</span>
<span class="sd">    * This will only pass for commands in DMs if `permissions` is valid for</span>
<span class="sd">      a DM context (e.g. can&#39;t have any moderation permissions)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[CommandT], CommandT]</span>
<span class="sd">        A command decorator callback which adds the check.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">command</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span>
        <span class="n">AuthorPermissionCheck</span><span class="p">(</span><span class="n">permissions</span><span class="p">,</span> <span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Only let a command run if the author has certain permissions in the current channel.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>permissions</strong> (hikari.Permissions | int):
The permission(s) required for this command to run.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to "You don't have the permissions required to use this command" and setting this to <code>None</code>
will disable the error message allowing the command search to continue.</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="notes">Notes</h6>

<ul>
<li>error_message takes priority over halt_execution.</li>
<li>This will only pass for commands in DMs if <code>permissions</code> is valid for
a DM context (e.g. can't have any moderation permissions)</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[CommandT], CommandT]</strong>: A command decorator callback which adds the check.</li>
</ul>
</div>


                </section>
                <section id="with_bool_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_bool_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_bool_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_bool_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a boolean option to a slash command.</span>

<span class="sd">    For information on this function&#39;s parameters see `SlashContext.add_bool_option`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_bool_slash_option(&quot;flag&quot;, &quot;Whether this flag should be enabled.&quot;, default=False)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, flag: bool) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_bool_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a boolean option to a slash command.</p>

<p>For information on this function's parameters see <code>SlashContext.add_bool_option</code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_bool_slash_option</span><span class="p">(</span><span class="s2">&quot;flag&quot;</span><span class="p">,</span> <span class="s2">&quot;Whether this flag should be enabled.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">flag</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_channel_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_channel_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_channel_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    types: Optional[collections.abc.Collection[type[hikari.channels.PartialChannel]]] = None,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_channel_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">PartialChannel</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
    <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a channel option to a slash command.</span>

<span class="sd">    For information on this function&#39;s parameters see `SlashCommand.add_channel_option`.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This will always result in `hikari..InteractionChannel`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_channel_slash_option(&quot;channel&quot;, &quot;channel to target.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, channel: hikari.InteractionChannel) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_channel_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="n">types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a channel option to a slash command.</p>

<p>For information on this function's parameters see <code><a href="#SlashCommand.add_channel_option">SlashCommand.add_channel_option</a></code>.</p>

<p><em>Note:</em>
This will always result in <code>hikari..InteractionChannel</code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_channel_slash_option</span><span class="p">(</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span> <span class="s2">&quot;channel to target.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionChannel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_check">
                            <div class="attr function"><a class="headerlink" href="#with_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_check</span><span class="signature">(
    check: collections.abc.Callable[..., typing.Union[bool, collections.abc.Awaitable[bool]]],
    /
) -&gt; collections.abc.Callable[[~CommandT], ~CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_check</span><span class="p">(</span><span class="n">check</span><span class="p">:</span> <span class="n">tanjun_abc</span><span class="o">.</span><span class="n">CheckSig</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a generic check to a command.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    check : tanjun.abc.CheckSig</span>
<span class="sd">        The check to add to this command.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[CommandT], CommandT]</span>
<span class="sd">        A command decorator callback which adds the check.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">command</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a generic check to a command.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>check</strong> (<a href="tanjun/abc.html#CheckSig">tanjun.abc.CheckSig</a>):
The check to add to this command.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[CommandT], CommandT]</strong>: A command decorator callback which adds the check.</li>
</ul>
</div>


                </section>
                <section id="with_concurrency_limit">
                            <div class="attr function"><a class="headerlink" href="#with_concurrency_limit">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_concurrency_limit</span><span class="signature">(
    bucket_id: str,
    /,
    *,
    error_message: str = &#39;This resource is currently busy; please try again later.&#39;
) -&gt; collections.abc.Callable[[~CommandT], ~CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_concurrency_limit</span><span class="p">(</span>
    <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;This resource is currently busy; please try again later.&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add the hooks used to manage a command&#39;s concurrency limit through a decorator call.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        Concurrency limiters will only work if there&#39;s a setup injected</span>
<span class="sd">        `AbstractConcurrencyLimiter` dependency with `InMemoryConcurrencyLimiter`</span>
<span class="sd">        being usable as a standard in-memory concurrency manager.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    bucket_id : str</span>
<span class="sd">        The concurrency limit bucket&#39;s ID.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str</span>
<span class="sd">        The error message to send in response as a command error if this fails</span>
<span class="sd">        to acquire the concurrency limit.</span>

<span class="sd">        Defaults to &quot;This resource is currently busy; please try again later.&quot;.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[CommandT], CommandT]</span>
<span class="sd">        A decorator that adds the concurrency limiter hooks to a command.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">command</span><span class="p">:</span> <span class="n">CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CommandT</span><span class="p">:</span>
        <span class="n">hooks_</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">hooks</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hooks_</span><span class="p">:</span>
            <span class="n">hooks_</span> <span class="o">=</span> <span class="n">hooks</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">()</span>
            <span class="n">command</span><span class="o">.</span><span class="n">set_hooks</span><span class="p">(</span><span class="n">hooks_</span><span class="p">)</span>

        <span class="n">hooks_</span><span class="o">.</span><span class="n">add_pre_execution</span><span class="p">(</span><span class="n">ConcurrencyPreExecution</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">))</span><span class="o">.</span><span class="n">add_post_execution</span><span class="p">(</span>
            <span class="n">ConcurrencyPostExecution</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add the hooks used to manage a command's concurrency limit through a decorator call.</p>

<p><em>Warning:</em>
Concurrency limiters will only work if there's a setup injected
<code>AbstractConcurrencyLimiter</code> dependency with <code><a href="#InMemoryConcurrencyLimiter">InMemoryConcurrencyLimiter</a></code>
being usable as a standard in-memory concurrency manager.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bucket_id</strong> (str):
The concurrency limit bucket's ID.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str):
The error message to send in response as a command error if this fails
to acquire the concurrency limit.</p>

<p>Defaults to "This resource is currently busy; please try again later.".</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[CommandT], CommandT]</strong>: A decorator that adds the concurrency limiter hooks to a command.</li>
</ul>
</div>


                </section>
                <section id="with_cooldown">
                            <div class="attr function"><a class="headerlink" href="#with_cooldown">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_cooldown</span><span class="signature">(
    bucket_id: str,
    /,
    *,
    error_message: str = &#39;Please wait {cooldown:0.2f} seconds before using this command again.&#39;,
    owners_exempt: bool = True
) -&gt; collections.abc.Callable[[~CommandT], ~CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_cooldown</span><span class="p">(</span>
    <span class="n">bucket_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Please wait </span><span class="si">{cooldown:0.2f}</span><span class="s2"> seconds before using this command again.&quot;</span><span class="p">,</span>
    <span class="n">owners_exempt</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a pre-execution hook used to manage a command&#39;s cooldown through a decorator call.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        Cooldowns will only work if there&#39;s a setup injected `AbstractCooldownManager`</span>
<span class="sd">        dependency with `InMemoryCooldownManager` being usable as a standard in-memory</span>
<span class="sd">        cooldown manager.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    bucket_id : str</span>
<span class="sd">        The cooldown bucket&#39;s ID.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to f&quot;Please wait {cooldown:0.2f} seconds before using this command again.&quot;.</span>
<span class="sd">    owners_exempt : bool</span>
<span class="sd">        Whether owners should be exempt from the cooldown.</span>

<span class="sd">        Defaults to `True`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[CommandT], CommandT]</span>
<span class="sd">        A decorator that adds a `CooldownPreExecution` hook to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">command</span><span class="p">:</span> <span class="n">CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CommandT</span><span class="p">:</span>
        <span class="n">hooks_</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">hooks</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hooks_</span><span class="p">:</span>
            <span class="n">hooks_</span> <span class="o">=</span> <span class="n">hooks</span><span class="o">.</span><span class="n">AnyHooks</span><span class="p">()</span>
            <span class="n">command</span><span class="o">.</span><span class="n">set_hooks</span><span class="p">(</span><span class="n">hooks_</span><span class="p">)</span>

        <span class="n">hooks_</span><span class="o">.</span><span class="n">add_pre_execution</span><span class="p">(</span>
            <span class="n">CooldownPreExecution</span><span class="p">(</span><span class="n">bucket_id</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">,</span> <span class="n">owners_exempt</span><span class="o">=</span><span class="n">owners_exempt</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a pre-execution hook used to manage a command's cooldown through a decorator call.</p>

<p><em>Warning:</em>
Cooldowns will only work if there's a setup injected <code>AbstractCooldownManager</code>
dependency with <code><a href="#InMemoryCooldownManager">InMemoryCooldownManager</a></code> being usable as a standard in-memory
cooldown manager.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bucket_id</strong> (str):
The cooldown bucket's ID.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to f"Please wait {cooldown:0.2f} seconds before using this command again.".</p></li>
<li><p><strong>owners_exempt</strong> (bool):
Whether owners should be exempt from the cooldown.</p>

<p>Defaults to <code>True</code>.</p></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[CommandT], CommandT]</strong>: A decorator that adds a <code>CooldownPreExecution</code> hook to the command.</li>
</ul>
</div>


                </section>
                <section id="with_dm_check">
                            <div class="attr function"><a class="headerlink" href="#with_dm_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_dm_check</span><span class="signature">(
    command: Optional[~CommandT] = None,
    /,
    *,
    error_message: Optional[str] = &#39;Command can only be used in DMs&#39;,
    halt_execution: bool = False
) -&gt; Union[~CommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_dm_check</span><span class="p">(</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Command can only be used in DMs&quot;</span><span class="p">,</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CallbackReturnT</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Only let a command run in a DM channel.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    command : CommandT | None</span>
<span class="sd">        The command to add this check to.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to &quot;Command can only be used in DMs&quot; and setting this to `None`</span>
<span class="sd">        will disable the error message allowing the command search to continue.</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * error_message takes priority over halt_execution.</span>
<span class="sd">    * For more information on how this is used with other parameters see</span>
<span class="sd">      `CallbackReturnT`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    CallbackReturnT[CommandT]</span>
<span class="sd">        The command this check was added to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_optional_kwargs</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">DmCheck</span><span class="p">(</span><span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Only let a command run in a DM channel.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (CommandT | None):
The command to add this check to.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to "Command can only be used in DMs" and setting this to <code>None</code>
will disable the error message allowing the command search to continue.</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="notes">Notes</h6>

<ul>
<li>error_message takes priority over halt_execution.</li>
<li>For more information on how this is used with other parameters see
<code>CallbackReturnT</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>CallbackReturnT[CommandT]</strong>: The command this check was added to.</li>
</ul>
</div>


                </section>
                <section id="with_float_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_float_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_float_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    always_float: bool = True,
    autocomplete: Optional[collections.abc.Callable[..., collections.abc.Awaitable[None]]] = None,
    choices: Optional[collections.abc.Mapping[str, float]] = None,
    converters: Union[collections.abc.Collection[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any = &lt;object object&gt;,
    min_value: Optional[float] = None,
    max_value: Optional[float] = None,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_float_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">always_float</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a float option to a slash command.</span>

<span class="sd">    For information on this function&#39;s parameters see `SlashCommand.add_float_option`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_float_slash_option(&quot;float_value&quot;, &quot;Float value.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, float_value: float) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_float_option</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="p">,</span>
        <span class="n">always_float</span><span class="o">=</span><span class="n">always_float</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
        <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
        <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a float option to a slash command.</p>

<p>For information on this function's parameters see <code><a href="#SlashCommand.add_float_option">SlashCommand.add_float_option</a></code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_float_slash_option</span><span class="p">(</span><span class="s2">&quot;float_value&quot;</span><span class="p">,</span> <span class="s2">&quot;Float value.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">float_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_greedy_argument">
                            <div class="attr function"><a class="headerlink" href="#with_greedy_argument">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_greedy_argument</span><span class="signature">(
    key: str,
    /,
    converters: Union[collections.abc.Iterable[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    *,
    default: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, Any] = UNDEFINED,
    max_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    min_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED
) -&gt; collections.abc.Callable[[~_CommandT], ~_CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_greedy_argument</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CommandT</span><span class="p">],</span> <span class="n">_CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a greedy argument to a message command through a decorator call.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * A greedy argument will consume the remaining positional arguments and pass</span>
<span class="sd">      them through to the converters as one joined string while also requiring</span>
<span class="sd">      that at least one more positional argument is remaining unless a</span>
<span class="sd">      default is set.</span>
<span class="sd">    * Order matters for positional arguments and since decorator execution</span>
<span class="sd">      starts at the decorator closest to the command and goes upwards this</span>
<span class="sd">      will decide where a positional argument is located in a command&#39;s</span>
<span class="sd">      signature.</span>
<span class="sd">    * If no parser is explicitly set on the command this is decorating before</span>
<span class="sd">      this decorator call then this will set `ShlexParser` as the parser.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">        The string identifier of this argument (may be used to pass the result</span>
<span class="sd">        of this argument to the command&#39;s callback during execution).</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    converters : ConverterSig | collections.abc.Iterable[ConverterSig]</span>
<span class="sd">        The converter(s) this argument should use to handle values passed to it</span>
<span class="sd">        during parsing.</span>

<span class="sd">        If no converters are provided then the raw string value will be passed.</span>

<span class="sd">        Only the first converter to pass will be used.</span>
<span class="sd">    default : typing.Any</span>
<span class="sd">        The default value of this argument, if left as</span>
<span class="sd">        `UNDEFINED` then this will have no default.</span>
<span class="sd">    max_value</span>
<span class="sd">        Assert that the parsed value(s) for this argument are less than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>
<span class="sd">    min_value</span>
<span class="sd">        Assert that the parsed value(s) for this argument are greater than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.MessageCommand], tanjun.abc.MessageCommand]:</span>
<span class="sd">        Decorator function for the message command this argument is being added to.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    import tanjun</span>

<span class="sd">    @tanjun.parsing.with_greedy_argument(&quot;command&quot;, converters=StringView)</span>
<span class="sd">    @tanjun.parsing.with_parser</span>
<span class="sd">    @tanjun.component.as_message_command(&quot;command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.Context, /, argument: StringView):</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">with_argument</span><span class="p">(</span>
        <span class="n">key</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">greedy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a greedy argument to a message command through a decorator call.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>A greedy argument will consume the remaining positional arguments and pass
them through to the converters as one joined string while also requiring
that at least one more positional argument is remaining unless a
default is set.</li>
<li>Order matters for positional arguments and since decorator execution
starts at the decorator closest to the command and goes upwards this
will decide where a positional argument is located in a command's
signature.</li>
<li>If no parser is explicitly set on the command this is decorating before
this decorator call then this will set <code><a href="#ShlexParser">ShlexParser</a></code> as the parser.</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (str):
The string identifier of this argument (may be used to pass the result
of this argument to the command's callback during execution).</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>converters</strong> (ConverterSig | collections.abc.Iterable[ConverterSig]):
The converter(s) this argument should use to handle values passed to it
during parsing.</p>

<p>If no converters are provided then the raw string value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>default</strong> (typing.Any):
The default value of this argument, if left as
<code>UNDEFINED</code> then this will have no default.</li>
<li><strong>max_value</strong>: Assert that the parsed value(s) for this argument are less than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>min_value</strong>: Assert that the parsed value(s) for this argument are greater than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>]:</strong>: Decorator function for the message command this argument is being added to.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">tanjun</span>

<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_greedy_argument</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="n">StringView</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_parser</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="n">StringView</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
</div>


                </section>
                <section id="with_guild_check">
                            <div class="attr function"><a class="headerlink" href="#with_guild_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_guild_check</span><span class="signature">(
    command: Optional[~CommandT] = None,
    /,
    *,
    error_message: Optional[str] = &#39;Command can only be used in guild channels&#39;,
    halt_execution: bool = False
) -&gt; Union[~CommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_guild_check</span><span class="p">(</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Command can only be used in guild channels&quot;</span><span class="p">,</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CallbackReturnT</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Only let a command run in a guild channel.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    command : CommandT | None</span>
<span class="sd">        The command to add this check to.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to &quot;Command can only be used in guild channels&quot; and setting this to `None`</span>
<span class="sd">        will disable the error message allowing the command search to continue.</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * error_message takes priority over halt_execution.</span>
<span class="sd">    * For more information on how this is used with other parameters see</span>
<span class="sd">      `CallbackReturnT`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    CallbackReturnT[CommandT]</span>
<span class="sd">        The command this check was added to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_optional_kwargs</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">GuildCheck</span><span class="p">(</span><span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Only let a command run in a guild channel.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (CommandT | None):
The command to add this check to.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to "Command can only be used in guild channels" and setting this to <code>None</code>
will disable the error message allowing the command search to continue.</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="notes">Notes</h6>

<ul>
<li>error_message takes priority over halt_execution.</li>
<li>For more information on how this is used with other parameters see
<code>CallbackReturnT</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>CallbackReturnT[CommandT]</strong>: The command this check was added to.</li>
</ul>
</div>


                </section>
                <section id="with_int_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_int_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_int_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    autocomplete: Optional[collections.abc.Callable[..., collections.abc.Awaitable[None]]] = None,
    choices: Optional[collections.abc.Mapping[str, int]] = None,
    converters: Union[collections.abc.Collection[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any = &lt;object object&gt;,
    min_value: Optional[int] = None,
    max_value: Optional[int] = None,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_int_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add an integer option to a slash command.</span>

<span class="sd">    For information on this function&#39;s parameters see `SlashCommand.add_int_option`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_int_slash_option(&quot;int_value&quot;, &quot;Int value.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, int_value: int) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_int_option</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
        <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
        <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an integer option to a slash command.</p>

<p>For information on this function's parameters see <code><a href="#SlashCommand.add_int_option">SlashCommand.add_int_option</a></code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_int_slash_option</span><span class="p">(</span><span class="s2">&quot;int_value&quot;</span><span class="p">,</span> <span class="s2">&quot;Int value.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">int_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_member_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_member_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_member_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_member_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a member option to a slash command.</span>

<span class="sd">    For information on this function&#39;s arguments see `SlashCommand.add_member_option`.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This will always result in `hikari.InteractionMember`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_member_slash_option(&quot;member&quot;, &quot;member to target.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, member: hikari.InteractionMember) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_member_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a member option to a slash command.</p>

<p>For information on this function's arguments see <code><a href="#SlashCommand.add_member_option">SlashCommand.add_member_option</a></code>.</p>

<p><em>Note:</em>
This will always result in <code>hikari.InteractionMember</code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_member_slash_option</span><span class="p">(</span><span class="s2">&quot;member&quot;</span><span class="p">,</span> <span class="s2">&quot;member to target.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">InteractionMember</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_mentionable_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_mentionable_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_mentionable_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_mentionable_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a mentionable option to a slash command.</span>

<span class="sd">    For information on this function&#39;s arguments see `SlashCommand.add_mentionable_option`.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This may target roles, guild members or users and results in</span>
<span class="sd">        `Union[hikari.User, hikari.InteractionMember, hikari.Role]`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_mentionable_slash_option(&quot;mentionable&quot;, &quot;Mentionable entity to target.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, mentionable: [Role, InteractionMember, User]) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_mentionable_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a mentionable option to a slash command.</p>

<p>For information on this function's arguments see <code><a href="#SlashCommand.add_mentionable_option">SlashCommand.add_mentionable_option</a></code>.</p>

<p><em>Note:</em>
This may target roles, guild members or users and results in
<code>Union[hikari.User, hikari.InteractionMember, hikari.Role]</code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_mentionable_slash_option</span><span class="p">(</span><span class="s2">&quot;mentionable&quot;</span><span class="p">,</span> <span class="s2">&quot;Mentionable entity to target.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">mentionable</span><span class="p">:</span> <span class="p">[</span><span class="n">Role</span><span class="p">,</span> <span class="n">InteractionMember</span><span class="p">,</span> <span class="n">User</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_multi_argument">
                            <div class="attr function"><a class="headerlink" href="#with_multi_argument">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_multi_argument</span><span class="signature">(
    key: str,
    /,
    converters: Union[collections.abc.Iterable[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    *,
    default: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, Any] = UNDEFINED,
    max_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    min_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED
) -&gt; collections.abc.Callable[[~_CommandT], ~_CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_multi_argument</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CommandT</span><span class="p">],</span> <span class="n">_CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a multi-argument to a message command through a decorator call.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * A multi argument will consume the remaining positional arguments and pass</span>
<span class="sd">      them to the converters through multiple calls while also requiring that</span>
<span class="sd">      at least one more positional argument is remaining unless a default is</span>
<span class="sd">      set and passing through the results to the command&#39;s callback as a</span>
<span class="sd">      sequence.</span>
<span class="sd">    * Order matters for positional arguments and since decorator execution</span>
<span class="sd">      starts at the decorator closest to the command and goes upwards this</span>
<span class="sd">      will decide where a positional argument is located in a command&#39;s</span>
<span class="sd">      signature.</span>
<span class="sd">    * If no parser is explicitly set on the command this is decorating before</span>
<span class="sd">      this decorator call then this will set `ShlexParser` as the parser.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">        The string identifier of this argument (may be used to pass the result</span>
<span class="sd">        of this argument to the command&#39;s callback during execution).</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    converters : ConverterSig | collections.abc.Iterable[ConverterSig]</span>
<span class="sd">        The converter(s) this argument should use to handle values passed to it</span>
<span class="sd">        during parsing.</span>

<span class="sd">        If no converters are provided then the raw string value will be passed.</span>

<span class="sd">        Only the first converter to pass will be used.</span>
<span class="sd">    default : typing.Any</span>
<span class="sd">        The default value of this argument, if left as</span>
<span class="sd">        `UNDEFINED` then this will have no default.</span>
<span class="sd">    max_value</span>
<span class="sd">        Assert that the parsed value(s) for this argument are less than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>
<span class="sd">    min_value</span>
<span class="sd">        Assert that the parsed value(s) for this argument are greater than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.MessageCommand], tanjun.abc.MessageCommand]:</span>
<span class="sd">        Decorator function for the message command this argument is being added to.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    import tanjun</span>

<span class="sd">    @tanjun.parsing.with_multi_argument(&quot;command&quot;, converters=int)</span>
<span class="sd">    @tanjun.parsing.with_parser</span>
<span class="sd">    @tanjun.component.as_message_command(&quot;command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.Context, /, argument: collections.abc.Sequence[int]):</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">with_argument</span><span class="p">(</span>
        <span class="n">key</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a multi-argument to a message command through a decorator call.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>A multi argument will consume the remaining positional arguments and pass
them to the converters through multiple calls while also requiring that
at least one more positional argument is remaining unless a default is
set and passing through the results to the command's callback as a
sequence.</li>
<li>Order matters for positional arguments and since decorator execution
starts at the decorator closest to the command and goes upwards this
will decide where a positional argument is located in a command's
signature.</li>
<li>If no parser is explicitly set on the command this is decorating before
this decorator call then this will set <code><a href="#ShlexParser">ShlexParser</a></code> as the parser.</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (str):
The string identifier of this argument (may be used to pass the result
of this argument to the command's callback during execution).</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>converters</strong> (ConverterSig | collections.abc.Iterable[ConverterSig]):
The converter(s) this argument should use to handle values passed to it
during parsing.</p>

<p>If no converters are provided then the raw string value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>default</strong> (typing.Any):
The default value of this argument, if left as
<code>UNDEFINED</code> then this will have no default.</li>
<li><strong>max_value</strong>: Assert that the parsed value(s) for this argument are less than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>min_value</strong>: Assert that the parsed value(s) for this argument are greater than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>]:</strong>: Decorator function for the message command this argument is being added to.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">tanjun</span>

<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_multi_argument</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_parser</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
    <span class="o">...</span>
</code></pre></div>
</div>


                </section>
                <section id="with_multi_option">
                            <div class="attr function"><a class="headerlink" href="#with_multi_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_multi_option</span><span class="signature">(
    key: str,
    name: str,
    /,
    *names: str,
    converters: Union[collections.abc.Iterable[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any,
    empty_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, Any] = UNDEFINED,
    max_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    min_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED
) -&gt; collections.abc.Callable[[~_CommandT], ~_CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_multi_option</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
    <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CommandT</span><span class="p">],</span> <span class="n">_CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add an multi-option to a command&#39;s parser through a decorator call.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * A multi option will consume all the values provided for an option and</span>
<span class="sd">      pass them through to the converters as an array of strings while also</span>
<span class="sd">      requiring that at least one value is provided for the option unless</span>
<span class="sd">      a default is set.</span>
<span class="sd">    * If no parser is explicitly set on the command this is decorating before</span>
<span class="sd">      this decorator call then this will set `ShlexParser` as the parser.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">        The string identifier of this option which will be used to pass the</span>
<span class="sd">        result of this argument to the command&#39;s callback during execution as</span>
<span class="sd">        a keyword argument.</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of this option used for identifying it in the parsed content.</span>
<span class="sd">    default : typing.Any</span>
<span class="sd">        The default value of this argument, unlike arguments this is required</span>
<span class="sd">        for options.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    *names : str</span>
<span class="sd">        Other names of this option used for identifying it in the parsed content.</span>
<span class="sd">    converters : ConverterSig | collections.abc.Iterable[ConverterSig]</span>
<span class="sd">        The converter(s) this argument should use to handle values passed to it</span>
<span class="sd">        during parsing.</span>

<span class="sd">        If no converters are provided then the raw string value will be passed.</span>

<span class="sd">        Only the first converter to pass will be used.</span>
<span class="sd">    empty_value : typing.Any</span>
<span class="sd">        The value to use if this option is provided without a value. If left as</span>
<span class="sd">        `UNDEFINED` then this option will error if it&#39;s</span>
<span class="sd">        provided without a value.</span>
<span class="sd">    max_value</span>
<span class="sd">        Assert that the parsed value(s) for this option are less than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>
<span class="sd">    min_value</span>
<span class="sd">        Assert that the parsed value(s) for this option are greater than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.MessageCommand], tanjun.abc.MessageCommand]:</span>
<span class="sd">        Decorator function for the message command this option is being added to.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    import tanjun</span>

<span class="sd">    @tanjun.parsing.with_multi_option(&quot;command&quot;, converters=int, default=())</span>
<span class="sd">    @tanjun.parsing.with_parser</span>
<span class="sd">    @tanjun.component.as_message_command(&quot;command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.Context, /, argument: collections.abc.Sequence[int]):</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">with_option</span><span class="p">(</span>
        <span class="n">key</span><span class="p">,</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="o">*</span><span class="n">names</span><span class="p">,</span>
        <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">empty_value</span><span class="o">=</span><span class="n">empty_value</span><span class="p">,</span>
        <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
        <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
        <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an multi-option to a command's parser through a decorator call.</p>

<h6 id="notes">Notes</h6>

<ul>
<li>A multi option will consume all the values provided for an option and
pass them through to the converters as an array of strings while also
requiring that at least one value is provided for the option unless
a default is set.</li>
<li>If no parser is explicitly set on the command this is decorating before
this decorator call then this will set <code><a href="#ShlexParser">ShlexParser</a></code> as the parser.</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (str):
The string identifier of this option which will be used to pass the
result of this argument to the command's callback during execution as
a keyword argument.</li>
<li><strong>name</strong> (str):
The name of this option used for identifying it in the parsed content.</li>
<li><strong>default</strong> (typing.Any):
The default value of this argument, unlike arguments this is required
for options.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*names</strong> (str):
Other names of this option used for identifying it in the parsed content.</li>
<li><p><strong>converters</strong> (ConverterSig | collections.abc.Iterable[ConverterSig]):
The converter(s) this argument should use to handle values passed to it
during parsing.</p>

<p>If no converters are provided then the raw string value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>empty_value</strong> (typing.Any):
The value to use if this option is provided without a value. If left as
<code>UNDEFINED</code> then this option will error if it's
provided without a value.</li>
<li><strong>max_value</strong>: Assert that the parsed value(s) for this option are less than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>min_value</strong>: Assert that the parsed value(s) for this option are greater than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>]:</strong>: Decorator function for the message command this option is being added to.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">tanjun</span>

<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_multi_option</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">())</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_parser</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
    <span class="o">...</span>
</code></pre></div>
</div>


                </section>
                <section id="with_nsfw_check">
                            <div class="attr function"><a class="headerlink" href="#with_nsfw_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_nsfw_check</span><span class="signature">(
    command: Optional[~CommandT] = None,
    /,
    *,
    error_message: Optional[str] = &#39;Command can only be used in NSFW channels&#39;,
    halt_execution: bool = False
) -&gt; Union[~CommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_nsfw_check</span><span class="p">(</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Command can only be used in NSFW channels&quot;</span><span class="p">,</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CallbackReturnT</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Only let a command run in a channel that&#39;s marked as nsfw.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    command : CommandT | None</span>
<span class="sd">        The command to add this check to.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to &quot;Command can only be used in NSFW channels&quot; and setting this to `None`</span>
<span class="sd">        will disable the error message allowing the command search to continue.</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * error_message takes priority over halt_execution.</span>
<span class="sd">    * For more information on how this is used with other parameters see</span>
<span class="sd">      `CallbackReturnT`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    CallbackReturnT[CommandT]</span>
<span class="sd">        The command this check was added to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_optional_kwargs</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">NsfwCheck</span><span class="p">(</span><span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Only let a command run in a channel that's marked as nsfw.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (CommandT | None):
The command to add this check to.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to "Command can only be used in NSFW channels" and setting this to <code>None</code>
will disable the error message allowing the command search to continue.</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="notes">Notes</h6>

<ul>
<li>error_message takes priority over halt_execution.</li>
<li>For more information on how this is used with other parameters see
<code>CallbackReturnT</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>CallbackReturnT[CommandT]</strong>: The command this check was added to.</li>
</ul>
</div>


                </section>
                <section id="with_option">
                            <div class="attr function"><a class="headerlink" href="#with_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_option</span><span class="signature">(
    key: str,
    name: str,
    /,
    *names: str,
    converters: Union[collections.abc.Iterable[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any,
    empty_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, Any] = UNDEFINED,
    max_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    min_value: Union[<a href="tanjun/parsing.html#UndefinedT">tanjun.parsing.UndefinedT</a>, <a href="tanjun/parsing.html#_CmpProto">tanjun.parsing._CmpProto</a>[Any]] = UNDEFINED,
    multi: bool = False
) -&gt; collections.abc.Callable[[~_CommandT], ~_CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_option</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="n">names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">_MaybeIterable</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
    <span class="n">empty_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="n">_UndefinedOr</span><span class="p">[</span><span class="n">_CmpProto</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">UNDEFINED</span><span class="p">,</span>
    <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_CommandT</span><span class="p">],</span> <span class="n">_CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add an option to a message command through a decorator call.</span>

<span class="sd">    .. note::</span>
<span class="sd">        If no parser is explicitly set on the command this is decorating before</span>
<span class="sd">        this decorator call then this will set `ShlexParser` as the parser.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">        The string identifier of this option which will be used to pass the</span>
<span class="sd">        result of this argument to the command&#39;s callback during execution as</span>
<span class="sd">        a keyword argument.</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of this option used for identifying it in the parsed content.</span>
<span class="sd">    default : typing.Any</span>
<span class="sd">        The default value of this argument, unlike arguments this is required</span>
<span class="sd">        for options.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    *names : str</span>
<span class="sd">        Other names of this option used for identifying it in the parsed content.</span>
<span class="sd">    converters : ConverterSig | collections.abc.Iterable[ConverterSig]</span>
<span class="sd">        The converter(s) this argument should use to handle values passed to it</span>
<span class="sd">        during parsing.</span>

<span class="sd">        If no converters are provided then the raw string value will be passed.</span>

<span class="sd">        Only the first converter to pass will be used.</span>
<span class="sd">    empty_value : typing.Any</span>
<span class="sd">        The value to use if this option is provided without a value. If left as</span>
<span class="sd">        `UNDEFINED` then this option will error if it&#39;s</span>
<span class="sd">        provided without a value.</span>
<span class="sd">    max_value</span>
<span class="sd">        Assert that the parsed value(s) for this option are less than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>
<span class="sd">    min_value</span>
<span class="sd">        Assert that the parsed value(s) for this option are greater than or equal to this.</span>

<span class="sd">        If any converters are provided then this should be compatible</span>
<span class="sd">        with the result of them.</span>
<span class="sd">    multi : bool</span>
<span class="sd">        If this option can be provided multiple times.</span>
<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[tanjun.abc.MessageCommand], tanjun.abc.MessageCommand]:</span>
<span class="sd">        Decorator function for the message command this option is being added to.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    import tanjun</span>

<span class="sd">    @tanjun.parsing.with_option(&quot;command&quot;, converters=int, default=42)</span>
<span class="sd">    @tanjun.parsing.with_parser</span>
<span class="sd">    @tanjun.component.as_message_command(&quot;command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.Context, /, argument: int):</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">command</span><span class="p">:</span> <span class="n">_CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_CommandT</span><span class="p">:</span>
        <span class="n">_get_or_set_parser</span><span class="p">(</span><span class="n">command</span><span class="p">)</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="n">key</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="o">*</span><span class="n">names</span><span class="p">,</span>
            <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">empty_value</span><span class="o">=</span><span class="n">empty_value</span><span class="p">,</span>
            <span class="n">max_value</span><span class="o">=</span><span class="n">max_value</span><span class="p">,</span>
            <span class="n">min_value</span><span class="o">=</span><span class="n">min_value</span><span class="p">,</span>
            <span class="n">multi</span><span class="o">=</span><span class="n">multi</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add an option to a message command through a decorator call.</p>

<p><em>Note:</em>
If no parser is explicitly set on the command this is decorating before
this decorator call then this will set <code><a href="#ShlexParser">ShlexParser</a></code> as the parser.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>key</strong> (str):
The string identifier of this option which will be used to pass the
result of this argument to the command's callback during execution as
a keyword argument.</li>
<li><strong>name</strong> (str):
The name of this option used for identifying it in the parsed content.</li>
<li><strong>default</strong> (typing.Any):
The default value of this argument, unlike arguments this is required
for options.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>*names</strong> (str):
Other names of this option used for identifying it in the parsed content.</li>
<li><p><strong>converters</strong> (ConverterSig | collections.abc.Iterable[ConverterSig]):
The converter(s) this argument should use to handle values passed to it
during parsing.</p>

<p>If no converters are provided then the raw string value will be passed.</p>

<p>Only the first converter to pass will be used.</p></li>
<li><strong>empty_value</strong> (typing.Any):
The value to use if this option is provided without a value. If left as
<code>UNDEFINED</code> then this option will error if it's
provided without a value.</li>
<li><strong>max_value</strong>: Assert that the parsed value(s) for this option are less than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>min_value</strong>: Assert that the parsed value(s) for this option are greater than or equal to this.</li>
</ul>

<p>If any converters are provided then this should be compatible
with the result of them.</p>

<ul>
<li><strong>multi</strong> (bool):
If this option can be provided multiple times.
Defaults to <code>False</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[<a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>], <a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a>]:</strong>: Decorator function for the message command this option is being added to.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">tanjun</span>

<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_option</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">parsing</span><span class="o">.</span><span class="n">with_parser</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">component</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
</div>


                </section>
                <section id="with_own_permission_check">
                            <div class="attr function"><a class="headerlink" href="#with_own_permission_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_own_permission_check</span><span class="signature">(
    permissions: Union[hikari.permissions.Permissions, int],
    *,
    error_message: Optional[str] = &#34;Bot doesn&#39;t have the permissions required to run this command&#34;,
    halt_execution: bool = False
) -&gt; collections.abc.Callable[[~CommandT], ~CommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_own_permission_check</span><span class="p">(</span>
    <span class="n">permissions</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">hikari</span><span class="o">.</span><span class="n">Permissions</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Bot doesn&#39;t have the permissions required to run this command&quot;</span><span class="p">,</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">CommandT</span><span class="p">],</span> <span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Only let a command run if we have certain permissions in the current channel.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    permissions: hikari.Permissions | int</span>
<span class="sd">        The permission(s) required for this command to run.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to &quot;Bot doesn&#39;t have the permissions required to run this command&quot; and setting this to `None`</span>
<span class="sd">        will disable the error message allowing the command search to continue.</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * error_message takes priority over halt_execution.</span>
<span class="sd">    * This will only pass for commands in DMs if `permissions` is valid for</span>
<span class="sd">      a DM context (e.g. can&#39;t have any moderation permissions)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[CommandT], CommandT]</span>
<span class="sd">        A command decorator callback which adds the check.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">command</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">add_check</span><span class="p">(</span>
        <span class="n">OwnPermissionCheck</span><span class="p">(</span><span class="n">permissions</span><span class="p">,</span> <span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Only let a command run if we have certain permissions in the current channel.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>permissions</strong> (hikari.Permissions | int):
The permission(s) required for this command to run.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to "Bot doesn't have the permissions required to run this command" and setting this to <code>None</code>
will disable the error message allowing the command search to continue.</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="notes">Notes</h6>

<ul>
<li>error_message takes priority over halt_execution.</li>
<li>This will only pass for commands in DMs if <code>permissions</code> is valid for
a DM context (e.g. can't have any moderation permissions)</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[CommandT], CommandT]</strong>: A command decorator callback which adds the check.</li>
</ul>
</div>


                </section>
                <section id="with_owner_check">
                            <div class="attr function"><a class="headerlink" href="#with_owner_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_owner_check</span><span class="signature">(
    command: Optional[~CommandT] = None,
    /,
    *,
    error_message: Optional[str] = &#39;Only bot owners can use this command&#39;,
    halt_execution: bool = False
) -&gt; Union[~CommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_owner_check</span><span class="p">(</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Only bot owners can use this command&quot;</span><span class="p">,</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CallbackReturnT</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Only let a command run if it&#39;s being triggered by one of the bot&#39;s owners.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    command : CommandT | None</span>
<span class="sd">        The command to add this check to.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to &quot;Only bot owners can use this command&quot; and setting this to `None`</span>
<span class="sd">        will disable the error message allowing the command search to continue.</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * error_message takes priority over halt_execution.</span>
<span class="sd">    * For more information on how this is used with other parameters see</span>
<span class="sd">      `CallbackReturnT`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    CallbackReturnT[CommandT]</span>
<span class="sd">        The command this check was added to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_optional_kwargs</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">OwnerCheck</span><span class="p">(</span><span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Only let a command run if it's being triggered by one of the bot's owners.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (CommandT | None):
The command to add this check to.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to "Only bot owners can use this command" and setting this to <code>None</code>
will disable the error message allowing the command search to continue.</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="notes">Notes</h6>

<ul>
<li>error_message takes priority over halt_execution.</li>
<li>For more information on how this is used with other parameters see
<code>CallbackReturnT</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>CallbackReturnT[CommandT]</strong>: The command this check was added to.</li>
</ul>
</div>


                </section>
                <section id="with_parser">
                            <div class="attr function"><a class="headerlink" href="#with_parser">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_parser</span><span class="signature">(command: ~_CommandT, /) -&gt; ~_CommandT</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_parser</span><span class="p">(</span><span class="n">command</span><span class="p">:</span> <span class="n">_CommandT</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_CommandT</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a shlex parser command parser to a supported command.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ```py</span>
<span class="sd">    @tanjun.with_argument(&quot;arg&quot;, converters=int)</span>
<span class="sd">    @tanjun.with_parser</span>
<span class="sd">    @tanjun.as_message_command(&quot;hi&quot;)</span>
<span class="sd">    async def hi(ctx: tanjun.MessageContext, arg: int) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    command : tanjun.abc.MessageCommands</span>
<span class="sd">        The message command to set the parser on.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tanjun.abc.MessageCommand</span>
<span class="sd">        The command with the parser set.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the command already has a parser set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">command</span><span class="o">.</span><span class="n">parser</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Command already has a parser set&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">command</span><span class="o">.</span><span class="n">set_parser</span><span class="p">(</span><span class="n">ShlexParser</span><span class="p">())</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a shlex parser command parser to a supported command.</p>

<h6 id="example">Example</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@tanjun</span><span class="o">.</span><span class="n">with_argument</span><span class="p">(</span><span class="s2">&quot;arg&quot;</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">with_parser</span>
<span class="nd">@tanjun</span><span class="o">.</span><span class="n">as_message_command</span><span class="p">(</span><span class="s2">&quot;hi&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">hi</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">MessageContext</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (<a href="tanjun/abc.html#MessageCommands">tanjun.abc.MessageCommands</a>):
The message command to set the parser on.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><a href="tanjun/abc.html#MessageCommand">tanjun.abc.MessageCommand</a></strong>: The command with the parser set.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>: If the command already has a parser set.</li>
</ul>
</div>


                </section>
                <section id="with_role_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_role_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_role_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_role_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a role option to a slash command.</span>

<span class="sd">    For information on this function&#39;s parameters see `SlashCommand.add_role_option`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_role_slash_option(&quot;role&quot;, &quot;Role to target.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, role: hikari.Role) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_role_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a role option to a slash command.</p>

<p>For information on this function's parameters see <code><a href="#SlashCommand.add_role_option">SlashCommand.add_role_option</a></code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_role_slash_option</span><span class="p">(</span><span class="s2">&quot;role&quot;</span><span class="p">,</span> <span class="s2">&quot;Role to target.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">role</span><span class="p">:</span> <span class="n">hikari</span><span class="o">.</span><span class="n">Role</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_sfw_check">
                            <div class="attr function"><a class="headerlink" href="#with_sfw_check">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_sfw_check</span><span class="signature">(
    command: Optional[~CommandT] = None,
    /,
    *,
    error_message: Optional[str] = &#39;Command can only be used in SFW channels&#39;,
    halt_execution: bool = False
) -&gt; Union[~CommandT, collections.abc.Callable[[~CommandT], ~CommandT]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_sfw_check</span><span class="p">(</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">error_message</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Command can only be used in SFW channels&quot;</span><span class="p">,</span>
    <span class="n">halt_execution</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CallbackReturnT</span><span class="p">[</span><span class="n">CommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Only let a command run in a channel that&#39;s marked as sfw.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    command : CommandT | None</span>
<span class="sd">        The command to add this check to.</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    error_message : str | None</span>
<span class="sd">        The error message to send in response as a command error if the check fails.</span>

<span class="sd">        Defaults to &quot;Command can only be used in SFW channels&quot; and setting this to `None`</span>
<span class="sd">        will disable the error message allowing the command search to continue.</span>
<span class="sd">    halt_execution : bool</span>
<span class="sd">        Whether this check should raise `tanjun.errors.HaltExecution` to</span>
<span class="sd">        end the execution search when it fails instead of returning `False`.</span>

<span class="sd">        Defaults to `False`.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    * error_message takes priority over halt_execution.</span>
<span class="sd">    * For more information on how this is used with other parameters see</span>
<span class="sd">      `CallbackReturnT`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    CallbackReturnT[CommandT]</span>
<span class="sd">        The command this check was added to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_optional_kwargs</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">SfwCheck</span><span class="p">(</span><span class="n">halt_execution</span><span class="o">=</span><span class="n">halt_execution</span><span class="p">,</span> <span class="n">error_message</span><span class="o">=</span><span class="n">error_message</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Only let a command run in a channel that's marked as sfw.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>command</strong> (CommandT | None):
The command to add this check to.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><p><strong>error_message</strong> (str | None):
The error message to send in response as a command error if the check fails.</p>

<p>Defaults to "Command can only be used in SFW channels" and setting this to <code>None</code>
will disable the error message allowing the command search to continue.</p></li>
<li><p><strong>halt_execution</strong> (bool):
Whether this check should raise <code><a href="tanjun/errors.html#HaltExecution">tanjun.errors.HaltExecution</a></code> to
end the execution search when it fails instead of returning <code>False</code>.</p>

<p>Defaults to <code>False</code>.</p></li>
</ul>

<h6 id="notes">Notes</h6>

<ul>
<li>error_message takes priority over halt_execution.</li>
<li>For more information on how this is used with other parameters see
<code>CallbackReturnT</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>CallbackReturnT[CommandT]</strong>: The command this check was added to.</li>
</ul>
</div>


                </section>
                <section id="with_str_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_str_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_str_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    autocomplete: Optional[collections.abc.Callable[..., collections.abc.Awaitable[None]]] = None,
    choices: Union[collections.abc.Mapping[str, str], collections.abc.Sequence[str], NoneType] = None,
    converters: Union[collections.abc.Sequence[collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]], collections.abc.Callable[..., Union[Any, collections.abc.Awaitable[Any]]]] = (),
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_str_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">autocomplete</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">abc</span><span class="o">.</span><span class="n">AutocompleteCallbackSig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">choices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">converters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">ConverterSig</span><span class="p">],</span> <span class="n">ConverterSig</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span>
    <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a string option to a slash command.</span>

<span class="sd">    For more information on this function&#39;s parameters see `SlashCommand.add_str_option`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_str_slash_option(&quot;name&quot;, &quot;A name.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, name: str) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_str_option</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="p">,</span>
        <span class="n">autocomplete</span><span class="o">=</span><span class="n">autocomplete</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">converters</span><span class="o">=</span><span class="n">converters</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">,</span>
        <span class="n">_stack_level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a string option to a slash command.</p>

<p>For more information on this function's parameters see <code><a href="#SlashCommand.add_str_option">SlashCommand.add_str_option</a></code>.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_str_slash_option</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;A name.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
                <section id="with_user_slash_option">
                            <div class="attr function"><a class="headerlink" href="#with_user_slash_option">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">with_user_slash_option</span><span class="signature">(
    name: str,
    description: str,
    /,
    *,
    default: Any = &lt;object object&gt;,
    pass_as_kwarg: bool = True
) -&gt; collections.abc.Callable[[~_SlashCommandT], ~_SlashCommandT]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">def</span> <span class="nf">with_user_slash_option</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">UNDEFINED_DEFAULT</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_SlashCommandT</span><span class="p">],</span> <span class="n">_SlashCommandT</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Add a user option to a slash command.</span>

<span class="sd">    For information on this function&#39;s parameters see `SlashContext.add_user_option`.</span>

<span class="sd">    .. note::</span>
<span class="sd">        This may result in `hikari.InteractionMember` or</span>
<span class="sd">        `hikari.users.User` if the user isn&#39;t in the current guild or if this</span>
<span class="sd">        command was executed in a DM channel.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```py</span>
<span class="sd">    @with_user_slash_option(&quot;user&quot;, &quot;user to target.&quot;)</span>
<span class="sd">    @as_slash_command(&quot;command&quot;, &quot;A command&quot;)</span>
<span class="sd">    async def command(self, ctx: tanjun.abc.SlashContext, user: Union[InteractionMember, User]) -&gt; None:</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</span>
<span class="sd">        Decorator callback which adds the option to the command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">add_user_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">pass_as_kwarg</span><span class="o">=</span><span class="n">pass_as_kwarg</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Add a user option to a slash command.</p>

<p>For information on this function's parameters see <code>SlashContext.add_user_option</code>.</p>

<p><em>Note:</em>
This may result in <code>hikari.InteractionMember</code> or
<code>hikari.users.User</code> if the user isn't in the current guild or if this
command was executed in a DM channel.</p>

<h6 id="examples">Examples</h6>

<div class="pdoc-code codehilite"><pre><span></span><code><span class="nd">@with_user_slash_option</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;user to target.&quot;</span><span class="p">)</span>
<span class="nd">@as_slash_command</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;A command&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">tanjun</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">SlashContext</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">InteractionMember</span><span class="p">,</span> <span class="n">User</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>collections.abc.Callable[[_SlashCommandT], _SlashCommandT]</strong>: Decorator callback which adds the option to the command.</li>
</ul>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">${doc.signature}:</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>